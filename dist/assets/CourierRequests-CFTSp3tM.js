import{u as E,c as S,b as U,j as e,d as n}from"./index-FuU3jBZc.js";import{r as u}from"./vendor-react-C_wfuX_s.js";import{q as $,w as A,m as B,t as X,u as j,k as d,p as z}from"./vendor-firebase-Co4MdP0H.js";import{ax as f,ay as F,K as p,e as N,az as w,h as C,f as I}from"./vendor-icons-Dyg7S3Xx.js";const H=()=>{const{user:x}=E(),b=S(),l=U(),[c,i]=u.useState([]),[R,k]=u.useState(!0);u.useEffect(()=>{x&&(async()=>{const s=$(B(n,"hiringRequests"),A("restaurantId","==",x.uid)),t=await X(s);i(t.docs.map(a=>({id:a.id,...a.data()}))),k(!1)})()},[x]);const y=async(s,t)=>{await j(d(n,"hiringRequests",s),{status:t}),i(a=>a.map(r=>r.id===s?{...r,status:t}:r)),l.success(t==="accepted"?"ÿ™ŸÖ ŸÇÿ®ŸàŸÑ ÿßŸÑŸÖŸÜÿØŸàÿ® ‚úÖ":"ÿ™ŸÖ ÿ±ŸÅÿ∂ ÿßŸÑÿ∑ŸÑÿ®")},q=async s=>{await b.confirm(`ŸáŸÑ ÿ™ÿ±ŸäÿØ ŸÅÿµŸÑ ÿßŸÑŸÖŸÜÿØŸàÿ® "${s.courierName}"ÿü`,{title:"ŸÅÿµŸÑ ÿßŸÑŸÖŸÜÿØŸàÿ®",confirmText:"ŸÜÿπŸÖÿå ŸÅÿµŸÑ",cancelText:"ÿ•ŸÑÿ∫ÿßÿ°",dangerous:!0})&&(await j(d(n,"hiringRequests",s.id),{status:"terminated"}),i(a=>a.map(r=>r.id===s.id?{...r,status:"terminated"}:r)),l.success("ÿ™ŸÖ ŸÅÿµŸÑ ÿßŸÑŸÖŸÜÿØŸàÿ®"))},v=async s=>{await b.confirm(`ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ ÿ∑ŸÑÿ® "${s.courierName}" ŸÜŸáÿßÿ¶ŸäÿßŸãÿü`,{title:"ÿ≠ÿ∞ŸÅ ÿßŸÑÿ∑ŸÑÿ®",confirmText:"ŸÜÿπŸÖÿå ÿ≠ÿ∞ŸÅ",cancelText:"ÿ•ŸÑÿ∫ÿßÿ°",dangerous:!0})&&(await z(d(n,"hiringRequests",s.id)),i(a=>a.filter(r=>r.id!==s.id)),l.success("ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ∑ŸÑÿ®"))},T=async s=>{await j(d(n,"hiringRequests",s.id),{status:"accepted"}),i(t=>t.map(a=>a.id===s.id?{...a,status:"accepted"}:a)),l.success("ÿ™ŸÖ ÿ•ÿπÿßÿØÿ© ÿ™ŸÅÿπŸäŸÑ ÿßŸÑŸÖŸÜÿØŸàÿ® ‚úÖ")},D=s=>{switch(s){case"pending":return{text:"ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ÿßŸÑÿ±ÿØ",color:"bg-yellow-100 text-yellow-700",icon:p};case"accepted":return{text:"ŸÖŸÇÿ®ŸàŸÑ ‚úÖ",color:"bg-green-100 text-green-700",icon:I};case"rejected":return{text:"ŸÖÿ±ŸÅŸàÿ∂",color:"bg-red-100 text-red-700",icon:N};case"terminated":return{text:"ŸÖŸÅÿµŸàŸÑ",color:"bg-gray-100 text-gray-700",icon:w};default:return{text:s,color:"bg-gray-100 text-gray-700",icon:p}}};if(R)return e.jsx("div",{className:"text-center py-10",children:"‚è≥ ÿ¨ÿßÿ±Ÿê ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ..."});const o=c.filter(s=>s.status==="accepted"),m=c.filter(s=>s.status==="pending"),h=c.filter(s=>s.status==="terminated"),g=c.filter(s=>s.status==="rejected");return e.jsxs("div",{className:"py-6 space-y-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-primary text-center mb-6",children:"üë• ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸÜÿßÿØŸäÿ®"}),c.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üë•"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ∑ŸÑÿ®ÿßÿ™ ÿ™Ÿàÿ∏ŸäŸÅ"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"ÿ≥Ÿäÿ∏Ÿáÿ± ŸáŸÜÿß ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖŸÜÿßÿØŸäÿ® ŸÑŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ŸÑŸÖÿ∑ÿπŸÖŸÉ"})]}):e.jsxs(e.Fragment,{children:[o.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-green-600 mb-3 flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5"}),"ÿßŸÑŸÖŸÜÿßÿØŸäÿ® ÿßŸÑŸÜÿ¥ÿ∑ŸäŸÜ (",o.length,")"]}),e.jsx("div",{className:"space-y-3",children:o.map(s=>{const t=D(s.status);return e.jsx("div",{className:"bg-white rounded-2xl shadow-card p-4 border-r-4 border-green-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-2xl",children:"üöó"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.courierName}),e.jsxs("div",{className:`text-xs px-2 py-1 rounded-full inline-flex items-center gap-1 ${t.color}`,children:[e.jsx(t.icon,{className:"w-3 h-3"}),t.text]})]})]}),e.jsxs("button",{onClick:()=>q(s),className:`flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl 
                                     hover:bg-red-100 transition-all font-medium`,children:[e.jsx(F,{className:"w-4 h-4"}),"ŸÅÿµŸÑ"]})]})},s.id)})})]}),m.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-yellow-600 mb-3 flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5"}),"ÿ∑ŸÑÿ®ÿßÿ™ ÿ¨ÿØŸäÿØÿ© (",m.length,")"]}),e.jsx("div",{className:"space-y-3",children:m.map(s=>e.jsx("div",{className:"bg-white rounded-2xl shadow-card p-4 border-r-4 border-yellow-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center text-2xl",children:"üë§"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.courierName}),e.jsx("div",{className:"text-xs text-yellow-600",children:"ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ÿßŸÑÿ±ÿØ ‚è≥"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>y(s.id,"accepted"),className:"flex items-center gap-1 px-4 py-2 rounded-xl bg-green-500 text-white hover:bg-green-600 transition-all font-medium",children:[e.jsx(f,{className:"w-4 h-4"}),"ŸÇÿ®ŸàŸÑ"]}),e.jsxs("button",{onClick:()=>y(s.id,"rejected"),className:"flex items-center gap-1 px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600 transition-all font-medium",children:[e.jsx(N,{className:"w-4 h-4"}),"ÿ±ŸÅÿ∂"]})]})]})},s.id))})]}),h.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"ÿßŸÑŸÖŸÅÿµŸàŸÑŸäŸÜ (",h.length,")"]}),e.jsx("div",{className:"space-y-3",children:h.map(s=>e.jsx("div",{className:"bg-gray-50 rounded-2xl shadow p-4 border-r-4 border-gray-400 opacity-75",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-2xl",children:"üë§"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-600",children:s.courierName}),e.jsx("div",{className:"text-xs text-gray-500",children:"ŸÖŸÅÿµŸàŸÑ"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>T(s),className:`flex items-center gap-1 px-3 py-2 bg-green-100 text-green-600 rounded-xl 
                                     hover:bg-green-200 transition-all text-sm font-medium`,children:[e.jsx(f,{className:"w-4 h-4"}),"ÿ•ÿπÿßÿØÿ© ÿ™ŸÅÿπŸäŸÑ"]}),e.jsxs("button",{onClick:()=>v(s),className:`flex items-center gap-1 px-3 py-2 bg-red-100 text-red-600 rounded-xl 
                                     hover:bg-red-200 transition-all text-sm font-medium`,children:[e.jsx(C,{className:"w-4 h-4"}),"ÿ≠ÿ∞ŸÅ"]})]})]})},s.id))})]}),g.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-red-500 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"ŸÖÿ±ŸÅŸàÿ∂ŸäŸÜ (",g.length,")"]}),e.jsx("div",{className:"space-y-3",children:g.map(s=>e.jsx("div",{className:"bg-red-50 rounded-2xl shadow p-4 border-r-4 border-red-400 opacity-75",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-2xl",children:"üë§"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-600",children:s.courierName}),e.jsx("div",{className:"text-xs text-red-500",children:"ŸÖÿ±ŸÅŸàÿ∂"})]})]}),e.jsxs("button",{onClick:()=>v(s),className:`flex items-center gap-1 px-3 py-2 bg-red-100 text-red-600 rounded-xl 
                                   hover:bg-red-200 transition-all text-sm font-medium`,children:[e.jsx(C,{className:"w-4 h-4"}),"ÿ≠ÿ∞ŸÅ"]})]})},s.id))})]})]})]})};export{H as CourierRequests};
