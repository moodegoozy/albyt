const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Landing-DjqvJpI-.js","assets/vendor-react-C_wfuX_s.js","assets/vendor-firebase-Co4MdP0H.js","assets/distance-B2TXkT8a.js","assets/vendor-icons-Dyg7S3Xx.js","assets/RestaurantsPage-D7036drp.js","assets/cities-SgZ78e-Z.js","assets/ramadanConfig-1vuKGRGR.js","assets/MenuPage-B8oXso0V.js","assets/CartPage-CD4H8QQB.js","assets/Login-CTIp5LIn.js","assets/Register-BADhNXyz.js","assets/RegisterChoice-BOllVTkg.js","assets/OwnerRegister-lJE76-QN.js","assets/CustomerLogin-BrOGJh-i.js","assets/PrivacyPolicy-dF-GmHB3.js","assets/TermsPage-B5fFaypx.js","assets/AccountDeleted-DAWS7bfM.js","assets/CheckoutPage-Y-xI_hjN.js","assets/paypal-BnpsEAs5.js","assets/vendor-paypal-CbTd4Kqs.js","assets/TrackOrders-syFaWLhQ.js","assets/RatingModal-D3FyVkKF.js","assets/OrderTimer-D2lI9vxz.js","assets/index-D6ulfRl4.js","assets/ProfileEdit-C5zMaKBl.js","assets/OwnerDashboard-eErm4m3-.js","assets/ManageMenu-BxFPkmXO.js","assets/OrdersAdmin-DgvcbtUC.js","assets/EditRestaurant-CzYs-ggV.js","assets/CourierRequests-CFTSp3tM.js","assets/PackagesPage-DDjdhSqB.js","assets/PromotionPage-s9DIYuzs.js","assets/OffersPage-ChN3dGTg.js","assets/StoriesPage-eb6KxlzC.js","assets/CourierApp-CNukpzmi.js","assets/notificationService-CH0h_Jqx.js","assets/CourierHiring-_bytee_6.js","assets/ChatPage-B3NFPoWc.js","assets/NotificationsPage-B1RxsUA6.js","assets/LiveSupportPage-DGz4x4Pd.js","assets/AdminDashboard-BSQMqBaa.js","assets/AdminRestaurants-BoqEYmu-.js","assets/AdminOrders-Dx-JTVbZ.js","assets/Developer-C16xG_qq.js","assets/SetupDeveloper-CJxRBxRk.js","assets/SupportAdmin-CHRlvFep.js","assets/ProblemsAdmin-CoA9plRx.js","assets/ReportProblem-82LCnDt4.js","assets/ReportsAdmin-CwVn2Dz3.js","assets/AccountingDashboard-CzrvnBF1.js","assets/OwnerWalletPage-CJeEH193.js","assets/CourierWalletPage-DyMZ-8ak.js","assets/DebugOrders-CmlbcMSR.js"])))=>i.map(i=>d[i]);
import{r as s,a as _e,u as he,b as X,L as T,N as Z,c as Ne,d as m,R as ke,B as Ee}from"./vendor-react-C_wfuX_s.js";import{g as fe,a as Ce,i as Pe,b as Le,c as Re,d as Ae,e as Ie,f as Oe,h as De,o as Te,j as $,k as D,u as J,s as Se,l as ze,q as Ve,w as te,m as qe,n as Fe,p as Me,r as Be}from"./vendor-firebase-Co4MdP0H.js";import{A as Ue,S as se,U as re,B as ne,H as ae,X as G,M as $e,a as He,P as H,b as oe,T as le,c as ge,C as pe,I as ie,d as F,e as We,f as K,g as Je,h as Ge,i as ce,F as de,j as Ke,L as W,N as Ye,k as Qe}from"./vendor-icons-Dyg7S3Xx.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(n){if(n.ep)return;n.ep=!0;const u=a(n);fetch(n.href,u)}})();var je={exports:{}},U={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe=s,Ze=Symbol.for("react.element"),et=Symbol.for("react.fragment"),tt=Object.prototype.hasOwnProperty,st=Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rt={key:!0,ref:!0,__self:!0,__source:!0};function we(t,r,a){var o,n={},u=null,d=null;a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),r.ref!==void 0&&(d=r.ref);for(o in r)tt.call(r,o)&&!rt.hasOwnProperty(o)&&(n[o]=r[o]);if(t&&t.defaultProps)for(o in r=t.defaultProps,r)n[o]===void 0&&(n[o]=r[o]);return{$$typeof:Ze,type:t,key:u,ref:d,props:n,_owner:st.current}}U.Fragment=et;U.jsx=we;U.jsxs=we;je.exports=U;var e=je.exports,Y={},me=_e;Y.createRoot=me.createRoot,Y.hydrateRoot=me.hydrateRoot;const nt="modulepreload",at=function(t){return"/"+t},xe={},x=function(r,a,o){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),c=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));n=Promise.allSettled(a.map(l=>{if(l=at(l),l in xe)return;xe[l]=!0;const i=l.endsWith(".css"),h=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=i?"stylesheet":nt,i||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),i)return new Promise((_,C)=>{f.addEventListener("load",_),f.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${l}`)))})}))}function u(d){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=d,window.dispatchEvent(c),!c.defaultPrevented)throw d}return n.then(d=>{for(const c of d||[])c.status==="rejected"&&u(c.reason);return r().catch(u)})},ot={apiKey:"AIzaSyC1iM3g3gGfu23GKLpDRQplBuHidPniFIk",authDomain:"albayt-sofra.firebaseapp.com",projectId:"albayt-sofra",storageBucket:"albayt-sofra.firebasestorage.app",messagingSenderId:"895117143740",appId:"1:895117143740:web:239cfccc93d101c1f36ab9",measurementId:"G-FK3746ERH8"},M=fe().length?Ce():Pe(ot),Q=fe().length>0?Le(M):Re(M,{persistence:[Oe,De]}),I=Ae(M),js=Ie(M);let B=null,q="default";async function lt(){try{return"serviceWorker"in navigator?"Notification"in window?(B=await navigator.serviceWorker.register("/sw.js"),console.log("‚úÖ Service Worker registered:",B),q=await Notification.requestPermission(),q==="granted"?(console.log("‚úÖ ÿ™ŸÖ ŸÖŸÜÿ≠ ÿ•ÿ∞ŸÜ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™"),!0):(console.warn("‚ö†Ô∏è ÿ™ŸÖ ÿ±ŸÅÿ∂ ÿ•ÿ∞ŸÜ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™:",q),!1)):(console.warn("‚ö†Ô∏è ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÑÿß ŸäÿØÿπŸÖ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™"),!1):(console.warn("‚ö†Ô∏è ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÑÿß ŸäÿØÿπŸÖ Service Worker"),!1)}catch(t){return console.error("‚ùå ŸÅÿ¥ŸÑ ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™:",t),!1}}async function it(){if(!("Notification"in window))return"denied";if(Notification.permission==="granted")return"granted";const t=await Notification.requestPermission();return q=t,t}async function ws(t,r,a){try{if(Notification.permission!=="granted"&&(console.warn("‚ö†Ô∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ•ÿ∞ŸÜ ŸÑŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™"),await it()!=="granted"))return!1;if(B)return await B.showNotification(t,{body:r,icon:(a==null?void 0:a.icon)||"/icon-192.png",badge:"/icon-192.png",tag:(a==null?void 0:a.tag)||"notification-"+Date.now(),data:{url:(a==null?void 0:a.url)||"/"},requireInteraction:!0,dir:"rtl",lang:"ar"}),!0;const o=new Notification(t,{body:r,icon:(a==null?void 0:a.icon)||"/icon-192.png",tag:(a==null?void 0:a.tag)||"notification-"+Date.now(),dir:"rtl",lang:"ar",requireInteraction:!0});return o.onclick=()=>{window.focus(),a!=null&&a.url&&(window.location.href=a.url),o.close()},!0}catch(o){return console.error("‚ùå ŸÅÿ¥ŸÑ ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±:",o),!1}}const z="broast_session_location",be=s.createContext({user:null,role:null,loading:!0,logout:async()=>{},userLocation:null,locationRequired:!1,refreshUserData:async()=>{}}),ct=({children:t})=>{const[r,a]=s.useState(null),[o,n]=s.useState(null),[u,d]=s.useState(!0),[c,l]=s.useState(null),[i,h]=s.useState(!1),f=async()=>{if(!r)return;const C=await $(D(I,"users",r.uid));if(C.exists()){const v=C.data(),O=v==null?void 0:v.role,b=v==null?void 0:v.location,y=v==null?void 0:v.savedLocation;if(O==="customer"||O==="admin"){const P=y?{lat:y.lat,lng:y.lng}:b||null;l(P),P&&sessionStorage.setItem(z,JSON.stringify(P))}else l(b||null),b&&sessionStorage.setItem(z,JSON.stringify(b));h(!1)}};s.useEffect(()=>{const C=Te(Q,async v=>{if(a(v),v){const O=await $(D(I,"users",v.uid)),b=O.data(),y=O.exists()?b==null?void 0:b.role:null;n(y);const P=b==null?void 0:b.location,g=b==null?void 0:b.savedLocation,L=sessionStorage.getItem(z),R=L?JSON.parse(L):null;let A=null;if(y==="customer"||y==="admin"?A=g?{lat:g.lat,lng:g.lng}:R||P||null:A=R||P||null,l(A),y==="customer"||y==="admin"){const k=!!g||!!R;!k&&navigator.geolocation?navigator.geolocation.getCurrentPosition(async E=>{const N={lat:E.coords.latitude,lng:E.coords.longitude,address:"ŸÖŸàŸÇÿπŸä ÿßŸÑÿ≠ÿßŸÑŸä (ÿ™ŸÑŸÇÿßÿ¶Ÿä)"};try{await J(D(I,"users",v.uid),{savedLocation:N,location:{lat:N.lat,lng:N.lng}}),l({lat:N.lat,lng:N.lng}),sessionStorage.setItem(z,JSON.stringify({lat:N.lat,lng:N.lng})),h(!1)}catch(V){console.warn("ÿ™ÿπÿ∞ÿ± ÿ≠ŸÅÿ∏ ÿßŸÑŸÖŸàŸÇÿπ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä:",V)}},E=>{console.warn("ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã:",E),h(!0)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):h(!k),g&&!R&&sessionStorage.setItem(z,JSON.stringify({lat:g.lat,lng:g.lng}))}else h(y==="owner"||y==="courier"?!P:!1);if(y==="owner")try{const k=D(I,"restaurants",v.uid);(await $(k)).exists()||await Se(k,{name:(b==null?void 0:b.restaurantName)||(b==null?void 0:b.name)||"ŸÖÿ∑ÿπŸÖ ÿ¨ÿØŸäÿØ",ownerId:v.uid,email:(b==null?void 0:b.email)||v.email||"",phone:"",city:"",location:"",logoUrl:""},{merge:!0})}catch(k){console.warn("ÿ™ÿπÿ∞ÿ± ÿ•ŸÜÿ¥ÿßÿ° ŸÖÿ≥ÿ™ŸÜÿØ ÿßŸÑŸÖÿ∑ÿπŸÖ ŸÑŸÑŸÖÿßŸÑŸÉ",k)}try{await lt(),console.log("‚úÖ ÿ™ŸÖ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™")}catch(k){console.warn("‚ö†Ô∏è ÿ™ÿπÿ∞ÿ± ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™:",k)}}else n(null),l(null),h(!1);d(!1)});return()=>C()},[]);const _=async()=>{await ze(Q)};return e.jsx(be.Provider,{value:{user:r,role:o,loading:u,logout:_,userLocation:c,locationRequired:i,refreshUserData:f},children:t})},S=()=>s.useContext(be),w=({to:t,label:r,icon:a,onClick:o})=>{const{pathname:n}=he(),u=n===t;return e.jsxs(T,{to:t,onClick:o,className:"flex items-center gap-2 px-4 py-3 sm:py-2.5 rounded-2xl text-sm font-bold transition-all duration-300 "+(u?"bg-white text-sky-600 shadow-lg shadow-sky-200/50 scale-105":"text-white/90 hover:text-white hover:bg-white/20"),children:[a,e.jsx("span",{children:r})]})},dt=()=>{const{user:t,role:r,logout:a}=S(),[o,n]=s.useState(!1),[u,d]=s.useState(0),c=he(),l=X(),i=c.pathname==="/";return s.useEffect(()=>{n(!1)},[c.pathname]),s.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[o]),s.useEffect(()=>{if(!(t!=null&&t.uid)){d(0);return}const h=Ve(qe(I,"notifications"),te("recipientId","==",t.uid),te("read","==",!1)),f=Fe(h,_=>{d(_.size)},_=>{console.warn("Notifications listener error:",_),d(0)});return()=>f()},[t==null?void 0:t.uid]),e.jsxs("header",{className:"bg-gradient-to-r from-sky-600 via-sky-500 to-sky-600 shadow-xl shadow-sky-200/30 relative z-30",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-3 sm:py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!i&&e.jsx("button",{onClick:()=>l(-1),className:"w-9 h-9 sm:w-10 sm:h-10 bg-white/20 hover:bg-white/30 rounded-xl flex items-center justify-center text-white transition-all","aria-label":"ÿ±ÿ¨Ÿàÿπ",children:e.jsx(Ue,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:()=>window.location.href="/",className:"text-xl sm:text-2xl font-black text-white flex items-center gap-2 sm:gap-3 hover:scale-105 transition-transform drop-shadow-lg",children:[e.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-white rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-xl sm:text-2xl",children:"üçó"})}),e.jsx("span",{className:"text-lg sm:text-2xl",children:"ÿ≥ŸÅÿ±ÿ© ÿßŸÑÿ®Ÿäÿ™"})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-1 lg:gap-2",children:[e.jsx(w,{to:"/restaurants",label:"ÿßŸÑŸÖÿ∑ÿßÿπŸÖ",icon:e.jsx(se,{className:"w-4 h-4"})}),r==="customer"&&e.jsxs(e.Fragment,{children:[e.jsx(w,{to:"/cart",label:"üõí ÿßŸÑÿ≥ŸÑÿ©"}),e.jsx(w,{to:"/orders",label:"ÿ∑ŸÑÿ®ÿßÿ™Ÿä"}),e.jsx(w,{to:"/profile",label:"ÿ®ŸäÿßŸÜÿßÿ™Ÿä",icon:e.jsx(re,{className:"w-4 h-4"})})]}),r==="owner"&&e.jsxs(e.Fragment,{children:[e.jsx(w,{to:"/owner",label:"ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿ∑ÿπŸÖ"}),e.jsx(w,{to:"/owner/orders",label:"ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ∑ÿπŸÖ"}),e.jsx(w,{to:"/owner/courier-requests",label:"ÿßŸÑŸÖŸÜÿØŸàÿ®ŸäŸÜ"})]}),r==="courier"&&e.jsxs(e.Fragment,{children:[e.jsx(w,{to:"/courier",label:"Ÿàÿßÿ¨Ÿáÿ© ÿßŸÑŸÖŸÜÿØŸàÿ®"}),e.jsx(w,{to:"/courier/hiring",label:"ÿßŸÑÿ™Ÿàÿ∏ŸäŸÅ"})]}),r==="admin"&&e.jsx(w,{to:"/admin",label:"ŸÑŸàÿ≠ÿ© ÿßŸÑÿ•ÿØÿßÿ±ÿ©"}),r==="developer"&&e.jsx(w,{to:"/developer",label:"ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿ∑Ÿàÿ±"}),t&&e.jsxs(T,{to:"/notifications",className:"relative p-2.5 rounded-xl bg-white/20 hover:bg-white/30 transition text-white",title:"ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™",children:[e.jsx(ne,{className:"w-5 h-5"}),u>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold animate-pulse",children:u>9?"9+":u})]}),t&&e.jsx(T,{to:"/support",className:"p-2.5 rounded-xl bg-white/20 hover:bg-white/30 transition text-white",title:"ÿßŸÑÿØÿπŸÖ ÿßŸÑŸÅŸÜŸä / ÿ¥ŸÉŸàŸâ",children:e.jsx(ae,{className:"w-5 h-5"})}),t?e.jsx("button",{onClick:a,className:"px-5 py-2.5 rounded-2xl text-sm font-bold text-sky-600 bg-white shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:"ÿÆÿ±Ÿàÿ¨"}):e.jsx(w,{to:"/login",label:"ÿØÿÆŸàŸÑ"})]}),e.jsx("button",{className:"md:hidden p-2.5 rounded-2xl bg-white text-sky-600 shadow-lg hover:shadow-xl transition",onClick:()=>n(!o),children:o?e.jsx(G,{className:"w-6 h-6"}):e.jsx($e,{className:"w-6 h-6"})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden backdrop-blur-sm",onClick:()=>n(!1)}),e.jsxs("div",{className:`
        fixed top-0 right-0 h-full w-72 max-w-[80vw] z-50 md:hidden transform transition-transform duration-300 ease-out shadow-2xl
        ${o?"translate-x-0":"translate-x-full"}
      `,style:{background:"linear-gradient(to bottom, #0ea5e9, #0369a1)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[e.jsx("span",{className:"text-white font-bold text-lg",children:"ÿßŸÑŸÇÿßÿ¶ŸÖÿ©"}),e.jsx("button",{onClick:()=>n(!1),className:"p-2 rounded-xl bg-white/20 hover:bg-white/30 transition",children:e.jsx(G,{className:"w-5 h-5 text-white"})})]}),e.jsxs("div",{className:"p-4 flex flex-col gap-2 overflow-y-auto max-h-[calc(100vh-80px)]",children:[e.jsx(w,{to:"/restaurants",label:"ÿßŸÑŸÖÿ∑ÿßÿπŸÖ",icon:e.jsx(se,{className:"w-5 h-5"}),onClick:()=>n(!1)}),r==="customer"&&e.jsxs(e.Fragment,{children:[e.jsx(w,{to:"/cart",label:"ÿßŸÑÿ≥ŸÑÿ©",icon:e.jsx(He,{className:"w-5 h-5"}),onClick:()=>n(!1)}),e.jsx(w,{to:"/orders",label:"ÿ∑ŸÑÿ®ÿßÿ™Ÿä",icon:e.jsx(H,{className:"w-5 h-5"}),onClick:()=>n(!1)}),e.jsx(w,{to:"/profile",label:"ÿ®ŸäÿßŸÜÿßÿ™Ÿä",icon:e.jsx(re,{className:"w-5 h-5"}),onClick:()=>n(!1)})]}),r==="owner"&&e.jsxs(e.Fragment,{children:[e.jsx(w,{to:"/owner",label:"ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿ∑ÿπŸÖ",icon:e.jsx(oe,{className:"w-5 h-5"}),onClick:()=>n(!1)}),e.jsx(w,{to:"/owner/orders",label:"ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ∑ÿπŸÖ",icon:e.jsx(H,{className:"w-5 h-5"}),onClick:()=>n(!1)}),e.jsx(w,{to:"/owner/courier-requests",label:"ÿßŸÑŸÖŸÜÿØŸàÿ®ŸäŸÜ",icon:e.jsx(le,{className:"w-5 h-5"}),onClick:()=>n(!1)})]}),r==="courier"&&e.jsxs(e.Fragment,{children:[e.jsx(w,{to:"/courier",label:"Ÿàÿßÿ¨Ÿáÿ© ÿßŸÑŸÖŸÜÿØŸàÿ®",icon:e.jsx(le,{className:"w-5 h-5"}),onClick:()=>n(!1)}),e.jsx(w,{to:"/courier/hiring",label:"ÿßŸÑÿ™Ÿàÿ∏ŸäŸÅ",icon:e.jsx(H,{className:"w-5 h-5"}),onClick:()=>n(!1)})]}),r==="admin"&&e.jsx(w,{to:"/admin",label:"ŸÑŸàÿ≠ÿ© ÿßŸÑÿ•ÿØÿßÿ±ÿ©",icon:e.jsx(ge,{className:"w-5 h-5"}),onClick:()=>n(!1)}),r==="developer"&&e.jsx(w,{to:"/developer",label:"ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿ∑Ÿàÿ±",icon:e.jsx(pe,{className:"w-5 h-5"}),onClick:()=>n(!1)}),t&&e.jsx(w,{to:"/notifications",label:`ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ${u>0?`(${u})`:""}`,icon:e.jsx(ne,{className:"w-5 h-5"}),onClick:()=>n(!1)}),t&&e.jsx(w,{to:"/support",label:"ÿßŸÑÿØÿπŸÖ ÿßŸÑŸÅŸÜŸä / ÿ¥ŸÉŸàŸâ",icon:e.jsx(ae,{className:"w-5 h-5"}),onClick:()=>n(!1)}),e.jsx("div",{className:"h-px bg-white/20 my-2"}),t?e.jsx("button",{onClick:()=>{a(),n(!1)},className:"w-full mt-2 px-5 py-3 rounded-2xl text-sm font-bold text-sky-600 bg-white shadow-lg hover:scale-105 transition-all duration-300 text-center",children:"üö™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨"}):e.jsx(w,{to:"/login",label:"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",icon:e.jsx(oe,{className:"w-5 h-5"}),onClick:()=>n(!1)})]})]})]})},ve=s.createContext(null),mt=()=>{const t=s.useContext(ve);if(!t)throw new Error("useDialog must be used within DialogProvider");return t},xt=({children:t})=>{const[r,a]=s.useState({isOpen:!1,message:"",type:"confirm"}),o=s.useCallback(l=>new Promise(i=>{a({...l,isOpen:!0,resolve:i})}),[]),n=s.useCallback(l=>{r.resolve&&r.resolve(l),a(i=>({...i,isOpen:!1}))},[r.resolve]),u=s.useCallback(async()=>{r.onConfirm&&await r.onConfirm(),n(!0)},[r.onConfirm,n]),d=s.useCallback(()=>{r.onCancel&&r.onCancel(),n(!1)},[r.onCancel,n]),c=s.useMemo(()=>({confirm:(l,i={})=>o({message:l,type:"confirm",title:i.title||"ÿ™ÿ£ŸÉŸäÿØ",confirmText:i.confirmText||"ÿ™ÿ£ŸÉŸäÿØ",cancelText:i.cancelText||"ÿ•ŸÑÿ∫ÿßÿ°",...i}),alert:(l,i={})=>o({message:l,type:"alert",title:i.title||"ÿ™ŸÜÿ®ŸäŸá",confirmText:i.confirmText||"ÿ≠ÿ≥ŸÜÿßŸã",...i}).then(()=>{}),success:(l,i={})=>o({message:l,type:"success",title:i.title||"ÿ™ŸÖ ÿ®ŸÜÿ¨ÿßÿ≠",confirmText:i.confirmText||"ÿ≠ÿ≥ŸÜÿßŸã",...i}).then(()=>{}),error:(l,i={})=>o({message:l,type:"error",title:i.title||"ÿÆÿ∑ÿ£",confirmText:i.confirmText||"ÿ≠ÿ≥ŸÜÿßŸã",...i}).then(()=>{}),warning:(l,i={})=>o({message:l,type:"warning",title:i.title||"ÿ™ÿ≠ÿ∞Ÿäÿ±",confirmText:i.confirmText||"ÿ≠ÿ≥ŸÜÿßŸã",...i}).then(()=>{}),info:(l,i={})=>o({message:l,type:"info",title:i.title||"ŸÖÿπŸÑŸàŸÖÿ©",confirmText:i.confirmText||"ÿ≠ÿ≥ŸÜÿßŸã",...i}).then(()=>{})}),[o]);return e.jsxs(ve.Provider,{value:c,children:[t,e.jsx(ut,{...r,onConfirm:u,onCancel:d})]})},ut=({isOpen:t,title:r,message:a,type:o="confirm",confirmText:n="ÿ™ÿ£ŸÉŸäÿØ",cancelText:u="ÿ•ŸÑÿ∫ÿßÿ°",dangerous:d,onConfirm:c,onCancel:l})=>{if(!t)return null;const h={confirm:{icon:e.jsx(ie,{className:"w-8 h-8"}),iconBg:"bg-sky-100",iconColor:"text-sky-600",buttonColor:d?"bg-red-600 hover:bg-red-700":"bg-sky-600 hover:bg-sky-700"},alert:{icon:e.jsx(F,{className:"w-8 h-8"}),iconBg:"bg-amber-100",iconColor:"text-amber-600",buttonColor:"bg-amber-600 hover:bg-amber-700"},success:{icon:e.jsx(K,{className:"w-8 h-8"}),iconBg:"bg-green-100",iconColor:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700"},error:{icon:e.jsx(We,{className:"w-8 h-8"}),iconBg:"bg-red-100",iconColor:"text-red-600",buttonColor:"bg-red-600 hover:bg-red-700"},warning:{icon:e.jsx(F,{className:"w-8 h-8"}),iconBg:"bg-orange-100",iconColor:"text-orange-600",buttonColor:"bg-orange-600 hover:bg-orange-700"},info:{icon:e.jsx(ie,{className:"w-8 h-8"}),iconBg:"bg-blue-100",iconColor:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700"}}[o],f=o==="confirm";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] animate-fadeIn",onClick:l}),e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm pointer-events-auto animate-scaleIn overflow-hidden",onClick:_=>_.stopPropagation(),children:[e.jsxs("div",{className:"relative p-6 pb-0",children:[e.jsx("button",{onClick:l,className:"absolute top-4 left-4 p-1.5 rounded-lg hover:bg-gray-100 transition text-gray-400 hover:text-gray-600",children:e.jsx(G,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:`w-16 h-16 rounded-full ${h.iconBg} ${h.iconColor} flex items-center justify-center`,children:h.icon})}),e.jsx("h3",{className:"text-xl font-bold text-center text-gray-900",children:r})]}),e.jsx("div",{className:"p-6 pt-3",children:e.jsx("p",{className:"text-center text-gray-600 leading-relaxed",children:a})}),e.jsxs("div",{className:`p-4 pt-0 flex gap-3 ${f?"flex-row-reverse":"justify-center"}`,children:[e.jsx("button",{onClick:c,className:`flex-1 py-3 px-6 rounded-xl font-bold text-white transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] ${h.buttonColor}`,children:n}),f&&e.jsx("button",{onClick:l,className:"flex-1 py-3 px-6 rounded-xl font-bold text-gray-700 bg-gray-100 hover:bg-gray-200 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",children:u})]})]})}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scaleIn {
          from { opacity: 0; transform: scale(0.9); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        .animate-scaleIn {
          animation: scaleIn 0.2s ease-out;
        }
      `})]})},ht=()=>{const{user:t}=S(),r=X(),a=mt(),o=async()=>{if(!(!t||!await a.confirm("Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ° ŸÑÿß ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜŸá. ÿ≥Ÿäÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿ®ŸäÿßŸÜÿßÿ™ŸÉ ŸÜŸáÿßÿ¶ŸäŸãÿß.",{title:"ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≠ÿ≥ÿßÿ® ŸÜŸáÿßÿ¶ŸäŸãÿßÿü",dangerous:!0,confirmText:"ŸÜÿπŸÖÿå ÿßÿ≠ÿ∞ŸÅ ÿ≠ÿ≥ÿßÿ®Ÿä",cancelText:"ÿ•ŸÑÿ∫ÿßÿ°"})))try{await Me(D(I,"users",t.uid)),await Be(Q.currentUser),a.success("ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ≠ÿ≥ÿßÿ®ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠"),r("/account-deleted")}catch(u){console.error("Error deleting account:",u),a.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ≠ÿ∞ŸÅ ÿßŸÑÿ≠ÿ≥ÿßÿ®. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇŸãÿß.")}};return e.jsx("footer",{className:"bg-gradient-to-b from-sky-600 to-sky-700 text-white text-center py-8 sm:py-10 mt-12 sm:mt-16 shadow-[0_-10px_40px_rgba(14,165,233,0.2)]",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col items-center gap-4 sm:gap-6 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-2xl sm:text-3xl",children:"üçó"})}),e.jsx("span",{className:"text-xl sm:text-2xl font-black",children:"ÿ≥ŸÅÿ±ÿ© ÿßŸÑÿ®Ÿäÿ™"})]}),e.jsxs("p",{className:"text-xs sm:text-sm md:text-base font-medium text-sky-100 flex items-center gap-2",children:["ÿµŸÜÿπ ÿ®ŸÄ ",e.jsx(Je,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-400 fill-red-400"})," ŸÅŸä ÿßŸÑÿ≥ÿπŸàÿØŸäÿ© ¬© ",new Date().getFullYear()]}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 sm:gap-3",children:[e.jsxs(T,{to:"/privacy-policy",className:"flex items-center gap-1.5 sm:gap-2 bg-white/20 backdrop-blur-sm text-white font-semibold px-3 sm:px-5 py-2 sm:py-2.5 rounded-xl sm:rounded-2xl hover:bg-white/30 hover:scale-105 transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(ge,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"ÿßŸÑÿÆÿµŸàÿµŸäÿ©"]}),t&&e.jsxs(T,{to:"/report-problem",className:"flex items-center gap-1.5 sm:gap-2 bg-amber-500/80 backdrop-blur-sm text-white font-semibold px-3 sm:px-5 py-2 sm:py-2.5 rounded-xl sm:rounded-2xl hover:bg-amber-500 hover:scale-105 transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(F,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"ÿ•ÿ®ŸÑÿßÿ∫ ÿπŸÜ ŸÖÿ¥ŸÉŸÑÿ©"]}),e.jsxs(T,{to:"/developer",className:"flex items-center gap-1.5 sm:gap-2 bg-white/20 backdrop-blur-sm text-white font-semibold px-3 sm:px-5 py-2 sm:py-2.5 rounded-xl sm:rounded-2xl hover:bg-white/30 hover:scale-105 transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(pe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"ÿßŸÑŸÖÿ∑Ÿàÿ±"]}),t&&e.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 sm:gap-2 bg-red-500/80 backdrop-blur-sm text-white font-semibold px-3 sm:px-5 py-2 sm:py-2.5 rounded-xl sm:rounded-2xl hover:bg-red-500 hover:scale-105 transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(Ge,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"ÿ≠ÿ∞ŸÅ ÿ≠ÿ≥ÿßÿ®Ÿä"]})]}),e.jsx("div",{className:"w-24 sm:w-32 h-1 bg-white/20 rounded-full"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-sky-200",children:"ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ© ŸÑŸÄ ÿ≥ŸÅÿ±ÿ© ÿßŸÑÿ®Ÿäÿ™"})]})})},ft=()=>e.jsx("div",{className:"w-full bg-gradient-to-r from-sky-500 via-sky-400 to-sky-500 text-white py-2 sm:py-3 overflow-hidden shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2 px-2",children:[e.jsx(ce,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white animate-pulse flex-shrink-0"}),e.jsx("div",{className:"marquee whitespace-nowrap font-bold text-xs sm:text-sm tracking-wide",children:"‚ú® ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ≥ŸÅÿ±ÿ© ÿßŸÑÿ®Ÿäÿ™ ‚Äî ÿ£ÿ¥ŸáŸâ ÿßŸÑÿ£ŸÉŸÑÿßÿ™ ÿ™ŸàÿµŸÑŸÉ ŸÑŸäŸÜ ÿ®ÿßÿ® ÿ®Ÿäÿ™ŸÉ! üöóüí®"}),e.jsx(ce,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white animate-pulse flex-shrink-0"})]})}),gt=()=>e.jsx("div",{className:"w-full bg-gradient-to-r from-amber-500 via-orange-500 to-amber-500 text-white py-1.5 overflow-hidden",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-white animate-pulse flex-shrink-0"}),e.jsx("div",{className:"beta-marquee whitespace-nowrap font-bold text-xs tracking-wide",children:"üß™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ŸÅŸä ÿßŸÑŸÖÿ±ÿ≠ŸÑÿ© ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ© (Beta) ‚Äî ŸÜÿπŸÖŸÑ ÿπŸÑŸâ ÿ™ÿ≠ÿ≥ŸäŸÜŸá ÿ®ÿßÿ≥ÿ™ŸÖÿ±ÿßÿ±! üöÄ"}),e.jsx(de,{className:"w-4 h-4 text-white animate-pulse flex-shrink-0"})]})}),pt=({onLocationSaved:t})=>{const{user:r,role:a}=S(),[o,n]=s.useState(null),[u,d]=s.useState(!1),[c,l]=s.useState(!1),[i,h]=s.useState(null),[f,_]=s.useState(!1),[C,v]=s.useState(!1),O={lat:24.7136,lng:46.6753},b=s.useCallback(()=>{if(!navigator.geolocation){h("ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÑÿß ŸäÿØÿπŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ");return}l(!0),h(null),navigator.geolocation.getCurrentPosition(g=>{const L={lat:g.coords.latitude,lng:g.coords.longitude};n(L),l(!1),window.locationRequiredMap&&(window.locationRequiredMap.setView([L.lat,L.lng],17),window.locationRequiredMarker&&window.locationRequiredMarker.setLatLng([L.lat,L.lng]))},g=>{l(!1),g.code===1?h("ÿ™ŸÖ ÿ±ŸÅÿ∂ ÿ•ÿ∞ŸÜ ÿßŸÑŸÖŸàŸÇÿπ. ŸÅÿπŸëŸÑ ÿßŸÑŸÖŸàŸÇÿπ ŸÖŸÜ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖÿ™ÿµŸÅÿ≠"):g.code===2?h("ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ŸÅÿπŸäŸÑ GPS"):h("ÿßŸÜÿ™Ÿáÿ™ ŸÖŸáŸÑÿ© ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ. ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[]);s.useEffect(()=>{if(!document.getElementById("leaflet-css")){const g=document.createElement("link");g.id="leaflet-css",g.rel="stylesheet",g.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(g)}if(window.L)_(!0);else{const g=document.createElement("script");g.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",g.onload=()=>_(!0),document.body.appendChild(g)}},[]),s.useEffect(()=>{if(!f||!window.L)return;const g=window.L;if(!document.getElementById("location-required-map"))return;window.locationRequiredMap&&window.locationRequiredMap.remove();const R=o||O,A=g.map("location-required-map",{zoomControl:!0,attributionControl:!1}).setView([R.lat,R.lng],12);g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(A);const k=g.divIcon({className:"custom-marker",html:`
        <div style="
          width: 50px; 
          height: 50px; 
          background: linear-gradient(135deg, #0EA5E9, #0284C7);
          border-radius: 50% 50% 50% 0;
          transform: rotate(-45deg);
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 20px rgba(14, 165, 233, 0.5);
          border: 3px solid white;
        ">
          <div style="transform: rotate(45deg); color: white; font-size: 20px;">üìç</div>
        </div>
      `,iconSize:[50,50],iconAnchor:[25,50]}),E=g.marker([R.lat,R.lng],{icon:k,draggable:!0}).addTo(A);return E.on("dragend",()=>{const N=E.getLatLng();n({lat:N.lat,lng:N.lng})}),A.on("click",N=>{const{lat:V,lng:ee}=N.latlng;n({lat:V,lng:ee}),E.setLatLng([V,ee])}),window.locationRequiredMap=A,window.locationRequiredMarker=E,()=>{window.locationRequiredMap&&(window.locationRequiredMap.remove(),window.locationRequiredMap=null,window.locationRequiredMarker=null)}},[f]);const y=async()=>{if(!(!o||!r)){v(!0);try{if(await J(D(I,"users",r.uid),{location:o,locationUpdatedAt:new Date}),a==="owner")try{await J(D(I,"restaurants",r.uid),{geoLocation:o,locationUpdatedAt:new Date})}catch(g){console.warn("ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ÿØŸäÿ´ ŸÖŸàŸÇÿπ ÿßŸÑŸÖÿ∑ÿπŸÖ:",g)}t()}catch{h("ŸÅÿ¥ŸÑ ŸÅŸä ÿ≠ŸÅÿ∏ ÿßŸÑŸÖŸàŸÇÿπ. ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ")}finally{v(!1)}}},P=()=>{switch(a){case"owner":return"ŸÖÿ∑ÿπŸÖŸÉ";case"courier":return"ŸÖŸàŸÇÿπŸÉ ÿßŸÑÿ≠ÿßŸÑŸä";default:return"ŸÖŸàŸÇÿπŸÉ"}};return e.jsx("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-sky-50 via-white to-sky-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-sky-600 p-6 text-white text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ke,{className:"w-10 h-10"})}),e.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["ÿ≠ÿØÿØ ŸÖŸàŸÇÿπ ",P()]}),e.jsx("p",{className:"text-sky-100 text-sm",children:a==="owner"?"ŸÑÿπÿ±ÿ∂ ŸÖÿ∑ÿπŸÖŸÉ ŸÑŸÑÿπŸÖŸÑÿßÿ° ÿßŸÑŸÇÿ±Ÿäÿ®ŸäŸÜ ŸÖŸÜŸÉ":"ŸÑŸÜÿπÿ±ÿ∂ ŸÑŸÉ ÿßŸÑŸÖÿ∑ÿßÿπŸÖ ÿßŸÑŸÇÿ±Ÿäÿ®ÿ© ŸÖŸÜŸÉ (15 ŸÉŸÖ)"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[i&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 flex items-center gap-3 text-red-700",children:[e.jsx(F,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:i})]}),e.jsx("button",{onClick:b,disabled:c,className:"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold p-4 rounded-xl shadow-lg transition disabled:opacity-50",children:c?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-5 h-5 animate-spin"}),"ÿ¨ÿßÿ±Ÿê ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàŸÇÿπŸÉ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-5 h-5"}),"üìç ÿ≠ÿØÿØ ŸÖŸàŸÇÿπŸä ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã"]})}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2 text-center",children:"ÿ£Ÿà ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© ŸÑÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ ŸäÿØŸàŸäÿßŸã"}),e.jsx("div",{id:"location-required-map",className:"h-64 rounded-xl overflow-hidden border-2 border-gray-200",style:{background:"#f0f9ff"}}),!f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-sky-50",children:e.jsx(W,{className:"w-8 h-8 animate-spin text-sky-500"})})]}),o&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 flex items-center gap-3 text-green-700",children:[e.jsx(K,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold",children:"ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ ‚úì"}),e.jsxs("p",{className:"text-xs text-green-600",children:[o.lat.toFixed(6),", ",o.lng.toFixed(6)]})]})]}),e.jsx("button",{onClick:y,disabled:!o||C,className:"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 text-white font-bold p-4 rounded-xl shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-5 h-5 animate-spin"}),"ÿ¨ÿßÿ±Ÿê ÿßŸÑÿ≠ŸÅÿ∏..."]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-5 h-5"}),"ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ ŸàÿßŸÑŸÖÿ™ÿßÿ®ÿπÿ©"]})}),e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"üí° ŸäŸÖŸÉŸÜŸÉ ÿ™ÿ∫ŸäŸäÿ± ŸÖŸàŸÇÿπŸÉ ŸÑÿßÿ≠ŸÇÿßŸã ŸÖŸÜ ÿµŸÅÿ≠ÿ© ÿßŸÑÿ®ÿ±ŸàŸÅÿßŸäŸÑ"})]})]})})},p=({children:t})=>{const{user:r,loading:a}=S();return a?e.jsx("div",{className:"p-8 text-center",children:"ÿ¨ÿßÿ±Ÿê ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ..."}):r?e.jsx(e.Fragment,{children:t}):e.jsx(Z,{to:"/login",replace:!0})},j=({allow:t,children:r})=>{const{role:a,loading:o}=S();return o?e.jsx("div",{className:"p-8 text-center",children:"ÿ¨ÿßÿ±Ÿê ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ..."}):!a||!t.includes(a)?e.jsx(Z,{to:"/",replace:!0}):e.jsx(e.Fragment,{children:r})},ue="broast_cart";function jt(){const[t,r]=s.useState(()=>{try{const c=localStorage.getItem(ue);return c?JSON.parse(c):[]}catch{return[]}});s.useEffect(()=>{localStorage.setItem(ue,JSON.stringify(t))},[t]);const a=s.useCallback((c,l=1)=>{r(i=>{const h=i.findIndex(f=>f.id===c.id);if(h>=0){const f=[...i];return f[h]={...f[h],qty:f[h].qty+l,ownerId:c.ownerId??f[h].ownerId},f}return[...i,{...c,qty:l}]})},[]),o=s.useCallback(c=>r(l=>l.filter(i=>i.id!==c)),[]),n=s.useCallback((c,l)=>{const i=Math.max(1,l);r(h=>h.map(f=>f.id===c?{...f,qty:i}:f))},[]),u=s.useCallback(()=>r([]),[]),d=s.useMemo(()=>t.reduce((c,l)=>c+l.price*l.qty,0),[t]);return{items:t,add:a,remove:o,changeQty:n,clear:u,subtotal:d}}const wt=()=>{const{items:t,subtotal:r}=jt(),a=X();if(t.length===0)return null;const o=t.reduce((n,u)=>n+u.qty,0);return e.jsxs("button",{onClick:()=>a("/cart"),className:`fixed bottom-20 left-4 right-4 mx-auto max-w-md z-50 
        bg-gradient-to-r from-green-500 to-green-600 text-white 
        rounded-2xl shadow-2xl shadow-green-500/30
        px-6 py-4 flex items-center justify-between
        active:scale-95 transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"w-8 h-8"}),e.jsx("span",{className:`absolute -top-2 -right-2 bg-white text-green-600 
            w-6 h-6 rounded-full text-sm font-bold flex items-center justify-center`,children:o})]}),e.jsx("span",{className:"text-lg font-bold",children:"ÿπÿ±ÿ∂ ÿßŸÑÿ≥ŸÑÿ©"})]}),e.jsxs("span",{className:"text-xl font-bold",children:[r.toFixed(0)," ÿ±.ÿ≥"]})]})},bt=s.lazy(()=>x(()=>import("./Landing-DjqvJpI-.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>({default:t.Landing}))),vt=s.lazy(()=>x(()=>import("./RestaurantsPage-D7036drp.js"),__vite__mapDeps([5,1,2,6,3,4,7])).then(t=>({default:t.RestaurantsPage}))),yt=s.lazy(()=>x(()=>import("./MenuPage-B8oXso0V.js"),__vite__mapDeps([8,1,2,4])).then(t=>({default:t.MenuPage}))),_t=s.lazy(()=>x(()=>import("./CartPage-CD4H8QQB.js"),__vite__mapDeps([9,1,4,2])).then(t=>({default:t.CartPage}))),Nt=s.lazy(()=>x(()=>import("./Login-CTIp5LIn.js"),__vite__mapDeps([10,1,2,4])).then(t=>({default:t.Login}))),kt=s.lazy(()=>x(()=>import("./Register-BADhNXyz.js"),__vite__mapDeps([11,1,2,6,4])).then(t=>({default:t.Register}))),Et=s.lazy(()=>x(()=>import("./RegisterChoice-BOllVTkg.js"),__vite__mapDeps([12,1,4,2])).then(t=>({default:t.RegisterChoice}))),Ct=s.lazy(()=>x(()=>import("./OwnerRegister-lJE76-QN.js"),__vite__mapDeps([13,1,2,6,4])).then(t=>({default:t.OwnerRegister}))),Pt=s.lazy(()=>x(()=>import("./CustomerLogin-BrOGJh-i.js"),__vite__mapDeps([14,1,2,4])).then(t=>({default:t.CustomerLogin}))),Lt=s.lazy(()=>x(()=>import("./PrivacyPolicy-dF-GmHB3.js"),__vite__mapDeps([15,1,2,4]))),Rt=s.lazy(()=>x(()=>import("./TermsPage-B5fFaypx.js"),__vite__mapDeps([16,1,2,4]))),At=s.lazy(()=>x(()=>import("./AccountDeleted-DAWS7bfM.js"),__vite__mapDeps([17,1,2,4]))),It=s.lazy(()=>x(()=>import("./CheckoutPage-Y-xI_hjN.js"),__vite__mapDeps([18,1,2,19,4,20])).then(t=>({default:t.CheckoutPage}))),Ot=s.lazy(()=>x(()=>import("./TrackOrders-syFaWLhQ.js"),__vite__mapDeps([21,1,2,22,4,23,24])).then(t=>({default:t.TrackOrders}))),Dt=s.lazy(()=>x(()=>import("./ProfileEdit-C5zMaKBl.js"),__vite__mapDeps([25,1,2,19,4,20])).then(t=>({default:t.ProfileEdit}))),Tt=s.lazy(()=>x(()=>import("./OwnerDashboard-eErm4m3-.js"),__vite__mapDeps([26,1,2,24,7,4])).then(t=>({default:t.OwnerDashboard}))),St=s.lazy(()=>x(()=>import("./ManageMenu-BxFPkmXO.js"),__vite__mapDeps([27,1,2,4])).then(t=>({default:t.ManageMenu}))),zt=s.lazy(()=>x(()=>import("./OrdersAdmin-DgvcbtUC.js"),__vite__mapDeps([28,1,2,22,4])).then(t=>({default:t.OrdersAdmin}))),Vt=s.lazy(()=>x(()=>import("./EditRestaurant-CzYs-ggV.js"),__vite__mapDeps([29,1,2,6,4])).then(t=>({default:t.EditRestaurant}))),qt=s.lazy(()=>x(()=>import("./CourierRequests-CFTSp3tM.js"),__vite__mapDeps([30,1,2,4])).then(t=>({default:t.CourierRequests}))),Ft=s.lazy(()=>x(()=>import("./PackagesPage-DDjdhSqB.js"),__vite__mapDeps([31,1,2,4])).then(t=>({default:t.PackagesPage}))),Mt=s.lazy(()=>x(()=>import("./PromotionPage-s9DIYuzs.js"),__vite__mapDeps([32,1,2,4])).then(t=>({default:t.PromotionPage}))),Bt=s.lazy(()=>x(()=>import("./OffersPage-ChN3dGTg.js"),__vite__mapDeps([33,1,2,7,4])).then(t=>({default:t.OffersPage}))),Ut=s.lazy(()=>x(()=>import("./StoriesPage-eb6KxlzC.js"),__vite__mapDeps([34,1,2,4])).then(t=>({default:t.StoriesPage}))),$t=s.lazy(()=>x(()=>import("./CourierApp-CNukpzmi.js"),__vite__mapDeps([35,1,2,24,22,4,23,36])).then(t=>({default:t.CourierApp}))),Ht=s.lazy(()=>x(()=>import("./CourierHiring-_bytee_6.js"),__vite__mapDeps([37,1,2,4])).then(t=>({default:t.CourierHiring}))),Wt=s.lazy(()=>x(()=>import("./ChatPage-B3NFPoWc.js"),__vite__mapDeps([38,1,2,4])).then(t=>({default:t.ChatPage}))),Jt=s.lazy(()=>x(()=>import("./NotificationsPage-B1RxsUA6.js"),__vite__mapDeps([39,1,2,4])).then(t=>({default:t.NotificationsPage}))),Gt=s.lazy(()=>x(()=>import("./LiveSupportPage-DGz4x4Pd.js"),__vite__mapDeps([40,1,2,4])).then(t=>({default:t.LiveSupportPage}))),Kt=s.lazy(()=>x(()=>import("./AdminDashboard-BSQMqBaa.js"),__vite__mapDeps([41,1,2,4])).then(t=>({default:t.AdminDashboard}))),Yt=s.lazy(()=>x(()=>import("./AdminRestaurants-BoqEYmu-.js"),__vite__mapDeps([42,1,2,4])).then(t=>({default:t.AdminRestaurants}))),Qt=s.lazy(()=>x(()=>import("./AdminOrders-Dx-JTVbZ.js"),__vite__mapDeps([43,1,2,4])).then(t=>({default:t.AdminOrders}))),Xt=s.lazy(()=>x(()=>import("./Developer-C16xG_qq.js"),__vite__mapDeps([44,1,2,4])).then(t=>({default:t.Developer}))),Zt=s.lazy(()=>x(()=>import("./SetupDeveloper-CJxRBxRk.js"),__vite__mapDeps([45,1,2,4])).then(t=>({default:t.SetupDeveloper}))),es=s.lazy(()=>x(()=>import("./SupportAdmin-CHRlvFep.js"),__vite__mapDeps([46,1,2,24,4])).then(t=>({default:t.SupportAdmin}))),ts=s.lazy(()=>x(()=>import("./ProblemsAdmin-CoA9plRx.js"),__vite__mapDeps([47,1,2,4])).then(t=>({default:t.ProblemsAdmin}))),ss=s.lazy(()=>x(()=>import("./ReportProblem-82LCnDt4.js"),__vite__mapDeps([48,1,2,4])).then(t=>({default:t.ReportProblem}))),rs=s.lazy(()=>x(()=>import("./ReportsAdmin-CwVn2Dz3.js"),__vite__mapDeps([49,1,2,4])).then(t=>({default:t.ReportsAdmin}))),ns=s.lazy(()=>x(()=>import("./AccountingDashboard-CzrvnBF1.js"),__vite__mapDeps([50,1,2,4])).then(t=>({default:t.AccountingDashboard}))),as=s.lazy(()=>x(()=>import("./OwnerWalletPage-CJeEH193.js"),__vite__mapDeps([51,1,2,4])).then(t=>({default:t.OwnerWalletPage}))),os=s.lazy(()=>x(()=>import("./CourierWalletPage-DyMZ-8ak.js"),__vite__mapDeps([52,1,2,4])).then(t=>({default:t.CourierWalletPage}))),ls=s.lazy(()=>x(()=>import("./DebugOrders-CmlbcMSR.js"),__vite__mapDeps([53,1,2,4])).then(t=>({default:t.DebugOrders}))),is=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-sky-500 text-sm font-medium",children:"ÿ¨ÿßÿ±Ÿê ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ..."})]})});function cs(){const{locationRequired:t,refreshUserData:r,loading:a}=S();return!a&&t?e.jsx(pt,{onLocationSaved:r}):e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-sky-50 via-white to-sky-50 text-sky-900",children:[e.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50",children:[e.jsx(gt,{}),e.jsx(ft,{}),e.jsx(dt,{})]}),e.jsx("div",{className:"h-[130px] sm:h-[150px]"}),e.jsx(wt,{}),e.jsx("main",{className:"flex-1 max-w-6xl mx-auto w-full px-4 py-8",children:e.jsx(s.Suspense,{fallback:e.jsx(is,{}),children:e.jsxs(Ne,{children:[e.jsx(m,{path:"/",element:e.jsx(bt,{})}),e.jsx(m,{path:"/restaurants",element:e.jsx(vt,{})}),e.jsx(m,{path:"/menu",element:e.jsx(yt,{})}),e.jsx(m,{path:"/cart",element:e.jsx(_t,{})}),e.jsx(m,{path:"/login",element:e.jsx(Nt,{})}),e.jsx(m,{path:"/customer-login",element:e.jsx(Pt,{})}),e.jsx(m,{path:"/register",element:e.jsx(Et,{})}),e.jsx(m,{path:"/register/form",element:e.jsx(kt,{})}),e.jsx(m,{path:"/register-owner",element:e.jsx(Ct,{})}),e.jsx(m,{path:"/privacy-policy",element:e.jsx(Lt,{})}),e.jsx(m,{path:"/terms",element:e.jsx(Rt,{})}),e.jsx(m,{path:"/account-deleted",element:e.jsx(At,{})}),e.jsx(m,{path:"/setup-dev",element:e.jsx(Zt,{})}),e.jsx(m,{path:"/chat",element:e.jsx(p,{children:e.jsx(j,{allow:["customer","courier","owner","admin","developer"],children:e.jsx(Wt,{})})})}),e.jsx(m,{path:"/notifications",element:e.jsx(p,{children:e.jsx(j,{allow:["customer","courier","owner","admin","developer"],children:e.jsx(Jt,{})})})}),e.jsx(m,{path:"/support",element:e.jsx(p,{children:e.jsx(j,{allow:["customer","courier","owner","admin","developer"],children:e.jsx(Gt,{})})})}),e.jsx(m,{path:"/report-problem",element:e.jsx(p,{children:e.jsx(j,{allow:["customer","courier","owner","developer"],children:e.jsx(ss,{})})})}),e.jsx(m,{path:"/checkout",element:e.jsx(It,{})}),e.jsx(m,{path:"/orders",element:e.jsx(p,{children:e.jsx(j,{allow:["customer","admin","developer"],children:e.jsx(Ot,{})})})}),e.jsx(m,{path:"/profile",element:e.jsx(p,{children:e.jsx(j,{allow:["customer","courier","owner","admin","developer"],children:e.jsx(Dt,{})})})}),e.jsx(m,{path:"/owner",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(Tt,{})})})}),e.jsx(m,{path:"/owner/menu",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(St,{})})})}),e.jsx(m,{path:"/owner/orders",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(zt,{})})})}),e.jsx(m,{path:"/owner/edit",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(Vt,{})})})}),e.jsx(m,{path:"/owner/courier-requests",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(qt,{})})})}),e.jsx(m,{path:"/owner/packages",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(Ft,{})})})}),e.jsx(m,{path:"/owner/offers",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(Bt,{})})})}),e.jsx(m,{path:"/owner/stories",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(Ut,{})})})}),e.jsx(m,{path:"/owner/promotion",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(Mt,{})})})}),e.jsx(m,{path:"/courier",element:e.jsx(p,{children:e.jsx(j,{allow:["courier","developer"],children:e.jsx($t,{})})})}),e.jsx(m,{path:"/courier/hiring",element:e.jsx(p,{children:e.jsx(j,{allow:["courier","developer"],children:e.jsx(Ht,{})})})}),e.jsx(m,{path:"/admin",element:e.jsx(p,{children:e.jsx(j,{allow:["admin","developer"],children:e.jsx(Kt,{})})})}),e.jsx(m,{path:"/admin/restaurants",element:e.jsx(p,{children:e.jsx(j,{allow:["admin","developer"],children:e.jsx(Yt,{})})})}),e.jsx(m,{path:"/admin/orders",element:e.jsx(p,{children:e.jsx(j,{allow:["admin","developer"],children:e.jsx(Qt,{})})})}),e.jsx(m,{path:"/developer",element:e.jsx(p,{children:e.jsx(j,{allow:["developer","admin"],children:e.jsx(Xt,{})})})}),e.jsx(m,{path:"/support-admin",element:e.jsx(p,{children:e.jsx(j,{allow:["developer"],children:e.jsx(es,{})})})}),e.jsx(m,{path:"/problems-admin",element:e.jsx(p,{children:e.jsx(j,{allow:["developer"],children:e.jsx(ts,{})})})}),e.jsx(m,{path:"/accounting",element:e.jsx(p,{children:e.jsx(j,{allow:["developer"],children:e.jsx(ns,{})})})}),e.jsx(m,{path:"/reports-admin",element:e.jsx(p,{children:e.jsx(j,{allow:["admin","developer"],children:e.jsx(rs,{})})})}),e.jsx(m,{path:"/owner/wallet",element:e.jsx(p,{children:e.jsx(j,{allow:["owner","developer"],children:e.jsx(as,{})})})}),e.jsx(m,{path:"/courier/wallet",element:e.jsx(p,{children:e.jsx(j,{allow:["courier","developer"],children:e.jsx(os,{})})})}),e.jsx(m,{path:"/__debug_orders",element:e.jsx(ls,{})}),e.jsx(m,{path:"*",element:e.jsx(Z,{to:"/",replace:!0})})]})})}),e.jsx(ht,{})]})}s.createContext(void 0);const ds=({children:t})=>e.jsx(e.Fragment,{children:t}),ye=s.createContext(null),bs=()=>{const t=s.useContext(ye);if(!t)throw new Error("useToast must be used within ToastProvider");return t},ms=({children:t})=>{const[r,a]=s.useState([]),o=s.useCallback(d=>{a(c=>c.filter(l=>l.id!==d))},[]),n=s.useCallback((d,c,l)=>{const i=Math.random().toString(36).slice(2),h={id:i,message:d,type:c,title:l==null?void 0:l.title,duration:(l==null?void 0:l.duration)??3e3};a(f=>[...f,h]),h.duration&&h.duration>0&&setTimeout(()=>o(i),h.duration)},[o]),u=s.useMemo(()=>({show:(d,c)=>n(d,(c==null?void 0:c.type)??"info",c),success:(d,c)=>n(d,"success",c),error:(d,c)=>n(d,"error",c),info:(d,c)=>n(d,"info",c),warning:(d,c)=>n(d,"warning",c)}),[n]);return e.jsxs(ye.Provider,{value:u,children:[t,e.jsx(hs,{items:r,onClose:o})]})},xs={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-slate-800 text-white",warning:"bg-yellow-500 text-black"},us={success:"‚úî",error:"‚úñ",info:"‚Ñπ",warning:"‚ö†"},hs=({items:t,onClose:r})=>(s.useEffect(()=>{},[]),e.jsxs("div",{className:"fixed z-[9999] inset-0 pointer-events-none flex flex-col items-center sm:items-end gap-2 p-4 sm:p-6",children:[e.jsx("div",{className:"mt-auto w-full sm:w-auto flex flex-col gap-2",children:t.map(a=>e.jsx("div",{className:`pointer-events-auto ${xs[a.type]} rounded-2xl shadow-lg px-4 py-3 sm:min-w-[320px] animate-[toastIn_.2s_ease]`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-xl leading-none",children:us[a.type]}),e.jsxs("div",{className:"flex-1",children:[a.title&&e.jsx("div",{className:"font-bold",children:a.title}),e.jsx("div",{className:"text-sm",children:a.message})]}),e.jsx("button",{onClick:()=>r(a.id),className:"opacity-80 hover:opacity-100 transition","aria-label":"Close",children:"√ó"})]})},a.id))}),e.jsx("style",{children:"@keyframes toastIn{from{transform:translateY(8px);opacity:0}to{transform:translateY(0);opacity:1}}"})]}));Y.createRoot(document.getElementById("root")).render(e.jsx(ke.StrictMode,{children:e.jsx(Ee,{children:e.jsx(ms,{children:e.jsx(xt,{children:e.jsx(ct,{children:e.jsxs(ds,{children:["   ",e.jsx(cs,{})]})})})})})}));export{j as R,x as _,jt as a,bs as b,mt as c,I as d,Q as e,M as f,ws as g,e as j,js as s,S as u};
