import{d as A,j as e,u as Be}from"./index-FuU3jBZc.js";import{r as i,e as Fe,L as _}from"./vendor-react-C_wfuX_s.js";import{u as ae,k as le,v as Qe,x as re,t as H,m as O,q as Ae,w as Le,y as qe,z as me,j as Xe,s as Ye}from"./vendor-firebase-Co4MdP0H.js";import{S as Ge}from"./cities-SgZ78e-Z.js";import{c as Ke,M as he}from"./distance-B2TXkT8a.js";import{V as He,p as Je,q as be,r as We,X as ie,s as Me,t as Ue,k as je,u as Ze,S as ee,v as es,w as ss,N as se,m as ue,n as Re,o as pe,G as De,x as ts,y as as,P as ls,z as Ve,D as rs,j as fe,E as is,J as ge,f as te,K as Pe,T as _e,O as ns}from"./vendor-icons-Dyg7S3Xx.js";import{i as ne,g as $e,f as os,O as cs}from"./ramadanConfig-1vuKGRGR.js";const ds=({storyGroups:x,initialGroupIndex:g,currentUserId:h,onClose:b})=>{var W;const[c,N]=i.useState(g),[C,n]=i.useState(0),[oe,T]=i.useState(0),[R,V]=i.useState(!1),[B,$]=i.useState(!0),E=i.useRef(null),ce=i.useRef(null),k=x[c],m=k==null?void 0:k.stories[C],J=(m==null?void 0:m.type)==="video"?15e3:5e3,j=i.useCallback(async a=>{var o;if(!(!h||!a.id)&&!((o=a.viewedBy)!=null&&o.includes(h)))try{await ae(le(A,"stories",a.id),{viewsCount:re(1),viewedBy:Qe(h)})}catch(y){console.warn("Error recording view:",y)}},[h]),I=i.useCallback(()=>{C<k.stories.length-1?(n(a=>a+1),T(0)):c<x.length-1?(N(a=>a+1),n(0),T(0)):b()},[C,c,k,x.length,b]),M=i.useCallback(()=>{if(C>0)n(a=>a-1),T(0);else if(c>0){N(o=>o-1);const a=x[c-1];n(a.stories.length-1),T(0)}},[C,c,x]);return i.useEffect(()=>{if(!m||R)return;j(m);const a=Date.now(),o=setInterval(()=>{const F=(Date.now()-a)/J*100;F>=100?(clearInterval(o),I()):T(F)},50);return ce.current=o,()=>clearInterval(o)},[m,R,J,I,j]),i.useEffect(()=>{E.current&&(R?E.current.pause():E.current.play().catch(()=>{}))},[R,m]),i.useEffect(()=>{const a=o=>{o.key==="Escape"&&b(),o.key==="ArrowRight"&&I(),o.key==="ArrowLeft"&&M(),o.key===" "&&V(y=>!y)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[b,I,M]),m?e.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900 to-black"}),e.jsxs("div",{className:"relative w-full max-w-md h-full max-h-[100vh] flex flex-col",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 flex gap-1 p-2",children:k.stories.map((a,o)=>e.jsx("div",{className:"flex-1 h-1 bg-white/30 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-100",style:{width:o<C?"100%":o===C?`${oe}%`:"0%"}})},o))}),e.jsxs("div",{className:"absolute top-6 left-0 right-0 z-20 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[k.restaurantLogo?e.jsx("img",{src:k.restaurantLogo,alt:"",className:"w-10 h-10 rounded-full border-2 border-white object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold",children:((W=k.restaurantName)==null?void 0:W.charAt(0))||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-sm",children:k.restaurantName}),e.jsx("p",{className:"text-white/60 text-xs",children:new Date(m.createdAt||Date.now()).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[m.type==="video"&&e.jsx("button",{onClick:()=>$(!B),className:"p-2 text-white/80 hover:text-white",children:B?e.jsx(He,{className:"w-5 h-5"}):e.jsx(Je,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>V(!R),className:"p-2 text-white/80 hover:text-white",children:R?e.jsx(be,{className:"w-5 h-5"}):e.jsx(We,{className:"w-5 h-5"})}),e.jsx("button",{onClick:b,className:"p-2 text-white/80 hover:text-white",children:e.jsx(ie,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-center relative",onClick:a=>{const o=a.currentTarget.getBoundingClientRect(),y=a.clientX-o.left;y<o.width/3?M():y>o.width*2/3?I():V(F=>!F)},children:[m.type==="text"?e.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",style:{backgroundColor:m.backgroundColor},children:e.jsx("p",{className:"text-center text-2xl font-bold leading-relaxed",style:{color:m.textColor},children:m.caption})}):m.type==="video"?e.jsx("video",{ref:E,src:m.mediaUrl,className:"w-full h-full object-contain",autoPlay:!0,playsInline:!0,muted:B,loop:!1}):e.jsx("img",{src:m.mediaUrl,alt:"",className:"w-full h-full object-contain"}),m.caption&&m.type!=="text"&&e.jsx("div",{className:"absolute bottom-24 left-0 right-0 px-4",children:e.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl p-3",children:e.jsx("p",{className:"text-white text-sm",children:m.caption})})})]}),c>0&&e.jsx("button",{onClick:M,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/20 rounded-full hover:bg-white/30 transition z-30",children:e.jsx(Me,{className:"w-6 h-6 text-white"})}),c<x.length-1&&e.jsx("button",{onClick:I,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/20 rounded-full hover:bg-white/30 transition z-30",children:e.jsx(Ue,{className:"w-6 h-6 text-white"})}),m.menuItemId&&e.jsx("div",{className:"absolute bottom-4 left-4 right-4 z-20",children:e.jsxs("a",{href:`/menu?restaurant=${m.ownerId}`,className:"flex items-center justify-center gap-2 w-full py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-xl font-bold shadow-lg",onClick:a=>{a.stopPropagation(),b()},children:[e.jsx(je,{className:"w-5 h-5"}),"Ø§Ø·Ù„Ø¨ ",m.menuItemName]})})]}),e.jsx("div",{className:"hidden lg:flex absolute left-4 top-1/2 -translate-y-1/2 flex-col gap-2",children:x.slice(Math.max(0,c-2),c).map((a,o)=>{var y;return e.jsx("button",{onClick:()=>{N(c-(c-o)),n(0),T(0)},className:"w-16 h-16 rounded-xl overflow-hidden border-2 border-white/30 hover:border-white transition opacity-50 hover:opacity-100",children:a.restaurantLogo?e.jsx("img",{src:a.restaurantLogo,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold text-xl",children:(y=a.restaurantName)==null?void 0:y.charAt(0)})},a.ownerId)})}),e.jsx("div",{className:"hidden lg:flex absolute right-4 top-1/2 -translate-y-1/2 flex-col gap-2",children:x.slice(c+1,c+3).map((a,o)=>{var y;return e.jsx("button",{onClick:()=>{N(c+o+1),n(0),T(0)},className:"w-16 h-16 rounded-xl overflow-hidden border-2 border-white/30 hover:border-white transition opacity-50 hover:opacity-100",children:a.restaurantLogo?e.jsx("img",{src:a.restaurantLogo,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold text-xl",children:(y=a.restaurantName)==null?void 0:y.charAt(0)})},a.ownerId)})})]}):null},xs=({onClose:x})=>{const[g,h]=i.useState(!0);if(!ne()||!g)return null;const b=()=>{h(!1),x==null||x()};return e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-800 via-purple-700 to-emerald-800 rounded-2xl p-5 mb-6 shadow-xl shadow-purple-900/30",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-2 right-4",children:"ðŸŒ™"}),e.jsx("div",{className:"absolute top-3 left-8",children:"âœ¨"}),e.jsx("div",{className:"absolute bottom-2 right-12",children:"â­"}),e.jsx("div",{className:"absolute bottom-3 left-4",children:"ðŸ®"})]}),e.jsx("button",{onClick:b,className:"absolute top-2 left-2 p-1.5 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(ie,{className:"w-4 h-4 text-white/80"})}),e.jsxs("div",{className:"relative text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("span",{className:"text-3xl",children:"ðŸŒ™"}),e.jsx("h2",{className:"text-2xl font-black text-amber-300",children:"Ø¹Ø±ÙˆØ¶ Ø±Ù…Ø¶Ø§Ù†"}),e.jsx("span",{className:"text-3xl",children:"âœ¨"})]}),e.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:"Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø£Ø´Ù‡Ù‰ Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø© Ø¨Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©"}),e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white/10 backdrop-blur px-4 py-1.5 rounded-full",children:[e.jsx(Ze,{className:"w-4 h-4 text-amber-300"}),e.jsx("span",{className:"text-amber-200 text-sm font-medium",children:"Ø¨Ø§Ù‚Ø§Øª Ø¥ÙØ·Ø§Ø± ÙˆØ³Ø­ÙˆØ±"})]})]})]})},ms=({city:x="Ø§Ù„Ø±ÙŠØ§Ø¶"})=>{const[g,h]=i.useState($e(x));if(i.useEffect(()=>{if(!ne())return;const C=setInterval(()=>{const n=$e(x);h(n)},1e3);return()=>clearInterval(C)},[x]),!ne()||g<=0)return null;const{hours:b,minutes:c,seconds:N}=os(g);return e.jsx("div",{className:"bg-gradient-to-r from-amber-600 via-orange-600 to-amber-600 rounded-2xl p-4 mb-4 shadow-lg shadow-amber-500/30",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ•Œ"}),e.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ø¥ÙØ·Ø§Ø±"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl px-4 py-2 min-w-[70px]",children:[e.jsx("div",{className:"text-3xl font-black text-white",children:b}),e.jsx("div",{className:"text-white/70 text-xs",children:"Ø³Ø§Ø¹Ø©"})]}),e.jsx("span",{className:"text-2xl text-white/80 font-bold",children:":"}),e.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl px-4 py-2 min-w-[70px]",children:[e.jsx("div",{className:"text-3xl font-black text-white",children:c}),e.jsx("div",{className:"text-white/70 text-xs",children:"Ø¯Ù‚ÙŠÙ‚Ø©"})]}),e.jsx("span",{className:"text-2xl text-white/80 font-bold",children:":"}),e.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl px-4 py-2 min-w-[70px]",children:[e.jsx("div",{className:"text-3xl font-black text-white animate-pulse",children:N}),e.jsx("div",{className:"text-white/70 text-xs",children:"Ø«Ø§Ù†ÙŠØ©"})]})]}),e.jsxs("p",{className:"text-white/60 text-xs mt-2",children:["ðŸ“ ",x]})]})})},hs=[{value:"",label:"Ø§Ù„ÙƒÙ„"},{value:"traditional",label:"ðŸš Ø£ÙƒÙ„Ø§Øª Ø´Ø¹Ø¨ÙŠØ©"},{value:"sweets",label:"ðŸ° Ø­Ù„ÙˆÙŠØ§Øª"},{value:"pastries",label:"ðŸ¥§ Ù…Ø¹Ø¬Ù†Ø§Øª"},{value:"grills",label:"ðŸ– Ù…Ø´ÙˆÙŠØ§Øª"},{value:"healthy",label:"ðŸ¥— Ø£ÙƒÙ„ ØµØ­ÙŠ"},{value:"international",label:"ðŸŒ Ø£ÙƒÙ„Ø§Øª Ø¹Ø§Ù„Ù…ÙŠØ©"}],Ee=async(x,g,h)=>{try{await qe(O(A,"visitLogs"),{restaurantId:x,visitorId:g||null,visitorType:g?"customer":"anonymous",source:h||"direct",page:"menu",createdAt:me()});const b=le(A,"restaurantStats",x),c=await Xe(b),N=new Date().toISOString().split("T")[0];if(c.exists()){const n=c.data().dailyViews||{};n[N]=(n[N]||0)+1,await ae(b,{totalProfileViews:re(1),dailyViews:n,updatedAt:me()})}else await Ye(b,{totalProfileViews:1,totalMenuViews:0,totalItemViews:0,totalShareClicks:0,whatsappShareCount:0,registeredCustomers:0,appDownloads:0,dailyViews:{[N]:1},updatedAt:me()})}catch(b){console.warn("Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø©:",b)}},Ns=()=>{var ke,Se,Ce,Te,Ie;const{userLocation:x,role:g,user:h}=Be(),[b]=Fe(),c=b.get("ref"),[N,C]=i.useState([]),[n,oe]=i.useState([]),[T,R]=i.useState([]),[V,B]=i.useState([]),[$,E]=i.useState([]),[ce,k]=i.useState(!1),[m,J]=i.useState(0),[j,I]=i.useState(0),[M,W]=i.useState(!0),[a,o]=i.useState(""),[y,F]=i.useState("grid"),[Q,we]=i.useState(""),[q,Ne]=i.useState(""),[P,ve]=i.useState(0),[de,ze]=i.useState(!1),[U,Z]=i.useState("distance");i.useEffect(()=>{(async()=>{const r=(await H(O(A,"restaurants"))).docs.map(t=>({id:t.id,...t.data()})),Y=(await H(O(A,"menuItems"))).docs.map(t=>({id:t.id,...t.data()})),xe=new Map;Y.forEach(t=>{if(t.available!==!1){const d=xe.get(t.ownerId)||0;xe.set(t.ownerId,d+1)}});const G=r.filter(t=>{if(g==="developer"||g==="admin"||g==="owner")return!0;const d=!!t.logoUrl,f=!!t.geoLocation,w=(xe.get(t.id)||0)>0;return d&&f&&w});try{const t=Y.filter(d=>d.available!==!1&&(d.orderCount||0)>0).sort((d,f)=>(f.orderCount||0)-(d.orderCount||0)).slice(0,6).map(d=>{const f=G.find(w=>w.id===d.ownerId);return{...d,restaurantName:f==null?void 0:f.name,restaurantLogo:f==null?void 0:f.logoUrl}});R(t)}catch(t){console.warn("Error loading top items:",t)}try{const t=Ae(O(A,"promotions"),Le("isActive","==",!0)),d=await H(t),f=new Date,w=d.docs.map(u=>{var l,p;return{id:u.id,...u.data(),expiresAt:(p=(l=u.data().expiresAt)==null?void 0:l.toDate)==null?void 0:p.call(l)}}).filter(u=>!u.expiresAt||new Date(u.expiresAt)>f).map(u=>{const l=G.find(p=>p.id===u.ownerId);return{...u,restaurantName:l==null?void 0:l.name}});oe(w)}catch(t){console.warn("Error loading promotions:",t)}try{const t=Ae(O(A,"offers"),Le("isActive","==",!0)),d=await H(t),f=new Date,w=d.docs.map(u=>{var l,p;return{id:u.id,...u.data(),expiresAt:(p=(l=u.data().expiresAt)==null?void 0:l.toDate)==null?void 0:p.call(l)}}).filter(u=>!u.expiresAt||new Date(u.expiresAt)>f).slice(0,8);B(w)}catch(t){console.warn("Error loading special offers:",t)}try{const t=await H(O(A,"stories")),d=new Date,f=t.docs.map(l=>{var p,v,S,K;return{id:l.id,...l.data(),expiresAt:(v=(p=l.data().expiresAt)==null?void 0:p.toDate)==null?void 0:v.call(p),createdAt:(K=(S=l.data().createdAt)==null?void 0:S.toDate)==null?void 0:K.call(S)}}).filter(l=>l.expiresAt&&new Date(l.expiresAt)>d).sort((l,p)=>{var v,S;return(((v=p.createdAt)==null?void 0:v.getTime())||0)-(((S=l.createdAt)==null?void 0:S.getTime())||0)}),w=new Map;f.forEach(l=>{var K;const p=w.get(l.ownerId),v=G.find(Oe=>Oe.id===l.ownerId),S=!(h!=null&&h.uid)||!((K=l.viewedBy)!=null&&K.includes(h.uid));p?(p.stories.push(l),S&&(p.hasUnviewed=!0)):w.set(l.ownerId,{ownerId:l.ownerId,restaurantName:l.restaurantName||(v==null?void 0:v.name),restaurantLogo:l.restaurantLogo||(v==null?void 0:v.logoUrl),stories:[l],hasUnviewed:S})});const u=Array.from(w.values()).sort((l,p)=>(p.hasUnviewed?1:0)-(l.hasUnviewed?1:0));E(u)}catch(t){console.warn("Error loading stories:",t)}let z=[];x?(z=G.map(t=>{if(t.geoLocation){const d=Ke(x,t.geoLocation);return{...t,distance:d}}return{...t,distance:void 0}}),(g==="customer"||g==="courier")&&(z=z.filter(t=>!t.geoLocation||t.distance===void 0?!1:t.distance<=he)),z.sort((t,d)=>{const f=t.packageType==="premium"?1:0,w=d.packageType==="premium"?1:0;if(w!==f)return w-f;const u={gold:3,silver:2,bronze:1},l=u[t.sellerTier||"bronze"]||0,p=u[d.sellerTier||"bronze"]||0;if(p!==l)return p-l;const v=t.isVerified?1:0,S=d.isVerified?1:0;return S!==v?S-v:(t.distance||999)-(d.distance||999)})):z=G.sort((t,d)=>{const f={gold:3,silver:2,bronze:1},w=f[t.sellerTier||"bronze"]||0,u=f[d.sellerTier||"bronze"]||0;if(u!==w)return u-w;const l=t.isVerified?1:0;return(d.isVerified?1:0)-l}),C(z),W(!1)})()},[x,g]);const ye=i.useMemo(()=>{const s=new Set(N.map(r=>r.city).filter(Boolean));return Ge.filter(r=>s.has(r))},[N]),D=i.useMemo(()=>{let s=N;if(a&&(s=s.filter(r=>r.city===a)),Q.trim()){const r=Q.trim().toLowerCase();s=s.filter(L=>{var Y;return L.name.toLowerCase().includes(r)||((Y=L.city)==null?void 0:Y.toLowerCase().includes(r))})}return q&&(s=s.filter(r=>r.cuisineType===q)),P>0&&(s=s.filter(r=>(r.averageRating||0)>=P)),U==="rating"?s=[...s].sort((r,L)=>(L.averageRating||0)-(r.averageRating||0)):U==="orders"&&(s=[...s].sort((r,L)=>(L.totalOrders||0)-(r.totalOrders||0))),s},[N,a,Q,q,P,U]),X=[a,Q,q,P>0].filter(Boolean).length;return M?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-sky-600 font-semibold",children:"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø©..."})]}):e.jsxs("div",{className:"pb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-sky-700",children:"ðŸ´ Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø©"}),$.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-2",children:[e.jsx(be,{className:"w-5 h-5 text-pink-500"}),e.jsx("h2",{className:"text-lg font-bold text-sky-700",children:"ðŸ“¸ Ø³ØªÙˆØ±ÙŠ Ø§Ù„Ø£Ø³Ø±"})]}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 px-2 scrollbar-hide",children:$.map((s,r)=>e.jsxs("button",{onClick:()=>{J(r),k(!0)},className:"flex-shrink-0 flex flex-col items-center gap-1 group",children:[e.jsxs("div",{className:`relative p-[3px] rounded-full ${s.hasUnviewed?"bg-gradient-to-tr from-amber-400 via-pink-500 to-purple-600":"bg-gray-300"}`,children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white p-[2px]",children:s.restaurantLogo?e.jsx("img",{src:s.restaurantLogo,alt:s.restaurantName||"Restaurant",className:"w-full h-full rounded-full object-cover"}):e.jsx("div",{className:"w-full h-full rounded-full bg-sky-100 flex items-center justify-center",children:e.jsx(ee,{className:"w-7 h-7 text-sky-400"})})}),s.stories.length>1&&e.jsx("span",{className:"absolute -bottom-1 -left-1 w-5 h-5 bg-pink-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-white",children:s.stories.length})]}),e.jsx("span",{className:"text-[11px] text-gray-600 font-medium text-center line-clamp-1 max-w-[70px]",children:s.restaurantName||"Ø£Ø³Ø±Ø©"})]},s.ownerId))})]}),ce&&$.length>0&&e.jsx(ds,{storyGroups:$,initialGroupIndex:m,currentUserId:h==null?void 0:h.uid,onClose:()=>k(!1)}),e.jsxs("div",{className:"mb-5 px-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ø³Ø±Ø© Ø£Ùˆ Ù…Ù†Ø·Ù‚Ø©...",value:Q,onChange:s=>we(s.target.value),className:"w-full bg-white border-2 border-sky-200 rounded-xl py-3 pr-10 pl-12 text-gray-800 placeholder:text-gray-400 focus:border-sky-500 focus:outline-none shadow-sm transition"}),e.jsxs("button",{onClick:()=>ze(!de),className:`absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-lg transition ${de||X>0?"bg-sky-500 text-white":"bg-sky-100 text-sky-600 hover:bg-sky-200"}`,children:[e.jsx(ss,{className:"w-4 h-4"}),X>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:X})]})]}),de&&e.jsxs("div",{className:"mt-3 bg-white rounded-xl p-4 border border-sky-100 shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600 mb-2 block",children:"ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>Z("distance"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${U==="distance"?"bg-sky-500 text-white":"bg-sky-50 text-sky-700"}`,children:[e.jsx(se,{className:"w-3 h-3 inline ml-1"}),"Ø§Ù„Ø£Ù‚Ø±Ø¨"]}),e.jsxs("button",{onClick:()=>Z("rating"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${U==="rating"?"bg-sky-500 text-white":"bg-sky-50 text-sky-700"}`,children:[e.jsx(ue,{className:"w-3 h-3 inline ml-1"}),"Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹"]}),e.jsxs("button",{onClick:()=>Z("orders"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${U==="orders"?"bg-sky-500 text-white":"bg-sky-50 text-sky-700"}`,children:[e.jsx(je,{className:"w-3 h-3 inline ml-1"}),"Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600 mb-2 block",children:"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø·Ø¨Ø®"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:hs.map(s=>e.jsx("button",{onClick:()=>Ne(s.value),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${q===s.value?"bg-amber-500 text-white":"bg-amber-50 text-amber-700"}`,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-600 mb-2 block",children:["Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªÙ‚ÙŠÙŠÙ…: ",P>0?`${P}+ â­`:"Ø§Ù„ÙƒÙ„"]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:[0,3,3.5,4,4.5].map(s=>e.jsx("button",{onClick:()=>ve(s),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition flex items-center gap-1 ${P===s?"bg-yellow-500 text-white":"bg-yellow-50 text-yellow-700"}`,children:s===0?"Ø§Ù„ÙƒÙ„":e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-3 h-3 fill-current"}),s,"+"]})},s))})]}),X>0&&e.jsxs("button",{onClick:()=>{we(""),o(""),Ne(""),ve(0),Z("distance")},className:"w-full py-2 bg-red-50 text-red-500 rounded-lg font-medium hover:bg-red-100 transition flex items-center justify-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† (",X,")"]})]})]}),ne()&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx(xs,{})}),e.jsx("div",{className:"mb-6",children:e.jsx(ms,{city:"Ø§Ù„Ø±ÙŠØ§Ø¶"})}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-900 via-purple-800 to-emerald-900 rounded-3xl p-6 mb-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-2 right-4 text-4xl opacity-30 animate-pulse",children:"ðŸŒ™"}),e.jsx("div",{className:"absolute bottom-2 left-4 text-3xl opacity-20",children:"âœ¨"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 text-2xl opacity-20",children:"ðŸ®"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:"ðŸï¸"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white",children:"Ø¹Ø±ÙˆØ¶ Ø±Ù…Ø¶Ø§Ù†"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Ø¨Ø§Ù‚Ø§Øª Ø¥ÙØ·Ø§Ø± ÙˆØ³Ø­ÙˆØ± Ù…Ù…ÙŠØ²Ø©"})]})]}),e.jsx("div",{className:"bg-amber-400 text-purple-900 text-xs font-bold px-3 py-1.5 rounded-full",children:"ðŸŒ™ Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ©"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:["iftar_package","suhoor_package","family_bundle","discount"].map(s=>{const r=cs[s];return e.jsxs(_,{to:`/restaurants?offer_type=${s}`,className:"bg-white/10 backdrop-blur rounded-xl p-4 text-center hover:bg-white/20 transition-all group",children:[e.jsx("span",{className:"text-3xl block mb-2 group-hover:scale-110 transition-transform",children:r.emoji}),e.jsx("span",{className:"text-white font-bold text-sm",children:r.label})]},s)})}),e.jsxs("div",{className:"mt-4 bg-amber-400/20 rounded-xl p-3 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ‘¨â€ðŸ³"}),e.jsx("p",{className:"text-amber-200 text-sm flex-1",children:"Ù‡Ù„ Ø£Ù†Øª Ø£Ø³Ø±Ø© Ù…Ù†ØªØ¬Ø©ØŸ Ø£Ø¶Ù Ø¹Ø±ÙˆØ¶Ùƒ Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠØ© ÙˆØ§Ø³ØªÙ‚Ø¨Ù„ Ø·Ù„Ø¨Ø§Øª Ø£ÙƒØ«Ø±!"}),e.jsx(_,{to:"/owner/offers?type=ramadan",className:"bg-amber-400 text-purple-900 px-4 py-2 rounded-xl font-bold text-sm whitespace-nowrap hover:bg-amber-300 transition",children:"Ø£Ø¶Ù Ø¹Ø±Ø¶Ùƒ"})]})]})]})]}),T.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-6 h-6 text-orange-500"}),e.jsx("h2",{className:"text-xl font-bold text-sky-700",children:"ðŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ù‹Ø§ Ø§Ù„ÙŠÙˆÙ…"})]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[T.length," Ø£ØµÙ†Ø§Ù"]})]}),e.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:T.map(s=>e.jsxs(_,{to:`/menu?restaurant=${s.ownerId}`,className:"group bg-white border border-sky-100 rounded-2xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-square bg-sky-50",children:[s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(pe,{className:"w-10 h-10 text-sky-300"})}),e.jsxs("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-orange-500 to-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow flex items-center gap-1",children:[e.jsx(Re,{className:"w-3 h-3"}),s.orderCount,"+ Ø·Ù„Ø¨"]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-bold text-sm text-gray-800 line-clamp-1",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1 mt-0.5",children:s.restaurantName}),e.jsx("div",{className:"flex items-center justify-between mt-2",children:e.jsxs("span",{className:"font-bold text-sky-600 text-sm",children:[s.price," Ø±.Ø³"]})})]})]},s.id))})]}),V.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-6 h-6 text-pink-500"}),e.jsx("h2",{className:"text-xl font-bold text-sky-700",children:"ðŸŽ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø±"})]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[V.length," Ø¹Ø±Ø¶"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:V.map(s=>{const r=s.offerType==="percent_discount"?ts:s.offerType==="fixed_discount"?as:s.offerType==="bundle_meal"?ls:De,L=s.offerType==="percent_discount"?"from-amber-500 to-orange-500":s.offerType==="fixed_discount"?"from-green-500 to-emerald-500":s.offerType==="bundle_meal"?"from-purple-500 to-violet-500":"from-pink-500 to-rose-500";return e.jsxs(_,{to:`/menu?restaurant=${s.ownerId}`,onClick:async()=>{try{await ae(le(A,"offers",s.id),{viewsCount:re(1)})}catch{}},className:"group bg-white rounded-2xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:`bg-gradient-to-r ${L} p-4 text-white relative`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(r,{className:"w-5 h-5"}),e.jsxs("span",{className:"text-xs font-medium opacity-90",children:[s.offerType==="percent_discount"&&"Ø®ØµÙ… Ù†Ø³Ø¨Ø©",s.offerType==="fixed_discount"&&"Ø®ØµÙ… Ù…Ø¨Ù„Øº",s.offerType==="bundle_meal"&&"ÙˆØ¬Ø¨Ø© Ø®Ø§ØµØ©",s.offerType==="buy_x_get_y"&&"Ø§Ø´ØªØ±Ù ÙˆØ§Ø­ØµÙ„"]})]}),e.jsx("h3",{className:"font-bold text-lg leading-tight line-clamp-1",children:s.title}),e.jsxs("div",{className:"mt-2 text-sm font-bold",children:[s.offerType==="percent_discount"&&e.jsxs("span",{className:"text-2xl",children:[s.discountPercent,"% Ø®ØµÙ…"]}),s.offerType==="fixed_discount"&&e.jsxs("span",{className:"text-2xl",children:["ÙˆÙÙ‘Ø± ",s.discountAmount," Ø±.Ø³"]}),s.offerType==="bundle_meal"&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-2xl",children:[s.bundlePrice," Ø±.Ø³"]}),e.jsxs("span",{className:"text-sm opacity-75 line-through mr-2",children:[s.bundleOriginalPrice," Ø±.Ø³"]})]}),s.offerType==="buy_x_get_y"&&e.jsxs("span",{className:"text-xl",children:["Ø§Ø´ØªØ±Ù ",s.buyQuantity," ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ ",s.getQuantity," Ù…Ø¬Ø§Ù†Ø§Ù‹"]})]})]}),e.jsxs("div",{className:"p-3 flex items-center gap-3",children:[s.restaurantLogo?e.jsx("img",{src:s.restaurantLogo,alt:"",className:"w-10 h-10 rounded-full object-cover border-2 border-gray-100"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-sky-100 flex items-center justify-center",children:e.jsx(ee,{className:"w-5 h-5 text-sky-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-800 text-sm truncate",children:s.restaurantName||"Ø£Ø³Ø±Ø© Ù…Ù†ØªØ¬Ø©"}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:s.description})]})]})]},s.id)})})]}),n.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx(Ve,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"font-bold text-purple-600",children:"Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ù…ÙŠØ²Ø©"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(_,{to:`/menu?restaurant=${(ke=n[j])==null?void 0:ke.ownerId}`,onClick:async()=>{try{await ae(le(A,"promotions",n[j].id),{viewsCount:re(1)})}catch{}},className:"block bg-gradient-to-r from-purple-900 via-purple-800 to-pink-900 rounded-2xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"absolute top-3 right-3 z-10 inline-flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold rounded-full shadow",children:[e.jsx(Ve,{className:"w-3 h-3"}),"Ø¥Ø¹Ù„Ø§Ù†"]}),((Se=n[j])==null?void 0:Se.mediaUrl)&&e.jsx("div",{className:"relative h-48",children:n[j].type==="video"?e.jsxs(e.Fragment,{children:[e.jsx("video",{src:n[j].mediaUrl,className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:e.jsx(be,{className:"w-6 h-6 text-white fill-white"})})})]}):e.jsx("img",{src:n[j].mediaUrl,alt:n[j].title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:((Ce=n[j])==null?void 0:Ce.restaurantName)&&e.jsx("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:n[j].restaurantName})}),((Te=n[j])==null?void 0:Te.title)&&e.jsx("h3",{className:"text-lg font-bold text-white",children:n[j].title}),((Ie=n[j])==null?void 0:Ie.description)&&e.jsx("p",{className:"text-purple-100 text-sm mt-1 line-clamp-2",children:n[j].description})]})]}),n.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s=>{s.preventDefault(),I(r=>r===0?n.length-1:r-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 hover:bg-white rounded-full shadow-lg transition z-10",children:e.jsx(Ue,{className:"w-5 h-5 text-gray-800"})}),e.jsx("button",{onClick:s=>{s.preventDefault(),I(r=>r===n.length-1?0:r+1)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 hover:bg-white rounded-full shadow-lg transition z-10",children:e.jsx(Me,{className:"w-5 h-5 text-gray-800"})})]}),n.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-3",children:n.map((s,r)=>e.jsx("button",{onClick:()=>I(r),className:`w-2 h-2 rounded-full transition ${r===j?"bg-purple-500 w-4":"bg-gray-300"}`},r))})]})]}),ye.length>0&&e.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sky-600",children:[e.jsx(rs,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:"})]}),e.jsx("button",{onClick:()=>o(""),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a?"bg-sky-100 text-sky-700 hover:bg-sky-200":"bg-sky-500 text-white shadow-lg"}`,children:"Ø§Ù„ÙƒÙ„"}),ye.map(s=>e.jsxs("button",{onClick:()=>o(s),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-1 ${a===s?"bg-sky-500 text-white shadow-lg":"bg-sky-100 text-sky-700 hover:bg-sky-200"}`,children:[e.jsx(fe,{className:"w-4 h-4"}),s]},s)),a&&e.jsx("button",{onClick:()=>o(""),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙÙ„ØªØ±",children:e.jsx(ie,{className:"w-5 h-5"})})]}),D.length===0&&e.jsxs("div",{className:"text-center py-10",children:[e.jsx("div",{className:"w-20 h-20 bg-sky-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(is,{className:"w-10 h-10 text-sky-500"})}),x?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"ðŸ˜” Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù… Ù‚Ø±ÙŠØ¨Ø© Ù…Ù†Ùƒ"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:["Ù†Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø¶Ù…Ù† ",he," ÙƒÙ… ÙÙ‚Ø·"]})]}):e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:a?`ðŸ˜” Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù… ÙÙŠ ${a}`:"ðŸ˜” Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù… Ø­Ø§Ù„ÙŠØ§Ù‹"})})]}),x&&D.length>0&&(g==="customer"||g==="courier")&&e.jsxs("div",{className:"mb-6 bg-sky-50 border border-sky-200 rounded-xl p-4 flex items-center gap-3",children:[e.jsx(se,{className:"w-6 h-6 text-sky-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sky-700 font-semibold",children:"Ù†Ø¹Ø±Ø¶ Ù„Ùƒ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© ÙÙ‚Ø·"}),e.jsxs("p",{className:"text-sky-600 text-sm",children:["Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ù‚ØµÙˆÙ‰ Ù„Ù„ØªÙˆØµÙŠÙ„: ",he," ÙƒÙ…"]})]})]}),D.filter(s=>s.packageType==="premium").length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-6 h-6 text-amber-500"}),e.jsx("h2",{className:"text-xl font-bold text-amber-400",children:"â­ Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…Ù…ÙŠØ²Ø©"})]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[D.filter(s=>s.packageType==="premium").length," Ø£Ø³Ø±Ø©"]})]}),e.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:D.filter(s=>s.packageType==="premium").map(s=>e.jsxs(_,{to:`/menu?restaurant=${s.id}${c?`&ref=${c}`:""}`,onClick:()=>Ee(s.id,h==null?void 0:h.uid,c||"direct"),className:"group bg-[#1E293B] border border-amber-500/30 rounded-[16px] shadow-lg shadow-amber-500/10 hover:shadow-xl hover:shadow-amber-500/20 hover:-translate-y-2 transform transition-all duration-300 p-3 sm:p-4 flex flex-col items-center text-center relative overflow-hidden active:scale-[0.98]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow flex items-center gap-1",children:[e.jsx(ge,{className:"w-3 h-3"}),"Ù…Ù…ÙŠØ²Ø©"]})}),s.distance!==void 0&&e.jsxs("div",{className:"absolute top-2 left-2 bg-sky-500/90 backdrop-blur text-white text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-0.5",children:[e.jsx(se,{className:"w-2.5 h-2.5"}),s.distance<1?`${Math.round(s.distance*1e3)}Ù…`:`${s.distance.toFixed(1)}ÙƒÙ…`]}),e.jsxs("div",{className:"relative mt-6 mb-3",children:[s.logoUrl?e.jsx("img",{src:s.logoUrl,alt:s.name,className:"w-20 h-20 object-cover rounded-full border-4 border-amber-400 shadow-lg group-hover:scale-110 transition-transform duration-300"}):e.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-slate-700 border-4 border-amber-400 shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(pe,{className:"w-8 h-8 text-amber-400"})}),(s.isVerified||s.licenseStatus==="approved")&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-7 h-7 bg-sky-500 rounded-full flex items-center justify-center border-2 border-white shadow-lg",children:e.jsx(te,{className:"w-4 h-4 text-white"})})]}),e.jsx("h3",{className:"font-bold text-sm text-white line-clamp-1",children:s.name}),s.city&&e.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-0.5 mt-1 mb-2",children:[e.jsx(fe,{className:"w-3 h-3"}),s.city]}),s.isVerified||s.licenseStatus==="approved"?e.jsxs("div",{className:"bg-sky-500/20 border border-sky-500/50 text-sky-400 text-[11px] font-bold px-3 py-1 rounded-full flex items-center gap-1 mb-2",children:[e.jsx(te,{className:"w-3 h-3"}),"âœ” Ù…ÙˆØ«Ù‚Ø©"]}):s.licenseStatus==="pending"?e.jsxs("div",{className:"bg-amber-500/20 border border-amber-500/50 text-amber-400 text-[11px] font-bold px-3 py-1 rounded-full flex items-center gap-1 mb-2",children:[e.jsx(Pe,{className:"w-3 h-3"}),"â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"]}):null,e.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-gray-400",children:[s.averageRating!==void 0&&s.averageRating>0&&e.jsxs("span",{className:"flex items-center gap-0.5",children:[e.jsx(ue,{className:"w-3 h-3 text-amber-400 fill-amber-400"}),s.averageRating.toFixed(1)]}),s.totalOrders!==void 0&&s.totalOrders>0&&e.jsxs("span",{className:"flex items-center gap-0.5",children:[e.jsx(je,{className:"w-3 h-3"}),s.totalOrders]})]}),e.jsxs("div",{className:"flex gap-1 mt-2",children:[s.sellerTier==="gold"&&e.jsx("span",{className:"bg-gradient-to-r from-amber-400 to-yellow-400 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-full",children:"ðŸ‘‘ Gold"}),s.sellerTier==="silver"&&e.jsx("span",{className:"bg-gradient-to-r from-gray-400 to-gray-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-full",children:"ðŸ¥ˆ Silver"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5 justify-center",children:[s.allowDelivery!==!1&&e.jsxs("span",{className:"inline-flex items-center gap-0.5 bg-sky-500/20 text-sky-400 text-[9px] font-medium px-1.5 py-0.5 rounded-full",children:[e.jsx(_e,{className:"w-2.5 h-2.5"}),"ØªÙˆØµÙŠÙ„"]}),s.allowPickup&&e.jsxs("span",{className:"inline-flex items-center gap-0.5 bg-green-500/20 text-green-400 text-[9px] font-medium px-1.5 py-0.5 rounded-full",children:[e.jsx(ee,{className:"w-2.5 h-2.5"}),"Ø§Ø³ØªÙ„Ø§Ù…"]})]})]},s.id))})]}),D.filter(s=>s.packageType!=="premium").length>0&&e.jsxs("div",{children:[D.filter(s=>s.packageType==="premium").length>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(pe,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-bold text-gray-300",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø±"})]}),e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6",children:D.filter(s=>s.packageType!=="premium").map(s=>e.jsxs(_,{to:`/menu?restaurant=${s.id}${c?`&ref=${c}`:""}`,onClick:()=>Ee(s.id,h==null?void 0:h.uid,c||"direct"),className:"group bg-[#1E293B] rounded-[16px] shadow-lg shadow-black/20 hover:shadow-xl hover:shadow-black/30 hover:-translate-y-1 transform transition-all duration-300 p-4 sm:p-6 flex flex-col items-center text-center relative overflow-hidden active:scale-[0.98]",children:[s.distance!==void 0&&e.jsxs("div",{className:"absolute top-3 left-3 bg-sky-500/90 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),s.distance<1?`${Math.round(s.distance*1e3)} Ù…`:`${s.distance.toFixed(1)} ÙƒÙ…`]}),e.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-1.5",children:[s.sellerTier==="gold"&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-400 to-yellow-500 text-white text-xs font-bold px-2.5 py-1 rounded-full flex items-center gap-1 shadow-lg",children:[e.jsx(ge,{className:"w-3 h-3"}),"Gold"]}),s.sellerTier==="silver"&&e.jsxs("div",{className:"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800 text-xs font-bold px-2.5 py-1 rounded-full flex items-center gap-1 shadow-lg",children:[e.jsx(ns,{className:"w-3 h-3"}),"Silver"]})]}),e.jsxs("div",{className:"relative mt-2 mb-4",children:[s.logoUrl?e.jsx("img",{src:s.logoUrl,alt:s.name,className:`w-24 h-24 object-cover rounded-full border-4 shadow-lg group-hover:scale-105 transition-transform duration-300 ${s.sellerTier==="gold"?"border-amber-400 ring-4 ring-amber-400/30":s.sellerTier==="silver"?"border-gray-300 ring-4 ring-gray-300/30":"border-slate-500"}`}):e.jsx("div",{className:`w-24 h-24 flex items-center justify-center rounded-full text-4xl border-4 shadow-lg group-hover:scale-105 transition-transform duration-300 ${s.sellerTier==="gold"?"bg-amber-900/50 border-amber-400":s.sellerTier==="silver"?"bg-gray-700 border-gray-300":"bg-slate-700 border-slate-500"}`,children:"ðŸ´"}),(s.isVerified||s.licenseStatus==="approved")&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center border-2 border-white shadow-lg",children:e.jsx(te,{className:"w-5 h-5 text-white"})})]}),e.jsx("h3",{className:"font-bold text-xl text-white mb-1",children:s.name}),s.city&&e.jsxs("p",{className:"text-sm text-gray-400 flex items-center justify-center gap-1 mb-3",children:[e.jsx(fe,{className:"w-4 h-4"}),s.city]}),s.isVerified||s.licenseStatus==="approved"?e.jsxs("div",{className:"bg-sky-500/20 border border-sky-500/50 text-sky-400 text-sm font-bold px-4 py-1.5 rounded-full flex items-center gap-2 mb-3",children:[e.jsx(te,{className:"w-4 h-4"}),"âœ” Ù…ÙˆØ«Ù‚Ø©"]}):s.licenseStatus==="pending"?e.jsxs("div",{className:"bg-amber-500/20 border border-amber-500/50 text-amber-400 text-sm font-bold px-4 py-1.5 rounded-full flex items-center gap-2 mb-3",children:[e.jsx(Pe,{className:"w-4 h-4"}),"â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"]}):null,e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[(s.allowDelivery===void 0||s.allowDelivery===!0)&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-sky-500/20 text-sky-400 text-xs font-semibold rounded-full",children:[e.jsx(_e,{className:"w-3 h-3"}),"ØªÙˆØµÙŠÙ„"]}),s.allowPickup&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-500/20 text-green-400 text-xs font-semibold rounded-full",children:[e.jsx(ee,{className:"w-3 h-3"}),"Ø§Ø³ØªÙ„Ø§Ù…"]})]})]},s.id))})]})]})};export{Ns as RestaurantsPage};
