import{j as e,e as $,d as b}from"./index-FuU3jBZc.js";import{b as L,r as a,L as u}from"./vendor-react-C_wfuX_s.js";import{D as R,s as p,k as j,z as f}from"./vendor-firebase-Co4MdP0H.js";import{S as T}from"./cities-SgZ78e-Z.js";import{a5 as I,a9 as D,S as F,j as P,$ as M,Q as O,f as U,aa as _,A as z,i as B,l as H}from"./vendor-icons-Dyg7S3Xx.js";const J=()=>{const N=L(),[t,m]=a.useState(1),[o,h]=a.useState(!1),[g,l]=a.useState(""),[n,y]=a.useState(""),[c,w]=a.useState(""),[r,v]=a.useState(""),[x,k]=a.useState(""),[i,S]=a.useState(!1),d=()=>{switch(t){case 1:return n.trim().length>=2&&c!=="";case 2:return r.includes("@")&&r.length>=5&&x.length>=6;case 3:return i;default:return!1}},C=()=>{d()&&t<3&&(m(t+1),l(""))},A=()=>{t>1&&(m(t-1),l(""))},E=async()=>{if(d()){h(!0),l("");try{const s=await R($,r,x);await p(j(b,"users",s.user.uid),{name:n,email:r,role:"owner",city:c,createdAt:f()}),await p(j(b,"restaurants",s.user.uid),{name:n,ownerId:s.user.uid,email:r,city:c,isOpen:!0,packageType:"free",licenseStatus:"pending",createdAt:f()}),N("/owner")}catch(s){console.error("Registration error:",s),s.code==="auth/email-already-in-use"?l("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹. Ø¬Ø±Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"):s.code==="auth/weak-password"?l("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ©. Ø§Ø³ØªØ®Ø¯Ù… 6 Ø£Ø­Ø±Ù Ø£Ùˆ Ø£ÙƒØ«Ø±"):l("Ø­Ø¯Ø« Ø®Ø·Ø£. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰")}finally{h(!1)}}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50 px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-amber-500 to-orange-500 
            rounded-3xl flex items-center justify-center shadow-2xl shadow-orange-500/30`,children:e.jsx(I,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-black text-gray-800 mb-2",children:"Ø³Ø¬Ù‘Ù„ Ø£Ø³Ø±ØªÙƒ Ø§Ù„Ù…Ù†ØªØ¬Ø©"}),e.jsx("p",{className:"text-gray-500",children:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¨ÙŠØ¹ ÙÙŠ Ø¯Ù‚Ø§Ø¦Ù‚! ğŸš€"})]}),e.jsx("div",{className:"flex items-center justify-center gap-3 mb-8",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg
                transition-all duration-300 ${t>s?"bg-green-500 text-white":t===s?"bg-amber-500 text-white shadow-lg scale-110":"bg-gray-200 text-gray-400"}`,children:t>s?e.jsx(D,{className:"w-5 h-5"}):s}),s<3&&e.jsx("div",{className:`w-8 h-1 mx-1 rounded transition-all duration-300 ${t>s?"bg-green-500":"bg-gray-200"}`})]},s))}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 mb-6",children:[t===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("span",{className:"text-5xl",children:"ğŸ "}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-2",children:"Ø¹Ø±Ù‘ÙÙ†Ø§ Ø¨Ø£Ø³Ø±ØªÙƒ"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ø§ÙŠØ´ Ø§Ø³Ù… Ù…Ø·Ø¨Ø®ÙƒØŸ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 text-lg",children:"Ø§Ø³Ù… Ø§Ù„Ø£Ø³Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø©"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-amber-500"}),e.jsx("input",{type:"text",value:n,onChange:s=>y(s.target.value),placeholder:"Ù…Ø«Ø§Ù„: Ù…Ø·Ø¨Ø® Ø£Ù… Ø³Ø§Ø±Ø©",className:`w-full p-4 pr-14 text-lg rounded-2xl border-2 border-gray-200 
                      focus:border-amber-500 focus:ring-4 focus:ring-amber-100 transition-all
                      placeholder:text-gray-400`})]}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"ğŸ’¡ Ø§Ø®ØªØ± Ø§Ø³Ù… ÙŠØ¹Ø¨Ø± Ø¹Ù† Ù‡ÙˆÙŠØªÙƒ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 text-lg",children:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-amber-500 pointer-events-none"}),e.jsxs("select",{value:c,onChange:s=>w(s.target.value),className:`w-full p-4 pr-14 text-lg rounded-2xl border-2 border-gray-200 
                      focus:border-amber-500 focus:ring-4 focus:ring-amber-100 transition-all
                      appearance-none cursor-pointer bg-white`,children:[e.jsx("option",{value:"",children:"Ø§Ø®ØªØ± Ù…Ø¯ÙŠÙ†ØªÙƒ"}),T.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})]}),t===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("span",{className:"text-5xl",children:"ğŸ“§"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-2",children:"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ù„ØªÙ‚Ø¯Ø± ØªØ¯Ø®Ù„ Ø­Ø³Ø§Ø¨Ùƒ Ù„Ø§Ø­Ù‚Ø§Ù‹"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 text-lg",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-amber-500"}),e.jsx("input",{type:"email",value:r,onChange:s=>v(s.target.value),placeholder:"example@email.com",className:`w-full p-4 pr-14 text-lg rounded-2xl border-2 border-gray-200 
                      focus:border-amber-500 focus:ring-4 focus:ring-amber-100 transition-all
                      placeholder:text-gray-400 text-left`,dir:"ltr"})]}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"ğŸ“§ Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 text-lg",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-amber-500"}),e.jsx("input",{type:"password",value:x,onChange:s=>k(s.target.value),placeholder:"6 Ø£Ø­Ø±Ù Ø£Ùˆ Ø£ÙƒØ«Ø±",className:`w-full p-4 pr-14 text-lg rounded-2xl border-2 border-gray-200 
                      focus:border-amber-500 focus:ring-4 focus:ring-amber-100 transition-all
                      placeholder:text-gray-400`})]}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"ğŸ”’ Ø§Ø­ÙØ¸Ù‡Ø§ ÙÙŠ Ù…ÙƒØ§Ù† Ø¢Ù…Ù†"})]})]}),t===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("span",{className:"text-5xl",children:"âœ¨"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-2",children:"Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ù†Ø·Ù„Ø§Ù‚!"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ø®Ø·ÙˆØ© Ø£Ø®ÙŠØ±Ø© ÙÙ‚Ø·"})]}),e.jsxs("div",{className:"bg-amber-50 rounded-2xl p-4 space-y-3",children:[e.jsx("h3",{className:"font-bold text-amber-800 mb-3",children:"ğŸ“‹ Ù…Ù„Ø®Øµ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ:"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ø³Ù… Ø§Ù„Ø£Ø³Ø±Ø©:"}),e.jsx("span",{className:"font-bold text-gray-800",children:n})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:"}),e.jsx("span",{className:"font-bold text-gray-800",children:c})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:"}),e.jsx("span",{className:"font-bold text-gray-800",dir:"ltr",children:r})]})]}),e.jsxs("button",{onClick:()=>S(!i),className:`w-full p-4 rounded-2xl border-2 flex items-center gap-4 transition-all ${i?"bg-green-50 border-green-500":"bg-white border-gray-200 hover:border-amber-300"}`,children:[i?e.jsx(U,{className:"w-8 h-8 text-green-500 flex-shrink-0"}):e.jsx(_,{className:"w-8 h-8 text-gray-300 flex-shrink-0"}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`font-bold ${i?"text-green-700":"text-gray-700"}`,children:"Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.jsx(u,{to:"/terms",target:"_blank",className:"text-amber-600 underline",children:"Ø§Ù‚Ø±Ø£ Ø§Ù„Ø´Ø±ÙˆØ·"})})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-orange-100 rounded-2xl p-4 text-center",children:e.jsx("p",{className:"text-amber-800 font-bold",children:"ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ØªÙ‚Ø¯Ø± ØªØ¶ÙŠÙ Ø£ØµÙ†Ø§ÙÙƒ ÙˆØªØ¨Ø¯Ø£ ØªØ³ØªÙ‚Ø¨Ù„ Ø·Ù„Ø¨Ø§Øª"})})]}),g&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-2xl text-red-700 text-center",children:["âš ï¸ ",g]})]}),e.jsxs("div",{className:"flex gap-3",children:[t>1&&e.jsxs("button",{onClick:A,className:`flex-1 py-4 px-6 rounded-2xl bg-white border-2 border-gray-200 
                text-gray-600 font-bold text-lg flex items-center justify-center gap-2
                active:scale-95 transition-all`,children:[e.jsx(z,{className:"w-5 h-5"}),"Ø±Ø¬ÙˆØ¹"]}),e.jsx("button",{onClick:t===3?E:C,disabled:!d()||o,className:`flex-1 py-4 px-6 rounded-2xl font-bold text-lg 
              flex items-center justify-center gap-2 transition-all
              ${d()&&!o?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-xl shadow-orange-500/30 active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Ø¬Ø§Ø±Ù Ø§Ù„ØªØ³Ø¬ÙŠÙ„..."]}):t===3?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-5 h-5"}),"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†!"]}):e.jsxs(e.Fragment,{children:["Ø§Ù„ØªØ§Ù„ÙŠ",e.jsx(H,{className:"w-5 h-5"})]})})]}),e.jsxs("p",{className:"text-center text-gray-500 mt-6",children:["Ø¹Ù†Ø¯Ùƒ Ø­Ø³Ø§Ø¨ØŸ"," ",e.jsx(u,{to:"/login",className:"text-amber-600 font-bold hover:underline",children:"Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„"})]})]})})};export{J as OwnerRegister,J as default};
