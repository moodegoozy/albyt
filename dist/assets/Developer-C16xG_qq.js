import{u as aa,b as la,c as ra,f as Pe,j as e,R as ut,d as p,e as ws}from"./index-FuU3jBZc.js";import{r as d,L as He}from"./vendor-react-C_wfuX_s.js";import{e as na,u as J,k as F,z as w,p as We,y as pe,m as Y,t as oe,j as Ts,q as qe,F as wt,G as kt,D as ks,s as Se,H as St,I as Ct,J as At,w as Ds}from"./vendor-firebase-Co4MdP0H.js";import{ac as Ne,aV as bt,ar as ia,a4 as Qe,R as jt,P as he,T as Ss,J as Je,ae as Ye,aW as da,aX as ca,i as ft,aY as Fs,ao as Nt,K as Dt,aq as Ft,B as oa,Z as xa,f as ve,E as _e,aZ as ma,S as ha,X as Te,Y as Cs,v as Ze,D as As,a_ as ga,al as pa,an as vt,h as Be,aC as ua,a3 as yt,aS as ba,aT as ja,a$ as fa,b0 as Na,b1 as $s,c as va}from"./vendor-icons-Dyg7S3Xx.js";const ie={projectId:Pe.options.projectId,authDomain:Pe.options.authDomain,storageBucket:Pe.options.storageBucket,messagingSenderId:Pe.options.messagingSenderId,appId:Pe.options.appId},Ba=()=>{var ot,xt,mt,ht;const{user:j}=aa(),i=la(),h=ra(),k=na(Pe),[y,R]=d.useState("overview"),[u,H]=d.useState(!0),[W,q]=d.useState(!1),[I,ae]=d.useState({users:0,restaurants:0,menuItems:0,orders:0,pendingOrders:0,deliveredOrders:0,admins:0,couriers:0,customers:0,owners:0,totalAppEarnings:0}),[$,Q]=d.useState({}),[C,v]=d.useState([]),[A,K]=d.useState([]),[x,ee]=d.useState([]),[M,de]=d.useState([]),[X,le]=d.useState(!1),[_,U]=d.useState({}),[Z,V]=d.useState(null),[L,re]=d.useState({}),[xe,n]=d.useState(!1),[G,P]=d.useState(null),[o,N]=d.useState({}),[l,S]=d.useState(null),[D,B]=d.useState(!1),[O,te]=d.useState(""),[ue,Ie]=d.useState(""),[be,je]=d.useState(""),[Le,Rs]=d.useState(""),[Ps,_s]=d.useState(!1),[es,Is]=d.useState(!1),[Ce,Ls]=d.useState(""),[ss,Es]=d.useState(""),[Ee,Os]=d.useState(""),[ts,Us]=d.useState(""),[Bs,Ms]=d.useState(!1),[as,Vs]=d.useState(!1),[Ae,zs]=d.useState(""),[ls,Hs]=d.useState(""),[Ws,Qs]=d.useState(""),[Js,Ys]=d.useState(""),[ye,Zs]=d.useState(""),[Me,Gs]=d.useState(""),[Ks,Xs]=d.useState(!1),[De,$t]=d.useState([]),[Tt,rs]=d.useState(!1),[ns,is]=d.useState(""),[qs,ds]=d.useState(""),[Ve,cs]=d.useState(""),[et,os]=d.useState("medium"),[st,xs]=d.useState(""),[tt,at]=d.useState(!1),[Fe,Rt]=d.useState("all"),[we,Pt]=d.useState([]),[Ca,Aa]=d.useState("all"),[Da,Fa]=d.useState(null),[$a,Ta]=d.useState(null),[Ra,Pa]=d.useState(99),[_a,Ia]=d.useState(30),[ms,_t]=d.useState([]),[hs,lt]=d.useState(!1),[gs,It]=d.useState("all"),[ne,ge]=d.useState(""),[Oe,rt]=d.useState("all"),[ze,nt]=d.useState("all"),[ps,it]=d.useState("all"),[ce,us]=d.useState("newest"),[Ue,dt]=d.useState("all");j!=null&&j.email;const bs=()=>{let s=[...A];if(ne){const t=ne.toLowerCase();s=s.filter(a=>{var r,c,m,g;return((r=a.name)==null?void 0:r.toLowerCase().includes(t))||((c=a.email)==null?void 0:c.toLowerCase().includes(t))||((m=a.phone)==null?void 0:m.includes(t))||((g=a.city)==null?void 0:g.toLowerCase().includes(t))})}return Oe==="premium"?s=s.filter(t=>t.packageType==="premium"):Oe==="free"?s=s.filter(t=>!t.packageType||t.packageType==="free"):Oe==="verified"?s=s.filter(t=>t.isVerified):Oe==="unverified"&&(s=s.filter(t=>!t.isVerified)),ce==="newest"?s.sort((t,a)=>{var r,c,m,g,T,b;return(((m=(c=(r=a.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))==null?void 0:m.getTime())||0)-(((b=(T=(g=t.createdAt)==null?void 0:g.toDate)==null?void 0:T.call(g))==null?void 0:b.getTime())||0)}):ce==="oldest"?s.sort((t,a)=>{var r,c,m,g,T,b;return(((m=(c=(r=t.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))==null?void 0:m.getTime())||0)-(((b=(T=(g=a.createdAt)==null?void 0:g.toDate)==null?void 0:T.call(g))==null?void 0:b.getTime())||0)}):ce==="name"&&s.sort((t,a)=>(t.name||"").localeCompare(a.name||"","ar")),s},js=()=>{let s=[...x];if(ne){const t=ne.toLowerCase();s=s.filter(a=>{var r,c,m;return((r=a.id)==null?void 0:r.toLowerCase().includes(t))||((c=a.restaurantName)==null?void 0:c.toLowerCase().includes(t))||((m=a.address)==null?void 0:m.toLowerCase().includes(t))})}if(ze==="pending"?s=s.filter(t=>["pending","accepted","preparing","ready"].includes(t.status)):ze==="delivered"?s=s.filter(t=>t.status==="delivered"):ze==="cancelled"&&(s=s.filter(t=>t.status==="cancelled")),Ue!=="all"){const t=new Date,a=new Date;Ue==="today"?a.setHours(0,0,0,0):Ue==="week"?a.setDate(t.getDate()-7):Ue==="month"&&a.setMonth(t.getMonth()-1),s=s.filter(r=>{var m,g;return(((g=(m=r.createdAt)==null?void 0:m.toDate)==null?void 0:g.call(m))||new Date(r.createdAt))>=a})}return ce==="newest"?s.sort((t,a)=>{var r,c,m,g,T,b;return(((m=(c=(r=a.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))==null?void 0:m.getTime())||0)-(((b=(T=(g=t.createdAt)==null?void 0:g.toDate)==null?void 0:T.call(g))==null?void 0:b.getTime())||0)}):ce==="oldest"&&s.sort((t,a)=>{var r,c,m,g,T,b;return(((m=(c=(r=t.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))==null?void 0:m.getTime())||0)-(((b=(T=(g=a.createdAt)==null?void 0:g.toDate)==null?void 0:T.call(g))==null?void 0:b.getTime())||0)}),s},fs=()=>{let s=[...C];if(ne){const t=ne.toLowerCase();s=s.filter(a=>{var r,c,m;return((r=a.name)==null?void 0:r.toLowerCase().includes(t))||((c=a.email)==null?void 0:c.toLowerCase().includes(t))||((m=a.phone)==null?void 0:m.includes(t))})}return ps!=="all"&&(s=s.filter(t=>t.role===ps)),ce==="newest"?s.sort((t,a)=>{var r,c,m,g,T,b;return(((m=(c=(r=a.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))==null?void 0:m.getTime())||0)-(((b=(T=(g=t.createdAt)==null?void 0:g.toDate)==null?void 0:T.call(g))==null?void 0:b.getTime())||0)}):ce==="oldest"?s.sort((t,a)=>{var r,c,m,g,T,b;return(((m=(c=(r=t.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))==null?void 0:m.getTime())||0)-(((b=(T=(g=a.createdAt)==null?void 0:g.toDate)==null?void 0:T.call(g))==null?void 0:b.getTime())||0)}):ce==="name"&&s.sort((t,a)=>(t.name||"").localeCompare(a.name||"","ar")),s},Ns=async(s,t,a,r,c,m,g)=>{try{await pe(Y(p,"activityLogs"),{action:s,targetType:t,targetId:a,targetName:r,performedBy:(j==null?void 0:j.uid)||"",performedByName:(j==null?void 0:j.email)||"Ù…Ø·ÙˆØ±",details:c,oldValue:m,newValue:g,createdAt:w()})}catch(T){console.warn("ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:",T)}},Lt=async(s,t)=>{const a=t?"ØªØ¹Ù„ÙŠÙ‚":"ØªÙØ¹ÙŠÙ„";if(await h.confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ${a} Ø­Ø³Ø§Ø¨ "${s.name||s.email}"ØŸ`,{title:`${a} Ø§Ù„Ø­Ø³Ø§Ø¨`,dangerous:!t}))try{await J(F(p,"users",s.uid),{isActive:!t,updatedAt:w()}),await Ns(t?"deactivate":"activate","user",s.uid,s.name||s.email,`ØªÙ… ${a} Ø§Ù„Ø­Ø³Ø§Ø¨`),i.success(`ØªÙ… ${a} Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…`),z()}catch(c){console.error("Ø®Ø·Ø£:",c),i.error(`ÙØ´Ù„ ${a} Ø§Ù„Ø­Ø³Ø§Ø¨`)}},Et=async(s,t=30)=>{if(await h.confirm(`Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ù„Ù€ "${s.name}" Ù„Ù…Ø¯Ø© ${t} ÙŠÙˆÙ…`,{title:"âœ¨ ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²"}))try{const r=new Date;r.setDate(r.getDate()+t),await J(F(p,"restaurants",s.id),{packageType:"premium",packageSubscribedAt:w(),packageExpiresAt:r,packageRequest:null,updatedAt:w()}),await Ns("package_activate","restaurant",s.id,s.name,`ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ù„Ù…Ø¯Ø© ${t} ÙŠÙˆÙ…`),i.success(`ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ù„Ù€ ${s.name} âœ¨`),z()}catch(r){console.error("Ø®Ø·Ø£:",r),i.error("ÙØ´Ù„ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø§Ù‚Ø©")}},Ot=async s=>{if(await h.confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù„ØºØ§Ø¡ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ù„Ù€ "${s.name}"ØŸ`,{title:"âš ï¸ Ø¥Ù„ØºØ§Ø¡ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²",dangerous:!0}))try{await J(F(p,"restaurants",s.id),{packageType:"free",packageExpiresAt:null,updatedAt:w()}),await Ns("package_cancel","restaurant",s.id,s.name,"Ø¥Ù„ØºØ§Ø¡ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²"),i.success(`ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ù„Ù€ ${s.name}`),z()}catch(a){console.error("Ø®Ø·Ø£:",a),i.error("ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¨Ø§Ù‚Ø©")}},ct=async()=>{lt(!0);try{const s=qe(Y(p,"activityLogs"),wt("createdAt","desc"),kt(100)),a=(await oe(s)).docs.map(r=>{var c,m;return{id:r.id,...r.data(),createdAt:((m=(c=r.data().createdAt)==null?void 0:c.toDate)==null?void 0:m.call(c))||null}});_t(a)}catch(s){console.warn("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª:",s)}finally{lt(!1)}},Ut=async()=>{if(!O.trim()||!be.trim()){i.warning("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±");return}if(be.length<6){i.warning("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");return}if(await h.confirm(`Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø´Ø±Ù Ø¬Ø¯ÙŠØ¯:

ğŸ“§ ${O}
ğŸ‘¤ ${ue||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"}

Ù…Ù„Ø§Ø­Ø¸Ø©: Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ Ù…Ø¤Ù‚ØªØ§Ù‹ØŒ Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.`,{title:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±Ù Ø¬Ø¯ÙŠØ¯"})){_s(!0);try{const a=(await ks(ws,O.trim(),be)).user.uid;await Se(F(p,"users",a),{email:O.trim(),name:ue.trim()||"Ù…Ø´Ø±Ù Ø¬Ø¯ÙŠØ¯",phone:Le.trim()||"",role:"admin",createdAt:w()}),await Se(F(p,"wallets",a),{balance:0,totalEarnings:0,totalWithdrawn:0,transactions:[],updatedAt:w()}),i.success("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´Ø±Ù Ø¨Ù†Ø¬Ø§Ø­ âœ…"),i.info("âš ï¸ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ÙƒØŒ ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰"),te(""),Ie(""),je(""),Rs(""),B(!1)}catch(t){console.error("Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±Ù:",t),t.code==="auth/email-already-in-use"?i.error("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¨Ù‚Ø§Ù‹"):t.code==="auth/invalid-email"?i.error("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­"):t.code==="auth/weak-password"?i.error("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹"):i.error("ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±Ù: "+(t.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{_s(!1)}}},Bt=async()=>{if(!Ce.trim()||!Ee.trim()){i.warning("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±");return}if(Ee.length<6){i.warning("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");return}if(await h.confirm(`Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ù†Ø¯ÙˆØ¨ Ø¬Ø¯ÙŠØ¯:

ğŸ“§ ${Ce}
ğŸ‘¤ ${ss||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"}
ğŸ“± ${ts||"Ø¨Ø¯ÙˆÙ† Ø±Ù‚Ù…"}`,{title:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†Ø¯ÙˆØ¨ Ø¬Ø¯ÙŠØ¯"})){Ms(!0);try{const a=(await ks(ws,Ce.trim(),Ee)).user.uid;await Se(F(p,"users",a),{email:Ce.trim(),name:ss.trim()||"Ù…Ù†Ø¯ÙˆØ¨ Ø¬Ø¯ÙŠØ¯",phone:ts.trim()||"",role:"courier",createdAt:w()}),i.success("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…"),i.info("âš ï¸ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ÙƒØŒ ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰"),Ls(""),Es(""),Os(""),Us(""),Is(!1)}catch(t){console.error("Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨:",t),t.code==="auth/email-already-in-use"?i.error("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¨Ù‚Ø§Ù‹"):i.error("ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨: "+(t.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{Ms(!1)}}},Mt=async()=>{if(!Ae.trim()){i.warning("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…");return}if(!ye.trim()||!Me.trim()){i.warning("Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ø·Ø¹Ù…");return}if(await h.confirm(`Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯:

ğŸª ${Ae}
ğŸ“ ${ls||"Ø¨Ø¯ÙˆÙ† Ù…Ø¯ÙŠÙ†Ø©"}
ğŸ‘¤ ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ø·Ø¹Ù…: ${ye}`,{title:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯"})){Xs(!0);try{const a=(await ks(ws,ye.trim(),Me)).user.uid;await Se(F(p,"users",a),{email:ye.trim(),name:Ae.trim()+" - Ù…Ø§Ù„Ùƒ",role:"owner",createdAt:w()}),await Se(F(p,"restaurants",a),{name:Ae.trim(),ownerId:a,email:Js.trim()||ye.trim(),phone:Ws.trim()||"",city:ls.trim()||"",referredBy:j==null?void 0:j.uid,referrerType:"developer",createdAt:w()}),i.success("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø·Ø¹Ù… ÙˆØ­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø¨Ù†Ø¬Ø§Ø­ âœ…"),i.info("âš ï¸ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ÙƒØŒ ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰"),zs(""),Hs(""),Qs(""),Ys(""),Zs(""),Gs(""),Vs(!1)}catch(t){console.error("Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø·Ø¹Ù…:",t),t.code==="auth/email-already-in-use"?i.error("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¨Ù‚Ø§Ù‹"):i.error("ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø·Ø¹Ù…: "+(t.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{Xs(!1)}}},Vt=()=>{const s=new Date,t=new Date(s.getFullYear(),s.getMonth(),s.getDate()),a=new Date(t.getTime()-7*24*60*60*1e3),r=new Date(t.getTime()-30*24*60*60*1e3),c=x.filter(b=>{var se,me;return(((me=(se=b.createdAt)==null?void 0:se.toDate)==null?void 0:me.call(se))||new Date(0))>=t&&b.status!=="cancelled"}),m=x.filter(b=>{var se,me;return(((me=(se=b.createdAt)==null?void 0:se.toDate)==null?void 0:me.call(se))||new Date(0))>=a&&b.status!=="cancelled"}),g=x.filter(b=>{var se,me;return(((me=(se=b.createdAt)==null?void 0:se.toDate)==null?void 0:me.call(se))||new Date(0))>=r&&b.status!=="cancelled"}),T=x.filter(b=>b.status==="delivered");return{todayRevenue:c.reduce((b,E)=>b+(E.total||0),0),todayOrders:c.length,todayPlatformFee:c.reduce((b,E)=>b+(E.platformFee||0),0),weekRevenue:m.reduce((b,E)=>b+(E.total||0),0),weekOrders:m.length,weekPlatformFee:m.reduce((b,E)=>b+(E.platformFee||0),0),monthRevenue:g.reduce((b,E)=>b+(E.total||0),0),monthOrders:g.length,monthPlatformFee:g.reduce((b,E)=>b+(E.platformFee||0),0),totalRevenue:T.reduce((b,E)=>b+(E.total||0),0),totalPlatformFee:T.reduce((b,E)=>b+(E.platformFee||0),0),totalAdminCommission:T.reduce((b,E)=>b+(E.adminCommission||0),0)}},z=async()=>{try{const[s,t,a,r,c]=await Promise.all([oe(Y(p,"users")),oe(Y(p,"restaurants")),oe(Y(p,"menuItems")),oe(Y(p,"orders")),oe(Y(p,"wallets"))]);let m={docs:[]};try{m=await oe(Y(p,"tasks"))}catch{}let g={docs:[]};try{g=await oe(Y(p,"packageRequests"))}catch{}const T=s.docs.map(f=>({uid:f.id,...f.data()}));v(T);const b=t.docs.map(f=>({id:f.id,...f.data()}));K(b);const E=r.docs.map(f=>({id:f.id,...f.data()}));ee(E);const se=m.docs.map(f=>({id:f.id,...f.data()}));$t(se.sort((f,$e)=>{var fe,ke;return(((fe=$e.createdAt)==null?void 0:fe.seconds)||0)-(((ke=f.createdAt)==null?void 0:ke.seconds)||0)}));const me=g.docs.map(f=>({id:f.id,...f.data()}));Pt(me.sort((f,$e)=>{var fe,ke;return(((fe=$e.createdAt)==null?void 0:fe.seconds)||0)-(((ke=f.createdAt)==null?void 0:ke.seconds)||0)}));const ys={};c.docs.forEach(f=>{ys[f.id]=f.data()});const Xt=ys.app_earnings||{balance:0,totalEarnings:0},gt=T.filter(f=>f.role==="admin"),qt=T.filter(f=>f.role==="courier"),ea=T.filter(f=>f.role==="customer"),sa=T.filter(f=>f.role==="owner"),ta=gt.map(f=>{const $e=b.filter(ke=>ke.referredBy===f.uid),fe=ys[f.uid]||{balance:0,totalEarnings:0};return{uid:f.uid,email:f.email,name:f.name,walletBalance:fe.balance||0,totalEarnings:fe.totalEarnings||0,restaurantsCount:$e.length,restaurants:$e}});de(ta),ae({users:T.length,restaurants:b.length,menuItems:a.size,orders:E.length,pendingOrders:E.filter(f=>f.status==="pending").length,deliveredOrders:E.filter(f=>f.status==="delivered").length,admins:gt.length,couriers:qt.length,customers:ea.length,owners:sa.length,totalAppEarnings:Xt.totalEarnings||0});const pt=await Ts(F(p,"settings","general"));if(pt.exists()){const f=pt.data();Q(f),U(f)}else{const f={deliveryFee:7,minOrderAmount:20,maxDeliveryDistance:15,workingHours:{open:"09:00",close:"23:00"},maintenanceMode:!1,appVersion:"1.0.0",platformFee:1,adminCommissionRate:.75};Q(f),U(f)}}catch(s){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:",s),i.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{H(!1),q(!1)}};d.useEffect(()=>{z()},[]);const vs=()=>{q(!0),z(),i.info("Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...")},zt=async()=>{try{await Se(F(p,"settings","general"),_,{merge:!0}),Q(_),le(!1),i.success("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ âœ…")}catch(s){console.error("Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:",s),i.error("ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª")}},Ht=async s=>{try{await J(F(p,"restaurants",s),{...L,updatedAt:w()}),V(null),i.success("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­ âœ…"),z()}catch(t){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø·Ø¹Ù…:",t),i.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø·Ø¹Ù…")}},Wt=async(s,t)=>{try{if(!t.type.startsWith("image/")){i.warning("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© ÙÙ‚Ø·");return}if(t.size>5*1024*1024){i.warning("Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ±ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£Ù‚Ù„ Ù…Ù† 5MB");return}n(!0);const a=t.name.replace(/\s+/g,"_"),r=`restaurants/${s}/logo_${Date.now()}_${a}`,c=St(k,r),m={contentType:t.type||"image/jpeg",cacheControl:"public,max-age=31536000,immutable"};await Ct(c,t,m);const g=await At(c);await J(F(p,"restaurants",s),{logoUrl:g,updatedAt:w()}),i.success("ØªÙ… Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­ âœ…"),z()}catch(a){console.error("Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±:",a),i.error("ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±")}finally{n(!1)}},Qt=async s=>{if(await h.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø·Ø¹Ù…ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹!",{title:"Ø­Ø°Ù Ø§Ù„Ù…Ø·Ø¹Ù…",dangerous:!0}))try{await We(F(p,"restaurants",s)),i.success("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­"),z()}catch(a){console.error("Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø·Ø¹Ù…:",a),i.error("ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ø·Ø¹Ù…")}},Jt=async s=>{try{await J(F(p,"users",s),{...o,updatedAt:w()}),P(null),i.success("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­ âœ…"),z()}catch(t){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:",t),i.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…")}},Yt=async s=>{if(await h.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹!",{title:"Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",dangerous:!0}))try{await We(F(p,"users",s)),i.success("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"),i.warning("Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ¬Ø¨ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Firebase Auth"),z()}catch(a){console.error("Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:",a),i.error("ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…")}},Zt=async(s,t)=>{try{await J(F(p,"orders",s),{status:t,updatedAt:w()}),i.success("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ âœ…"),z()}catch(a){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨:",a),i.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨")}},Gt=s=>{switch(s){case"customer":return"ğŸ‘¤ Ø¹Ù…ÙŠÙ„";case"owner":return"ğŸª ØµØ§Ø­Ø¨ Ù…Ø·Ø¹Ù…";case"courier":return"ğŸš— Ù…Ù†Ø¯ÙˆØ¨";case"admin":return"ğŸ‘‘ Ù…Ø´Ø±Ù";case"developer":return"ğŸ‘¨â€ğŸ’» Ù…Ø·ÙˆØ±";default:return s}},Kt=s=>{switch(s){case"pending":return"â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©";case"accepted":return"âœ… Ù…Ù‚Ø¨ÙˆÙ„";case"preparing":return"ğŸ‘¨â€ğŸ³ Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±";case"ready":return"ğŸ“¦ Ø¬Ø§Ù‡Ø²";case"out_for_delivery":return"ğŸš— ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚";case"delivered":return"âœ”ï¸ ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…";case"cancelled":return"âŒ Ù…Ù„ØºÙŠ";default:return s}};return u?e.jsx(ut,{allow:["developer"],children:e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ne,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ±..."})]})})}):e.jsx(ut,{allow:["developer"],children:e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl p-8 text-white shadow-2xl",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-sky-500/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-sky-400 to-sky-600 rounded-2xl flex items-center justify-center shadow-lg shadow-sky-500/30",children:e.jsx(bt,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black tracking-tight",children:"Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­ÙƒÙ…"}),e.jsx("p",{className:"text-sky-300/80 text-sm",children:"Developer Console â€¢ Ø³ÙØ±Ø© Ø§Ù„Ø¨ÙŠØª"})]})]}),e.jsx("p",{className:"text-slate-400 mt-3 max-w-xl",children:"Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…ØŒ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("button",{onClick:vs,disabled:W,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-5 py-3 rounded-xl font-semibold transition border border-white/10 disabled:opacity-50",children:[e.jsx(Ne,{className:`w-5 h-5 ${W?"animate-spin":""}`}),"ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"]}),e.jsxs("a",{href:"/accounting",className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 px-5 py-3 rounded-xl font-semibold transition shadow-lg shadow-emerald-500/30",children:[e.jsx(ia,{className:"w-5 h-5"}),"Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©"]})]})]}),e.jsxs("div",{className:"relative z-10 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mt-8",children:[e.jsx(Re,{icon:e.jsx(Qe,{className:"w-5 h-5"}),value:I.users,label:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",color:"sky"}),e.jsx(Re,{icon:e.jsx(jt,{className:"w-5 h-5"}),value:I.restaurants,label:"Ø§Ù„Ù…Ø·Ø§Ø¹Ù…",color:"emerald"}),e.jsx(Re,{icon:e.jsx(he,{className:"w-5 h-5"}),value:I.orders,label:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª",color:"purple"}),e.jsx(Re,{icon:e.jsx(Ss,{className:"w-5 h-5"}),value:I.couriers,label:"Ø§Ù„Ù…Ù†Ø§Ø¯ÙŠØ¨",color:"orange"}),e.jsx(Re,{icon:e.jsx(Je,{className:"w-5 h-5"}),value:I.admins,label:"Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†",color:"amber"}),e.jsx(Re,{icon:e.jsx(Ye,{className:"w-5 h-5"}),value:`${I.totalAppEarnings.toFixed(0)} Ø±.Ø³`,label:"Ø§Ù„Ø£Ø±Ø¨Ø§Ø­",color:"green"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-2",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{id:"overview",label:"Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©",icon:e.jsx(da,{className:"w-4 h-4"})},{id:"finance",label:"Ø§Ù„Ù…Ø§Ù„ÙŠØ©",icon:e.jsx(Ye,{className:"w-4 h-4"})},{id:"restaurants",label:"Ø§Ù„Ù…Ø·Ø§Ø¹Ù…",icon:e.jsx(jt,{className:"w-4 h-4"})},{id:"storeAnalytics",label:"ØªØ­Ù„ÙŠÙ„Ø§Øª",icon:e.jsx(ca,{className:"w-4 h-4"})},{id:"packages",label:"Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",icon:e.jsx(Je,{className:"w-4 h-4"}),badge:we.filter(s=>["pending","payment_sent"].includes(s.status)).length},{id:"packageSettings",label:"Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",icon:e.jsx(ft,{className:"w-4 h-4"})},{id:"licenses",label:"Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ",icon:e.jsx(Fs,{className:"w-4 h-4"})},{id:"orders",label:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª",icon:e.jsx(he,{className:"w-4 h-4"})},{id:"users",label:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",icon:e.jsx(Qe,{className:"w-4 h-4"})},{id:"couriers",label:"Ø§Ù„Ù…Ù†Ø§Ø¯ÙŠØ¨",icon:e.jsx(Ss,{className:"w-4 h-4"})},{id:"admins",label:"Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†",icon:e.jsx(Je,{className:"w-4 h-4"})},{id:"tasks",label:"Ø§Ù„Ù…Ù‡Ø§Ù…",icon:e.jsx(Nt,{className:"w-4 h-4"})},{id:"activityLog",label:"Ø§Ù„Ø³Ø¬Ù„",icon:e.jsx(Dt,{className:"w-4 h-4"})},{id:"settings",label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",icon:e.jsx(Ft,{className:"w-4 h-4"})},{id:"tools",label:"Ø§Ù„Ø£Ø¯ÙˆØ§Øª",icon:e.jsx(bt,{className:"w-4 h-4"})}].map(s=>e.jsxs("button",{onClick:()=>{R(s.id),s.id==="activityLog"&&ct()},className:`relative flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all duration-200 ${y===s.id?"bg-gradient-to-r from-sky-500 to-sky-600 text-white shadow-lg shadow-sky-500/30":"text-slate-600 hover:bg-slate-100"}`,children:[s.icon,e.jsx("span",{className:"hidden sm:inline",children:s.label}),s.badge&&s.badge>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse",children:s.badge})]},s.id))})}),y==="overview"&&e.jsxs("div",{className:"space-y-6",children:[we.filter(s=>["pending","payment_sent"].includes(s.status)).length>0&&e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:e.jsx(oa,{className:"w-7 h-7 animate-bounce"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"Ø·Ù„Ø¨Ø§Øª ØªØ­ØªØ§Ø¬ Ø§Ù†ØªØ¨Ø§Ù‡Ùƒ!"}),e.jsxs("p",{className:"text-white/80",children:[we.filter(s=>s.status==="pending").length>0&&e.jsxs("span",{className:"mr-3",children:["â³ ",we.filter(s=>s.status==="pending").length," Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯"]}),we.filter(s=>s.status==="payment_sent").length>0&&e.jsxs("span",{children:["ğŸ’³ ",we.filter(s=>s.status==="payment_sent").length," Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯"]})]})]})]}),e.jsx("button",{onClick:()=>R("packages"),className:"bg-white text-orange-600 px-6 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl transition transform hover:scale-105",children:"Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª â†"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ke,{title:"Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…",value:`${x.filter(s=>{var r,c;const t=((c=(r=s.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))||new Date(s.createdAt),a=new Date;return t.toDateString()===a.toDateString()&&s.status==="delivered"}).reduce((s,t)=>s+(t.total||0),0).toFixed(0)} Ø±.Ø³`,change:12.5,icon:e.jsx(xa,{className:"w-5 h-5"}),color:"emerald"}),e.jsx(Ke,{title:"Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…",value:x.filter(s=>{var r,c;const t=((c=(r=s.createdAt)==null?void 0:r.toDate)==null?void 0:c.call(r))||new Date(s.createdAt),a=new Date;return t.toDateString()===a.toDateString()}).length.toString(),change:8.3,icon:e.jsx(he,{className:"w-5 h-5"}),color:"sky"}),e.jsx(Ke,{title:"Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø§Ù„ØªÙ…ÙŠØ²",value:A.filter(s=>s.packageType==="premium").length.toString(),subtitle:`Ù…Ù† ${A.length} Ù…Ø·Ø¹Ù…`,icon:e.jsx(Je,{className:"w-5 h-5"}),color:"amber"}),e.jsx(Ke,{title:"Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙˆØµÙŠÙ„",value:`${I.orders>0?(I.deliveredOrders/I.orders*100).toFixed(0):0}%`,subtitle:"Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥ØªÙ…Ø§Ù…",icon:e.jsx(Nt,{className:"w-5 h-5"}),color:"purple"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(Xe,{icon:e.jsx(ve,{className:"w-5 h-5 text-emerald-500"}),value:C.filter(s=>s.isActive!==!1).length,label:"Ø­Ø³Ø§Ø¨Ø§Øª Ù†Ø´Ø·Ø©",bgColor:"bg-emerald-50"}),e.jsx(Xe,{icon:e.jsx(_e,{className:"w-5 h-5 text-red-500"}),value:C.filter(s=>s.isActive===!1).length,label:"Ø­Ø³Ø§Ø¨Ø§Øª Ù…ÙˆÙ‚ÙˆÙØ©",bgColor:"bg-red-50"}),e.jsx(Xe,{icon:e.jsx(ft,{className:"w-5 h-5 text-amber-500"}),value:A.filter(s=>s.packageType==="premium").length,label:"Ø¨Ø§Ù‚Ø© ØªÙ…ÙŠØ²",bgColor:"bg-amber-50"}),e.jsx(Xe,{icon:e.jsx(he,{className:"w-5 h-5 text-slate-500"}),value:A.filter(s=>!s.packageType||s.packageType==="free").length,label:"Ø¨Ø§Ù‚Ø© Ù…Ø¬Ø§Ù†ÙŠØ©",bgColor:"bg-slate-50"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ma,{className:"w-6 h-6 text-orange-500"}),e.jsx("h2",{className:"text-xl font-bold",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Project ID"}),e.jsx("p",{className:"font-mono text-sm",children:ie.projectId})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Storage Bucket"}),e.jsx("p",{className:"font-mono text-sm",children:ie.storageBucket})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/overview`,target:"_blank",rel:"noopener noreferrer",className:"text-sm bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg",children:"ğŸ”¥ Console"}),e.jsx("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/firestore`,target:"_blank",rel:"noopener noreferrer",className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg",children:"ğŸ“Š Firestore"}),e.jsx("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/authentication`,target:"_blank",rel:"noopener noreferrer",className:"text-sm bg-green-100 hover:bg-green-200 text-green-700 px-3 py-1 rounded-lg",children:"ğŸ” Auth"}),e.jsx("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/storage`,target:"_blank",rel:"noopener noreferrer",className:"text-sm bg-purple-100 hover:bg-purple-200 text-purple-700 px-3 py-1 rounded-lg",children:"ğŸ“ Storage"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"ğŸ“Š ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.customers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ø¹Ù…Ù„Ø§Ø¡"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.owners}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ø£ØµØ­Ø§Ø¨ Ù…Ø·Ø§Ø¹Ù…"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:I.couriers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ù…Ù†Ø§Ø¯ÙŠØ¨"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:I.admins}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ù…Ø´Ø±ÙÙŠÙ†"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:"1"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ù…Ø·ÙˆØ±"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(He,{to:"/reports-admin",className:"flex items-center gap-3 bg-amber-50 hover:bg-amber-100 text-amber-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"âš ï¸"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª"}),e.jsx("p",{className:"text-xs opacity-75",children:"Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"})]})]}),e.jsxs(He,{to:"/accounting",className:"flex items-center gap-3 bg-emerald-50 hover:bg-emerald-100 text-emerald-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ’°"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©"}),e.jsx("p",{className:"text-xs opacity-75",children:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©"})]})]}),e.jsxs(He,{to:"/support-admin",className:"flex items-center gap-3 bg-blue-50 hover:bg-blue-100 text-blue-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ§"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯Ø¹Ù…"}),e.jsx("p",{className:"text-xs opacity-75",children:"ØªØ°Ø§ÙƒØ± Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ"})]})]}),e.jsxs(He,{to:"/problems-admin",className:"flex items-center gap-3 bg-red-50 hover:bg-red-100 text-red-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸš¨"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„"}),e.jsx("p",{className:"text-xs opacity-75",children:"Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…"})]})]})]})]})]}),y==="finance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:"ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Ø¹Ø±Ø¶ ØªÙ‚Ø§Ø±ÙŠØ± Ù…ÙØµÙ„Ø©ØŒ Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø£Ø³Ø± ÙˆØ§Ù„Ù…Ù†Ø§Ø¯ÙŠØ¨ØŒ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©"})]}),e.jsxs("a",{href:"/accounting",className:"bg-white text-emerald-600 px-6 py-3 rounded-xl font-bold hover:bg-emerald-50 transition flex items-center gap-2",children:[e.jsx(Ye,{className:"w-5 h-5"}),"ÙØªØ­ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©"]})]}),(()=>{const s=Vt();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 rounded-2xl shadow-lg p-6 text-white",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ğŸ’° Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø§Ù„ÙŠ"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/20 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:s.totalRevenue.toFixed(0)}),e.jsx("p",{className:"text-sm opacity-90",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Ø±.Ø³)"})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:s.totalPlatformFee.toFixed(2)}),e.jsx("p",{className:"text-sm opacity-90",children:"Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (Ø±.Ø³)"})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:s.totalAdminCommission.toFixed(2)}),e.jsx("p",{className:"text-sm opacity-90",children:"Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† (Ø±.Ø³)"})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:(s.totalPlatformFee+s.totalAdminCommission).toFixed(2)}),e.jsx("p",{className:"text-sm opacity-90",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ (Ø±.Ø³)"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-600 mb-4",children:"ğŸ“… Ø§Ù„ÙŠÙˆÙ…"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª:"}),e.jsx("span",{className:"font-bold",children:s.todayOrders})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:"}),e.jsxs("span",{className:"font-bold",children:[s.todayRevenue.toFixed(2)," Ø±.Ø³"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[s.todayPlatformFee.toFixed(2)," Ø±.Ø³"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-purple-600 mb-4",children:"ğŸ“… Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª:"}),e.jsx("span",{className:"font-bold",children:s.weekOrders})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:"}),e.jsxs("span",{className:"font-bold",children:[s.weekRevenue.toFixed(2)," Ø±.Ø³"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[s.weekPlatformFee.toFixed(2)," Ø±.Ø³"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-4",children:"ğŸ“… Ø¢Ø®Ø± 30 ÙŠÙˆÙ…"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª:"}),e.jsx("span",{className:"font-bold",children:s.monthOrders})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:"}),e.jsxs("span",{className:"font-bold",children:[s.monthRevenue.toFixed(2)," Ø±.Ø³"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[s.monthPlatformFee.toFixed(2)," Ø±.Ø³"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ğŸ† Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø£Ø¯Ø§Ø¡Ù‹"}),e.jsx("div",{className:"space-y-3",children:A.map(t=>({...t,ordersCount:x.filter(a=>a.restaurantId===t.id&&a.status==="delivered").length,revenue:x.filter(a=>a.restaurantId===t.id&&a.status==="delivered").reduce((a,r)=>a+(r.total||0),0)})).sort((t,a)=>a.revenue-t.revenue).slice(0,5).map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:a===0?"ğŸ¥‡":a===1?"ğŸ¥ˆ":a===2?"ğŸ¥‰":`#${a+1}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.ordersCount," Ø·Ù„Ø¨"]})]})]}),e.jsxs("p",{className:"font-bold text-green-600",children:[t.revenue.toFixed(2)," Ø±.Ø³"]})]},t.id))})]})]})})()]}),y==="restaurants"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white via-sky-50/30 to-emerald-50/30 rounded-3xl p-6 border border-sky-100 shadow-lg shadow-sky-100/50",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-200",children:e.jsx(ha,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[bs().length," Ù…Ù† ",A.length," Ù…Ø·Ø¹Ù…"]})]})]}),e.jsx("button",{onClick:()=>Vs(!as),className:"group flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-5 py-3 rounded-2xl font-bold shadow-lg shadow-emerald-200 transition-all duration-300 hover:scale-105",children:as?e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"w-5 h-5"}),"Ø¥Ù„ØºØ§Ø¡"]}):e.jsxs(e.Fragment,{children:[e.jsx(Cs,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),"Ø¥Ø¶Ø§ÙØ© Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯"]})})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ze,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ØŒ Ø§Ù„Ù‡Ø§ØªÙØŒ Ø£Ùˆ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©...",value:ne,onChange:s=>ge(s.target.value),className:"w-full pr-12 pl-4 py-4 border-2 border-sky-100 rounded-2xl focus:border-emerald-400 focus:ring-4 focus:ring-emerald-100 transition-all bg-white/80 backdrop-blur text-lg"}),ne&&e.jsx("button",{onClick:()=>ge(""),className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"ÙÙ„ØªØ±:"})]}),[{value:"all",label:"Ø§Ù„ÙƒÙ„",icon:"ğŸª"},{value:"premium",label:"Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ…",icon:"ğŸ‘‘"},{value:"free",label:"Ù…Ø¬Ø§Ù†ÙŠ",icon:"ğŸ†“"},{value:"verified",label:"Ù…ÙˆØ«Ù‚",icon:"âœ…"},{value:"unverified",label:"ØºÙŠØ± Ù…ÙˆØ«Ù‚",icon:"â³"}].map(s=>e.jsxs("button",{onClick:()=>rt(s.value),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${Oe===s.value?"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-lg shadow-emerald-200":"bg-white border border-gray-200 text-gray-600 hover:border-emerald-300 hover:bg-emerald-50"}`,children:[s.icon," ",s.label]},s.value)),e.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2 hidden sm:block"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ga,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"ØªØ±ØªÙŠØ¨:"})]}),e.jsxs("select",{value:ce,onChange:s=>us(s.target.value),className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-medium focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100",children:[e.jsx("option",{value:"newest",children:"Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹"}),e.jsx("option",{value:"oldest",children:"Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹"}),e.jsx("option",{value:"name",children:"Ø§Ù„Ø§Ø³Ù… (Ø£-ÙŠ)"})]})]})]}),as&&e.jsxs("div",{className:"bg-green-50 rounded-2xl p-6 border-2 border-green-200",children:[e.jsx("h3",{className:"text-lg font-bold text-green-800 mb-4",children:"ğŸª Ø¥Ø¶Ø§ÙØ© Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… *"}),e.jsx("input",{type:"text",placeholder:"Ù…Ø«Ø§Ù„: Ù…Ø·Ø¹Ù… Ø§Ù„Ø´Ø§Ù…",value:Ae,onChange:s=>zs(s.target.value),className:"w-full border rounded-xl p-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©"}),e.jsx("input",{type:"text",placeholder:"Ù…Ø«Ø§Ù„: Ø§Ù„Ø±ÙŠØ§Ø¶",value:ls,onChange:s=>Hs(s.target.value),className:"w-full border rounded-xl p-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø·Ø¹Ù…"}),e.jsx("input",{type:"tel",placeholder:"05xxxxxxxx",value:Ws,onChange:s=>Qs(s.target.value),className:"w-full border rounded-xl p-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø¥ÙŠÙ…ÙŠÙ„ Ø§Ù„Ù…Ø·Ø¹Ù…"}),e.jsx("input",{type:"email",placeholder:"restaurant@example.com",value:Js,onChange:s=>Ys(s.target.value),className:"w-full border rounded-xl p-3"})]})]}),e.jsxs("div",{className:"border-t mt-4 pt-4",children:[e.jsx("h4",{className:"font-bold text-green-800 mb-3",children:"ğŸ‘¤ Ø¨ÙŠØ§Ù†Ø§Øª ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ø·Ø¹Ù… (Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„)"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø¥ÙŠÙ…ÙŠÙ„ ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ø·Ø¹Ù… *"}),e.jsx("input",{type:"email",placeholder:"owner@example.com",value:ye,onChange:s=>Zs(s.target.value),className:"w-full border rounded-xl p-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *"}),e.jsx("input",{type:"password",placeholder:"6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",value:Me,onChange:s=>Gs(s.target.value),className:"w-full border rounded-xl p-3"})]})]})]}),e.jsx("button",{onClick:Mt,disabled:Ks||!Ae.trim()||!ye.trim()||!Me.trim(),className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl font-bold disabled:opacity-50 flex items-center justify-center gap-2",children:Ks?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-5 h-5 animate-spin"}),"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡..."]}):"ğŸª Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø·Ø¹Ù…"})]}),e.jsx("div",{className:"space-y-4",children:bs().length===0?e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(Ze,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬"}),e.jsx("p",{className:"text-gray-500",children:"Ø¬Ø±Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„ÙÙ„Ø§ØªØ± Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ø¨Ø­Ø«"}),e.jsx("button",{onClick:()=>{ge(""),rt("all")},className:"mt-4 px-6 py-2 bg-sky-100 text-sky-600 rounded-xl font-medium hover:bg-sky-200 transition-colors",children:"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±"})]}):bs().map(s=>{var t;return e.jsx("div",{className:"bg-white rounded-2xl shadow-lg shadow-gray-100 border border-gray-100 p-5 hover:shadow-xl transition-all duration-300",children:Z===s.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…"}),e.jsx("input",{type:"text",value:L.name||"",onChange:a=>re({...L,name:a.target.value}),className:"w-full border rounded-xl p-2 mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("input",{type:"text",value:L.phone||"",onChange:a=>re({...L,phone:a.target.value}),className:"w-full border rounded-xl p-2 mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}),e.jsx("input",{type:"email",value:L.email||"",onChange:a=>re({...L,email:a.target.value}),className:"w-full border rounded-xl p-2 mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©"}),e.jsx("input",{type:"text",value:L.city||"",onChange:a=>re({...L,city:a.target.value}),className:"w-full border rounded-xl p-2 mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"}),e.jsx("input",{type:"text",value:L.location||"",onChange:a=>re({...L,location:a.target.value}),className:"w-full border rounded-xl p-2 mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Ø±Ø¨Ø· Ø¨Ù…Ø´Ø±Ù (Ù„Ù„Ø¹Ù…ÙˆÙ„Ø©)"}),e.jsxs("select",{value:L.referredBy||"",onChange:a=>re({...L,referredBy:a.target.value}),className:"w-full border rounded-xl p-2 mt-1",children:[e.jsx("option",{value:"",children:"-- Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø±Ù (Ø§Ù„Ù…Ø·ÙˆØ± ÙÙ‚Ø·) --"}),C.filter(a=>a.role==="admin").map(a=>e.jsxs("option",{value:a.uid,children:["ğŸ‘‘ ",a.name||a.email]},a.uid))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…Ø±ØªØ¨Ø· ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ Ø¹Ù…ÙˆÙ„Ø© Ù…Ù† Ø·Ù„Ø¨Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ø·Ø¹Ù…"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø·Ø¹Ù…"}),e.jsx("input",{type:"file",accept:"image/*",onChange:a=>{var c;const r=(c=a.target.files)==null?void 0:c[0];r&&Wt(s.id,r)},className:"w-full border rounded-xl p-2 mt-1",disabled:xe}),xe&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹..."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Ht(s.id),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl",children:[e.jsx(pa,{className:"w-4 h-4"})," Ø­ÙØ¸"]}),e.jsxs("button",{onClick:()=>V(null),className:"flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-xl",children:[e.jsx(Te,{className:"w-4 h-4"})," Ø¥Ù„ØºØ§Ø¡"]})]})]}):e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0",children:s.logoUrl?e.jsx("img",{src:s.logoUrl,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:"ğŸª"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-lg",children:s.name}),s.isVerified&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:[e.jsx(ve,{className:"w-3 h-3"})," Ù…ÙˆØ«Ù‚Ø©"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mt-1",children:[s.phone&&e.jsxs("p",{children:["ğŸ“± ",s.phone]}),s.email&&e.jsxs("p",{children:["ğŸ“§ ",s.email]}),s.city&&e.jsxs("p",{children:["ğŸ“ ",s.city]}),s.referredBy&&e.jsxs("p",{className:"text-purple-600",children:["ğŸ‘‘ Ù…Ø¶Ø§Ù Ù…Ù†: ",((t=M.find(a=>a.uid===s.referredBy))==null?void 0:t.name)||s.referredBy.slice(0,8)]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:async()=>{const a=!s.isVerified;if(await h.confirm(a?`Ù‡Ù„ ØªØ±ÙŠØ¯ ØªÙˆØ«ÙŠÙ‚ Ø£Ø³Ø±Ø© "${s.name}"ØŸ Ø³ØªØ¸Ù‡Ø± Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡.`:`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ ØªÙˆØ«ÙŠÙ‚ Ø£Ø³Ø±Ø© "${s.name}"ØŸ`,{title:a?"âœ… ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø±Ø©":"âŒ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙˆØ«ÙŠÙ‚",confirmText:a?"Ù†Ø¹Ù…ØŒ ÙˆØ«Ù‘Ù‚":"Ù†Ø¹Ù…ØŒ Ø£Ù„ØºÙ Ø§Ù„ØªÙˆØ«ÙŠÙ‚"}))try{await J(F(p,"restaurants",s.id),{isVerified:a,verifiedAt:a?w():null,updatedAt:w()}),i.success(a?"ØªÙ… ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø±Ø© âœ…":"ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙˆØ«ÙŠÙ‚"),z()}catch(c){i.error("Ø­Ø¯Ø« Ø®Ø·Ø£"),console.error(c)}},className:`p-2 rounded-xl ${s.isVerified?"bg-green-100 hover:bg-green-200 text-green-600":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:s.isVerified?"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙˆØ«ÙŠÙ‚":"ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø±Ø©",children:e.jsx(ve,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{V(s.id),re(s)},className:"p-2 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded-xl",title:"ØªØ­Ø±ÙŠØ±",children:e.jsx(vt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>Qt(s.id),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-xl",title:"Ø­Ø°Ù",children:e.jsx(Be,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex gap-2 items-center",children:s.packageType==="premium"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full flex items-center gap-1",children:"âœ¨ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²"}),e.jsx("button",{onClick:()=>Ot(s),className:"text-xs bg-red-50 hover:bg-red-100 text-red-600 px-3 py-1 rounded-lg",children:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¨Ø§Ù‚Ø©"})]}):e.jsx("button",{onClick:()=>Et(s),className:"text-xs bg-amber-50 hover:bg-amber-100 text-amber-700 px-3 py-1 rounded-lg flex items-center gap-1",children:"âœ¨ ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²"})}),e.jsxs("select",{value:s.referredBy||"",onChange:async a=>{const r=a.target.value;try{await J(F(p,"restaurants",s.id),{referredBy:r||null,updatedAt:w()}),i.success(r?"ØªÙ… Ø±Ø¨Ø· Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ø§Ù„Ù…Ø´Ø±Ù":"ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø±Ø¨Ø· Ø§Ù„Ù…Ø´Ø±Ù"),z()}catch{i.error("ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø¨Ø·")}},className:"text-xs border rounded-lg p-1",title:"Ø±Ø¨Ø· Ø¨Ù…Ø´Ø±Ù",children:[e.jsx("option",{value:"",children:"ğŸ‘¤ Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø±Ù"}),C.filter(a=>a.role==="admin").map(a=>e.jsxs("option",{value:a.uid,children:["ğŸ‘‘ ",a.name||a.email]},a.uid))]})]})]})},s.id)})})]}),y==="orders"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white via-amber-50/30 to-orange-50/30 rounded-3xl p-6 border border-amber-100 shadow-lg shadow-amber-100/50",children:[e.jsx("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-amber-200",children:e.jsx(he,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[js().length," Ù…Ù† ",x.length," Ø·Ù„Ø¨"]})]})]})}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ze,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ØŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…ØŒ Ø£Ùˆ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†...",value:ne,onChange:s=>ge(s.target.value),className:"w-full pr-12 pl-4 py-4 border-2 border-amber-100 rounded-2xl focus:border-amber-400 focus:ring-4 focus:ring-amber-100 transition-all bg-white/80 backdrop-blur text-lg"}),ne&&e.jsx("button",{onClick:()=>ge(""),className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Ø§Ù„Ø­Ø§Ù„Ø©:"})]}),[{value:"all",label:"Ø§Ù„ÙƒÙ„",icon:"ğŸ“¦"},{value:"pending",label:"Ø¬Ø§Ø±ÙŠ",icon:"â³"},{value:"delivered",label:"Ù…ÙƒØªÙ…Ù„",icon:"âœ…"},{value:"cancelled",label:"Ù…Ù„ØºÙŠ",icon:"âŒ"}].map(s=>e.jsxs("button",{onClick:()=>nt(s.value),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${ze===s.value?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-200":"bg-white border border-gray-200 text-gray-600 hover:border-amber-300 hover:bg-amber-50"}`,children:[s.icon," ",s.label]},s.value)),e.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2 hidden sm:block"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ua,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Ø§Ù„ÙØªØ±Ø©:"})]}),[{value:"all",label:"Ø§Ù„ÙƒÙ„"},{value:"today",label:"Ø§Ù„ÙŠÙˆÙ…"},{value:"week",label:"Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"},{value:"month",label:"Ø§Ù„Ø´Ù‡Ø±"}].map(s=>e.jsx("button",{onClick:()=>dt(s.value),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${Ue===s.value?"bg-amber-100 text-amber-700":"text-gray-500 hover:bg-gray-100"}`,children:s.label},s.value)),e.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2 hidden sm:block"}),e.jsxs("select",{value:ce,onChange:s=>us(s.target.value),className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-medium focus:border-amber-400 focus:ring-2 focus:ring-amber-100",children:[e.jsx("option",{value:"newest",children:"Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹"}),e.jsx("option",{value:"oldest",children:"Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹"})]})]})]}),e.jsx("div",{className:"space-y-4",children:js().length===0?e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª"}),e.jsx("p",{className:"text-gray-500",children:"Ø¬Ø±Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„ÙÙ„Ø§ØªØ± Ø£Ùˆ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©"}),e.jsx("button",{onClick:()=>{ge(""),nt("all"),dt("all")},className:"mt-4 px-6 py-2 bg-amber-100 text-amber-600 rounded-xl font-medium hover:bg-amber-200 transition-colors",children:"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±"})]}):js().map(s=>{var t,a;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg shadow-gray-100 border border-gray-100 p-5 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:["Ø·Ù„Ø¨ #",s.id.slice(-8)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ğŸª ",s.restaurantName||"Ù…Ø·Ø¹Ù…"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ğŸ“ ",s.address]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ğŸ’° ",(t=s.total)==null?void 0:t.toFixed(2)," Ø±.Ø³"]}),s.platformFee&&e.jsxs("p",{className:"text-xs text-green-600",children:["Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚: ",s.platformFee," Ø±.Ø³",s.adminCommission?` | Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ø´Ø±Ù: ${s.adminCommission} Ø±.Ø³`:""]})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:`inline-block px-3 py-1.5 rounded-xl text-sm font-bold ${s.status==="delivered"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700":s.status==="cancelled"?"bg-gradient-to-r from-red-100 to-pink-100 text-red-700":s.status==="pending"?"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-700":"bg-gradient-to-r from-blue-100 to-sky-100 text-blue-700"}`,children:Kt(s.status)}),e.jsxs("select",{value:s.status,onChange:r=>Zt(s.id,r.target.value),className:"mt-2 w-full border rounded-lg p-1 text-sm",children:[e.jsx("option",{value:"pending",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"}),e.jsx("option",{value:"accepted",children:"Ù…Ù‚Ø¨ÙˆÙ„"}),e.jsx("option",{value:"preparing",children:"Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±"}),e.jsx("option",{value:"ready",children:"Ø¬Ø§Ù‡Ø²"}),e.jsx("option",{value:"out_for_delivery",children:"ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚"}),e.jsx("option",{value:"delivered",children:"ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…"}),e.jsx("option",{value:"cancelled",children:"Ù…Ù„ØºÙŠ"})]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Ø§Ù„Ø£ØµÙ†Ø§Ù:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(a=s.items)==null?void 0:a.map((r,c)=>e.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-lg",children:[r.name," Ã— ",r.qty]},c))})]})]},s.id)})})]}),y==="users"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white via-violet-50/30 to-purple-50/30 rounded-3xl p-6 border border-violet-100 shadow-lg shadow-violet-100/50",children:[e.jsx("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-violet-200",children:e.jsx(Qe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[fs().length," Ù…Ù† ",C.length," Ù…Ø³ØªØ®Ø¯Ù…"]})]})]})}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ze,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ØŒ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ...",value:ne,onChange:s=>ge(s.target.value),className:"w-full pr-12 pl-4 py-4 border-2 border-violet-100 rounded-2xl focus:border-violet-400 focus:ring-4 focus:ring-violet-100 transition-all bg-white/80 backdrop-blur text-lg"}),ne&&e.jsx("button",{onClick:()=>ge(""),className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Ø§Ù„Ø¯ÙˆØ±:"})]}),[{value:"all",label:"Ø§Ù„ÙƒÙ„",icon:"ğŸ‘¥",color:"violet"},{value:"customer",label:"Ø¹Ù…ÙŠÙ„",icon:"ğŸ›’"},{value:"owner",label:"Ù…Ø·Ø¹Ù…",icon:"ğŸª"},{value:"courier",label:"Ù…Ù†Ø¯ÙˆØ¨",icon:"ğŸš—"},{value:"admin",label:"Ù…Ø´Ø±Ù",icon:"ğŸ‘‘"}].map(s=>e.jsxs("button",{onClick:()=>it(s.value),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${ps===s.value?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-lg shadow-violet-200":"bg-white border border-gray-200 text-gray-600 hover:border-violet-300 hover:bg-violet-50"}`,children:[s.icon," ",s.label]},s.value)),e.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2 hidden sm:block"}),e.jsxs("select",{value:ce,onChange:s=>us(s.target.value),className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-medium focus:border-violet-400 focus:ring-2 focus:ring-violet-100",children:[e.jsx("option",{value:"newest",children:"Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹"}),e.jsx("option",{value:"oldest",children:"Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹"}),e.jsx("option",{value:"name",children:"Ø§Ù„Ø§Ø³Ù… (Ø£-ÙŠ)"})]})]})]}),fs().length===0?e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(Qe,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬"}),e.jsx("p",{className:"text-gray-500",children:"Ø¬Ø±Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„ÙÙ„Ø§ØªØ± Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ø¨Ø­Ø«"}),e.jsx("button",{onClick:()=>{ge(""),it("all")},className:"mt-4 px-6 py-2 bg-violet-100 text-violet-600 rounded-xl font-medium hover:bg-violet-200 transition-colors",children:"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:fs().map(s=>e.jsx("div",{className:"bg-white rounded-2xl shadow-lg shadow-gray-100 border border-gray-100 p-5 hover:shadow-xl transition-all duration-300",children:G===s.uid?e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Ø§Ù„Ø§Ø³Ù…",value:o.name||"",onChange:t=>N({...o,name:t.target.value}),className:"w-full border rounded-xl p-2"}),e.jsx("input",{type:"text",placeholder:"Ø§Ù„Ù‡Ø§ØªÙ",value:o.phone||"",onChange:t=>N({...o,phone:t.target.value}),className:"w-full border rounded-xl p-2"}),e.jsxs("select",{value:o.role||"customer",onChange:t=>N({...o,role:t.target.value}),className:"w-full border rounded-xl p-2",children:[e.jsx("option",{value:"customer",children:"Ø¹Ù…ÙŠÙ„"}),e.jsx("option",{value:"owner",children:"ØµØ§Ø­Ø¨ Ù…Ø·Ø¹Ù…"}),e.jsx("option",{value:"courier",children:"Ù…Ù†Ø¯ÙˆØ¨"}),e.jsx("option",{value:"admin",children:"Ù…Ø´Ø±Ù"}),e.jsx("option",{value:"developer",children:"Ù…Ø·ÙˆØ±"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Jt(s.uid),className:"flex-1 bg-green-600 text-white py-2 rounded-xl",children:"Ø­ÙØ¸"}),e.jsx("button",{onClick:()=>P(null),className:"flex-1 bg-gray-500 text-white py-2 rounded-xl",children:"Ø¥Ù„ØºØ§Ø¡"})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold",children:s.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"}),s.isActive===!1&&e.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded-full",children:"Ù…ÙˆÙ‚ÙˆÙ"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email}),e.jsx("p",{className:"text-xs mt-1",children:Gt(s.role)})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Lt(s,s.isActive!==!1),className:`p-1.5 rounded-lg ${s.isActive===!1?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,title:s.isActive===!1?"ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨":"ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ø­Ø³Ø§Ø¨",children:s.isActive===!1?e.jsx(ve,{className:"w-4 h-4"}):e.jsx(_e,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{P(s.uid),N(s)},className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg",children:e.jsx(vt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Yt(s.uid),className:"p-1.5 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:e.jsx(Be,{className:"w-4 h-4"})})]})]})})},s.uid))})]}),y==="couriers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-white via-cyan-50/30 to-teal-50/30 rounded-3xl p-6 border border-cyan-100 shadow-lg shadow-cyan-100/50",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg shadow-cyan-200",children:e.jsx(Ss,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-600 to-teal-600 bg-clip-text text-transparent",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†Ø§Ø¯ÙŠØ¨"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[I.couriers," Ù…Ù†Ø¯ÙˆØ¨ Ù…Ø³Ø¬Ù„"]})]})]}),e.jsx("button",{onClick:()=>Is(!es),className:"group flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-teal-600 hover:from-cyan-600 hover:to-teal-700 text-white px-5 py-3 rounded-2xl font-bold shadow-lg shadow-cyan-200 transition-all duration-300 hover:scale-105",children:es?e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"w-5 h-5"}),"Ø¥Ù„ØºØ§Ø¡"]}):e.jsxs(e.Fragment,{children:[e.jsx(Cs,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),"Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø¯ÙˆØ¨ Ø¬Ø¯ÙŠØ¯"]})})]})}),es&&e.jsxs("div",{className:"bg-cyan-50 rounded-2xl p-6 border-2 border-cyan-200",children:[e.jsx("h3",{className:"text-lg font-bold text-cyan-800 mb-4",children:"ğŸš— Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø¯ÙˆØ¨ Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *"}),e.jsx("input",{type:"email",placeholder:"courier@example.com",value:Ce,onChange:s=>Ls(s.target.value),className:"w-full border rounded-xl p-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *"}),e.jsx("input",{type:"password",placeholder:"6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",value:Ee,onChange:s=>Os(s.target.value),className:"w-full border rounded-xl p-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø§Ù„Ø§Ø³Ù…"}),e.jsx("input",{type:"text",placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨",value:ss,onChange:s=>Es(s.target.value),className:"w-full border rounded-xl p-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("input",{type:"tel",placeholder:"05xxxxxxxx",value:ts,onChange:s=>Us(s.target.value),className:"w-full border rounded-xl p-3"})]})]}),e.jsx("button",{onClick:Bt,disabled:Bs||!Ce.trim()||!Ee.trim(),className:"mt-4 w-full bg-cyan-600 hover:bg-cyan-700 text-white py-3 rounded-xl font-bold disabled:opacity-50 flex items-center justify-center gap-2",children:Bs?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-5 h-5 animate-spin"}),"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡..."]}):"ğŸš— Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[C.filter(s=>s.role==="courier").map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center text-2xl",children:"ğŸš—"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:s.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email}),s.phone&&e.jsxs("p",{className:"text-sm text-gray-600",children:["ğŸ“± ",s.phone]})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-2",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:x.filter(t=>t.courierId===s.uid&&t.status==="delivered").length}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ø·Ù„Ø¨Ø§Øª Ù…Ø³Ù„Ù…Ø©"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-2",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600",children:x.filter(t=>t.courierId===s.uid&&t.status==="out_for_delivery").length}),e.jsx("p",{className:"text-xs text-gray-600",children:"ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚"})]})]})})]},s.uid)),I.couriers===0&&e.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù†Ø§Ø¯ÙŠØ¨ Ù…Ø³Ø¬Ù„ÙŠÙ†"})]})]}),y==="admins"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("h2",{className:"text-xl font-bold",children:["ğŸ‘‘ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† ÙˆØ¹Ù…ÙˆÙ„Ø§ØªÙ‡Ù… (",M.length,")"]}),e.jsxs("button",{onClick:()=>B(!D),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-xl font-semibold transition",children:[e.jsx(yt,{className:"w-5 h-5"}),D?"Ø¥Ù„ØºØ§Ø¡":"Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±Ù"]})]}),D&&e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 border-2 border-purple-200",children:[e.jsx("h3",{className:"text-lg font-bold text-purple-800 mb-4",children:"ğŸ‘‘ ØªØ±Ù‚ÙŠØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ Ù…Ø´Ø±Ù"}),e.jsx("p",{className:"text-sm text-purple-600 mb-4",children:"Ø§Ø®ØªØ± Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ù„ØªØ±Ù‚ÙŠØªÙ‡ Ø¥Ù„Ù‰ Ø¯ÙˆØ± Ø§Ù„Ù…Ø´Ø±ÙØŒ Ø£Ùˆ Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 block mb-2",children:"ØªØ±Ù‚ÙŠØ© Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯:"}),e.jsxs("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:[C.filter(s=>s.role==="customer").slice(0,10).map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:s.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email})]}),e.jsx("button",{onClick:async()=>{if(await h.confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ±Ù‚ÙŠØ© ${s.name||s.email} Ø¥Ù„Ù‰ Ù…Ø´Ø±ÙØŸ`,{title:"ØªØ±Ù‚ÙŠØ© Ø¥Ù„Ù‰ Ù…Ø´Ø±Ù"}))try{await J(F(p,"users",s.uid),{role:"admin"}),i.success("ØªÙ… ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ Ù…Ø´Ø±Ù âœ…"),B(!1),z()}catch{i.error("ÙØ´Ù„ ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…")}},className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-lg text-sm",children:"ØªØ±Ù‚ÙŠØ© ğŸ‘‘"})]},s.uid)),C.filter(s=>s.role==="customer").length===0&&e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Ø¡ ÙŠÙ…ÙƒÙ† ØªØ±Ù‚ÙŠØªÙ‡Ù…"})]})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx("h4",{className:"text-md font-bold text-purple-800 mb-3",children:"âœ¨ Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø´Ø±Ù Ø¬Ø¯ÙŠØ¯:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *"}),e.jsx("input",{type:"email",placeholder:"admin@example.com",value:O,onChange:s=>te(s.target.value),className:"w-full border rounded-xl p-3 text-gray-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *"}),e.jsx("input",{type:"password",placeholder:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)",value:be,onChange:s=>je(s.target.value),className:"w-full border rounded-xl p-3 text-gray-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø§Ù„Ø§Ø³Ù…"}),e.jsx("input",{type:"text",placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù",value:ue,onChange:s=>Ie(s.target.value),className:"w-full border rounded-xl p-3 text-gray-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("input",{type:"tel",placeholder:"05xxxxxxxx",value:Le,onChange:s=>Rs(s.target.value),className:"w-full border rounded-xl p-3 text-gray-900"})]})]}),e.jsx("button",{onClick:Ut,disabled:Ps||!O.trim()||!be.trim(),className:"mt-4 w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 rounded-xl font-bold transition disabled:opacity-50 flex items-center justify-center gap-2",children:Ps?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-5 h-5 animate-spin"}),"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡..."]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"w-5 h-5"}),"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´Ø±Ù"]})}),e.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯ØŒ Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰."})]}),e.jsx("div",{className:"border-t pt-4 mt-4",children:e.jsx("p",{className:"text-xs text-gray-500",children:'ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§Ù‹ ØªØºÙŠÙŠØ± Ø¯ÙˆØ± Ø£ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† ØªØ¨ÙˆÙŠØ¨ "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"'})})]}),e.jsxs("div",{className:"space-y-4",children:[M.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow overflow-hidden",children:[e.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>S(l===s.uid?null:s.uid),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:"ğŸ‘‘"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:s.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"font-bold text-green-600",children:[s.walletBalance.toFixed(2)," Ø±.Ø³"]})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ",s.totalEarnings.toFixed(2)," Ø±.Ø³ | ",s.restaurantsCount," Ù…Ø·Ø¹Ù…"]})]}),l===s.uid?e.jsx(ba,{className:"w-5 h-5 text-gray-400"}):e.jsx(ja,{className:"w-5 h-5 text-gray-400"})]})]})}),l===s.uid&&e.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[e.jsxs("h4",{className:"font-semibold text-sm text-gray-700 mb-3",children:["ğŸª Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø¨ÙˆØ§Ø³Ø·Ø© Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±Ù (",s.restaurants.length,"):"]}),s.restaurants.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:s.restaurants.map(t=>e.jsxs("div",{className:"bg-white rounded-xl p-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 overflow-hidden",children:t.logoUrl?e.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:"ğŸª"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.city||"Ø¨Ø¯ÙˆÙ† Ù…Ø¯ÙŠÙ†Ø©"})]})]},t.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"Ù„Ù… ÙŠØ¶Ù Ø£ÙŠ Ù…Ø·Ø§Ø¹Ù… Ø¨Ø¹Ø¯"}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"bg-green-100 rounded-lg p-2",children:[e.jsx("p",{className:"font-bold text-green-700",children:s.walletBalance.toFixed(2)}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ"})]}),e.jsxs("div",{className:"bg-blue-100 rounded-lg p-2",children:[e.jsx("p",{className:"font-bold text-blue-700",children:s.totalEarnings.toFixed(2)}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­"})]}),e.jsxs("div",{className:"bg-purple-100 rounded-lg p-2",children:[e.jsx("p",{className:"font-bold text-purple-700",children:x.filter(t=>t.referredBy===s.uid).length}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ù…Ø·Ø§Ø¹Ù…Ù‡"})]})]})})]})]},s.uid)),M.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500 bg-white rounded-2xl",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø´Ø±ÙÙŠÙ† Ù…Ø³Ø¬Ù„ÙŠÙ†"})]})]}),y==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"}),X?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{le(!1),U($)},className:"bg-gray-500 text-white px-4 py-2 rounded-xl",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:zt,className:"bg-green-600 text-white px-4 py-2 rounded-xl",children:"ğŸ’¾ Ø­ÙØ¸"})]}):e.jsx("button",{onClick:()=>le(!0),className:"bg-primary hover:bg-sky-600 text-white px-4 py-2 rounded-xl",children:"âœï¸ ØªØ¹Ø¯ÙŠÙ„"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ğŸ’° Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„ (Ø±.Ø³)"}),X?e.jsx("input",{type:"number",value:_.deliveryFee||0,onChange:s=>U({..._,deliveryFee:Number(s.target.value)}),className:"w-full border rounded-xl p-3"}):e.jsxs("p",{className:"text-2xl font-bold",children:[$.deliveryFee||7," Ø±.Ø³"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ğŸ’µ Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ù…Ù†ØªØ¬ (Ø±.Ø³)"}),X?e.jsx("input",{type:"number",step:"0.1",value:_.platformFee||1,onChange:s=>U({..._,platformFee:Number(s.target.value)}),className:"w-full border rounded-xl p-3"}):e.jsxs("p",{className:"text-2xl font-bold",children:[$.platformFee||1," Ø±.Ø³/Ù…Ù†ØªØ¬"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ğŸ‘‘ Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ø´Ø±Ù / Ù…Ù†ØªØ¬ (Ø±.Ø³)"}),X?e.jsx("input",{type:"number",step:"0.05",value:_.adminCommissionRate||.75,onChange:s=>U({..._,adminCommissionRate:Number(s.target.value)}),className:"w-full border rounded-xl p-3"}):e.jsxs("p",{className:"text-2xl font-bold",children:[$.adminCommissionRate||.75," Ø±.Ø³/Ù…Ù†ØªØ¬"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ğŸ›’ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨"}),X?e.jsx("input",{type:"number",value:_.minOrderAmount||0,onChange:s=>U({..._,minOrderAmount:Number(s.target.value)}),className:"w-full border rounded-xl p-3"}):e.jsxs("p",{className:"text-2xl font-bold",children:[$.minOrderAmount||20," Ø±.Ø³"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ğŸ• Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„"}),X?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"time",value:((ot=_.workingHours)==null?void 0:ot.open)||"09:00",onChange:s=>U({..._,workingHours:{..._.workingHours,open:s.target.value}}),className:"flex-1 border rounded-xl p-3"}),e.jsx("input",{type:"time",value:((xt=_.workingHours)==null?void 0:xt.close)||"23:00",onChange:s=>U({..._,workingHours:{..._.workingHours,close:s.target.value}}),className:"flex-1 border rounded-xl p-3"})]}):e.jsxs("p",{className:"text-2xl font-bold",children:[((mt=$.workingHours)==null?void 0:mt.open)||"09:00"," - ",((ht=$.workingHours)==null?void 0:ht.close)||"23:00"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"ğŸ”§ ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø©"}),X?e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:_.maintenanceMode||!1,onChange:s=>U({..._,maintenanceMode:s.target.checked}),className:"w-6 h-6"}),e.jsx("span",{className:"text-lg",children:_.maintenanceMode?"Ù…ÙØ¹Ù‘Ù„":"Ù…Ø¹Ø·Ù‘Ù„"})]}):e.jsx("p",{className:`text-2xl font-bold ${$.maintenanceMode?"text-red-600":"text-green-600"}`,children:$.maintenanceMode?"ğŸ”´ Ù…ÙØ¹Ù‘Ù„":"ğŸŸ¢ Ù…Ø¹Ø·Ù‘Ù„"})]})]})}),e.jsxs("div",{className:"bg-sky-50 border-l-4 border-sky-500 rounded-lg p-6",children:[e.jsx("h3",{className:"font-bold text-sky-900 mb-3",children:"ğŸ’° Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª (Ù„ÙƒÙ„ Ù…Ù†ØªØ¬ = 1.75 Ø±.Ø³):"}),e.jsxs("div",{className:"text-sky-800 space-y-2",children:[e.jsxs("p",{children:["â€¢ ",e.jsx("strong",{children:"Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:"})," ",$.platformFee||1," Ø±.Ø³ Ã— Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª"]}),e.jsxs("p",{children:["â€¢ ",e.jsx("strong",{children:"Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ø´Ø±Ù:"})," ",$.adminCommissionRate||.75," Ø±.Ø³ Ã— Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª"]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 mt-3",children:[e.jsx("p",{className:"font-bold mb-2",children:"ğŸ“ Ù…Ø«Ø§Ù„: Ø·Ù„Ø¨ ÙÙŠÙ‡ 5 Ù…Ù†ØªØ¬Ø§Øª"}),e.jsxs("p",{children:["â€¢ ",e.jsx("strong",{children:"Ø¥Ø°Ø§ Ø§Ù„Ù…Ø·Ø¹Ù… Ù…Ø¶Ø§Ù Ù…Ù† Ù…Ø´Ø±Ù:"})]}),e.jsxs("ul",{className:"mr-6 list-disc text-sm",children:[e.jsxs("li",{children:["Ø§Ù„Ù…Ø´Ø±Ù ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰: 5 Ã— ",$.adminCommissionRate||.75," = ",e.jsxs("strong",{children:[(5*($.adminCommissionRate||.75)).toFixed(2)," Ø±.Ø³"]})]}),e.jsxs("li",{children:["Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰: 5 Ã— ",$.platformFee||1," = ",e.jsxs("strong",{children:[(5*($.platformFee||1)).toFixed(2)," Ø±.Ø³"]})]}),e.jsxs("li",{className:"text-green-700",children:["Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ",e.jsxs("strong",{children:[(5*1.75).toFixed(2)," Ø±.Ø³"]})]})]}),e.jsxs("p",{className:"mt-2",children:["â€¢ ",e.jsx("strong",{children:"Ø¥Ø°Ø§ Ø§Ù„Ù…Ø·Ø¹Ù… Ù…Ø¶Ø§Ù Ù…Ù† Ø§Ù„Ù…Ø·ÙˆØ±:"})]}),e.jsx("ul",{className:"mr-6 list-disc text-sm",children:e.jsxs("li",{children:["Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡: 5 Ã— 1.75 = ",e.jsxs("strong",{children:[(5*1.75).toFixed(2)," Ø±.Ø³"]})]})})]})]})]})]}),y==="tasks"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©"}),e.jsxs("button",{onClick:()=>rs(!0),className:"flex items-center gap-2 bg-primary hover:bg-sky-600 text-white px-4 py-2 rounded-xl font-semibold transition",children:[e.jsx(Cs,{className:"w-5 h-5"}),"Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","in_progress","completed","cancelled"].map(s=>e.jsxs("button",{onClick:()=>Rt(s),className:`px-4 py-2 rounded-xl font-semibold transition ${Fe===s?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s==="all"&&"ğŸ“‹ Ø§Ù„ÙƒÙ„",s==="pending"&&"â³ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",s==="in_progress"&&"ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°",s==="completed"&&"âœ… Ù…ÙƒØªÙ…Ù„Ø©",s==="cancelled"&&"âŒ Ù…Ù„ØºØ§Ø©"]},s))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:De.filter(s=>s.status==="pending").length}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:De.filter(s=>s.status==="in_progress").length}),e.jsx("p",{className:"text-sm text-blue-700",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°"})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:De.filter(s=>s.status==="completed").length}),e.jsx("p",{className:"text-sm text-green-700",children:"Ù…ÙƒØªÙ…Ù„Ø©"})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:De.filter(s=>s.status==="cancelled").length}),e.jsx("p",{className:"text-sm text-red-700",children:"Ù…Ù„ØºØ§Ø©"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:De.filter(s=>Fe==="all"||s.status===Fe).length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{className:"text-4xl mb-2",children:"ğŸ“‹"}),e.jsxs("p",{children:["Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… ",Fe!=="all"&&"ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø©"]})]}):e.jsx("div",{className:"divide-y",children:De.filter(s=>Fe==="all"||s.status===Fe).map(s=>{var a,r,c;const t=C.find(m=>m.uid===s.assignedTo);return e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${s.priority==="high"?"bg-red-100 text-red-700":s.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:s.priority==="high"?"ğŸ”´ Ø¹Ø§Ù„ÙŠØ©":s.priority==="medium"?"ğŸŸ¡ Ù…ØªÙˆØ³Ø·Ø©":"âšª Ù…Ù†Ø®ÙØ¶Ø©"}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${s.status==="pending"?"bg-yellow-100 text-yellow-700":s.status==="in_progress"?"bg-blue-100 text-blue-700":s.status==="completed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s.status==="pending"&&"â³ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",s.status==="in_progress"&&"ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°",s.status==="completed"&&"âœ… Ù…ÙƒØªÙ…Ù„Ø©",s.status==="cancelled"&&"âŒ Ù…Ù„ØºØ§Ø©"]})]}),e.jsx("h3",{className:"font-bold text-gray-800",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["ğŸ‘¤ ",(t==null?void 0:t.name)||s.assignedToName||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]}),s.dueDate&&e.jsxs("span",{children:["ğŸ“… ",new Date(s.dueDate).toLocaleDateString("ar-SA")]}),e.jsxs("span",{children:["ğŸ• ",((c=(r=(a=s.createdAt)==null?void 0:a.toDate)==null?void 0:r.call(a))==null?void 0:c.toLocaleDateString("ar-SA"))||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]})]}),s.notes&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2 bg-gray-50 p-2 rounded",children:["ğŸ’¬ ",s.notes]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[s.status==="pending"&&e.jsx("button",{onClick:async()=>{try{await J(F(p,"tasks",s.id),{status:"in_progress",updatedAt:w()}),i.success("ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©"),z()}catch{i.error("ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù‡Ù…Ø©")}},className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg transition",title:"Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©",children:"â–¶ï¸"}),(s.status==="pending"||s.status==="in_progress")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:async()=>{try{await J(F(p,"tasks",s.id),{status:"completed",completedAt:w(),updatedAt:w()}),i.success("ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©"),z()}catch{i.error("ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù‡Ù…Ø©")}},className:"text-green-600 hover:bg-green-50 p-2 rounded-lg transition",title:"Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©",children:"âœ…"}),e.jsx("button",{onClick:async()=>{if(await h.confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ",{dangerous:!0}))try{await J(F(p,"tasks",s.id),{status:"cancelled",updatedAt:w()}),i.success("ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©"),z()}catch{i.error("ÙØ´Ù„ ÙÙŠ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©")}},className:"text-red-600 hover:bg-red-50 p-2 rounded-lg transition",title:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©",children:"âŒ"})]}),e.jsx("button",{onClick:async()=>{if(await h.confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø© Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ",{dangerous:!0}))try{await We(F(p,"tasks",s.id)),i.success("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø©"),z()}catch{i.error("ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø©")}},className:"text-gray-400 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition",title:"Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø©",children:"ğŸ—‘ï¸"})]})]})},s.id)})})}),Tt&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"ğŸ“‹ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø© *"}),e.jsx("input",{type:"text",value:ns,onChange:s=>is(s.target.value),className:"w-full border rounded-xl px-4 py-2",placeholder:"Ù…Ø«Ø§Ù„: Ù…ØªØ§Ø¨Ø¹Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Ø§Ù„ÙˆØµÙ"}),e.jsx("textarea",{value:qs,onChange:s=>ds(s.target.value),className:"w-full border rounded-xl px-4 py-2 h-24",placeholder:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø©..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"ØªØ¹ÙŠÙŠÙ† Ø¥Ù„Ù‰ *"}),e.jsxs("select",{value:Ve,onChange:s=>cs(s.target.value),className:"w-full border rounded-xl px-4 py-2",children:[e.jsx("option",{value:"",children:"-- Ø§Ø®ØªØ± Ù…Ø´Ø±Ù --"}),C.filter(s=>s.role==="admin").map(s=>e.jsx("option",{value:s.uid,children:s.name||s.email},s.uid))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©"}),e.jsxs("select",{value:et,onChange:s=>os(s.target.value),className:"w-full border rounded-xl px-4 py-2",children:[e.jsx("option",{value:"low",children:"âšª Ù…Ù†Ø®ÙØ¶Ø©"}),e.jsx("option",{value:"medium",children:"ğŸŸ¡ Ù…ØªÙˆØ³Ø·Ø©"}),e.jsx("option",{value:"high",children:"ğŸ”´ Ø¹Ø§Ù„ÙŠØ©"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚"}),e.jsx("input",{type:"date",value:st,onChange:s=>xs(s.target.value),className:"w-full border rounded-xl px-4 py-2"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{rs(!1),is(""),ds(""),cs(""),os("medium"),xs("")},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-xl font-semibold transition",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:async()=>{if(!ns.trim()||!Ve){i.error("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");return}at(!0);try{const s=C.find(t=>t.uid===Ve);await pe(Y(p,"tasks"),{title:ns.trim(),description:qs.trim(),assignedTo:Ve,assignedToName:(s==null?void 0:s.name)||(s==null?void 0:s.email)||"",status:"pending",priority:et,dueDate:st||null,createdBy:j==null?void 0:j.uid,createdAt:w(),updatedAt:w(),completedAt:null,notes:""}),i.success("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­"),rs(!1),is(""),ds(""),cs(""),os("medium"),xs(""),z()}catch(s){console.error(s),i.error("ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©")}finally{at(!1)}},disabled:tt,className:"flex-1 bg-primary hover:bg-sky-600 text-white py-2 rounded-xl font-semibold transition disabled:opacity-50",children:tt?"Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...":"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©"})]})]})})]}),y==="tools"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"ğŸ› ï¸ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…"}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ğŸ“Š Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>{const s={exportDate:new Date().toISOString(),users:C.length,restaurants:A.length,orders:x.length,admins:M.length,stats:I,settings:$},t=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`app-data-${new Date().toISOString().split("T")[0]}.json`,r.click(),i.success("ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­")},className:"flex items-center gap-3 bg-blue-100 hover:bg-blue-200 text-blue-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ“¥"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"}),e.jsx("p",{className:"text-xs opacity-75",children:"ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ø®Øµ JSON"})]})]}),e.jsxs("button",{onClick:()=>{const s=[["Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨","Ø§Ù„Ù…Ø·Ø¹Ù…","Ø§Ù„Ù…Ø¨Ù„Øº","Ø§Ù„Ø­Ø§Ù„Ø©","Ø§Ù„ØªØ§Ø±ÙŠØ®"].join(","),...x.map(c=>{var m,g,T;return[c.id.slice(-8),c.restaurantName||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",c.total,c.status,((T=(g=(m=c.createdAt)==null?void 0:m.toDate)==null?void 0:g.call(m))==null?void 0:T.toLocaleDateString("ar-SA"))||""].join(",")})].join(`
`),t=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,r.click(),i.success("ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ù†Ø¬Ø§Ø­")},className:"flex items-center gap-3 bg-green-100 hover:bg-green-200 text-green-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ“‹"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"ØªØµØ¯ÙŠØ± Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),e.jsx("p",{className:"text-xs opacity-75",children:"Ù…Ù„Ù CSV Ù„Ù„Ø¥ÙƒØ³Ù„"})]})]}),e.jsxs("button",{onClick:()=>{const s=[["Ø§Ù„Ø§Ø³Ù…","Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„","Ø§Ù„Ø¯ÙˆØ±","Ø§Ù„Ù‡Ø§ØªÙ"].join(","),...C.map(c=>[c.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…",c.email,c.role,c.phone||""].join(","))].join(`
`),t=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`users-${new Date().toISOString().split("T")[0]}.csv`,r.click(),i.success("ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­")},className:"flex items-center gap-3 bg-purple-100 hover:bg-purple-200 text-purple-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ‘¥"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),e.jsx("p",{className:"text-xs opacity-75",children:"Ù…Ù„Ù CSV Ù„Ù„Ø¥ÙƒØ³Ù„"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ğŸ”§ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØµÙŠØ§Ù†Ø©"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:async()=>{const s=x.filter(a=>a.status==="pending");if(s.length===0){i.info("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©");return}if(await h.confirm(`Ø³ÙŠØªÙ… Ø¥Ù„ØºØ§Ø¡ ${s.length} Ø·Ù„Ø¨ Ù…Ø¹Ù„Ù‚. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ`,{title:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©",dangerous:!0}))try{await Promise.all(s.map(a=>J(F(p,"orders",a.id),{status:"cancelled",updatedAt:w()}))),i.success(`ØªÙ… Ø¥Ù„ØºØ§Ø¡ ${s.length} Ø·Ù„Ø¨`),z()}catch{i.error("ÙØ´Ù„ ÙÙŠ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª")}},className:"flex items-center gap-3 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"â³"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©"}),e.jsxs("p",{className:"text-xs opacity-75",children:[x.filter(s=>s.status==="pending").length," Ø·Ù„Ø¨ Ù…Ø¹Ù„Ù‚"]})]})]}),e.jsxs("button",{onClick:async()=>{const s=new Date;s.setMonth(s.getMonth()-3);const t=x.filter(r=>{var m,g;return(((g=(m=r.createdAt)==null?void 0:m.toDate)==null?void 0:g.call(m))||new Date)<s&&(r.status==="delivered"||r.status==="cancelled")});if(t.length===0){i.info("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù‚Ø¯ÙŠÙ…Ø©");return}if(await h.confirm(`Ø³ÙŠØªÙ… Ø­Ø°Ù ${t.length} Ø·Ù„Ø¨ Ù‚Ø¯ÙŠÙ… (Ø£ÙƒØ«Ø± Ù…Ù† 3 Ø£Ø´Ù‡Ø±). Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ`,{title:"Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©",dangerous:!0}))try{await Promise.all(t.map(r=>We(F(p,"orders",r.id)))),i.success(`ØªÙ… Ø­Ø°Ù ${t.length} Ø·Ù„Ø¨ Ù‚Ø¯ÙŠÙ…`),z()}catch{i.error("ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨Ø§Øª")}},className:"flex items-center gap-3 bg-orange-100 hover:bg-orange-200 text-orange-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ—‘ï¸"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:"ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©"}),e.jsx("p",{className:"text-xs opacity-75",children:"Ø­Ø°Ù Ø£Ù‚Ø¯Ù… Ù…Ù† 3 Ø£Ø´Ù‡Ø±"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/firestore`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-blue-50 hover:bg-blue-100 text-blue-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ“Š"}),e.jsx("span",{className:"font-semibold",children:"Firestore"})]}),e.jsxs("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/authentication/users`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-green-50 hover:bg-green-100 text-green-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ”"}),e.jsx("span",{className:"font-semibold",children:"Authentication"})]}),e.jsxs("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/storage`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-purple-50 hover:bg-purple-100 text-purple-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ“"}),e.jsx("span",{className:"font-semibold",children:"Storage"})]}),e.jsxs("a",{href:`https://console.firebase.google.com/project/${ie.projectId}/hosting`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-orange-50 hover:bg-orange-100 text-orange-800 p-4 rounded-xl transition",children:[e.jsx("span",{className:"text-2xl",children:"ğŸŒ"}),e.jsx("span",{className:"font-semibold",children:"Hosting"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"â„¹ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Project ID"}),e.jsx("p",{className:"font-mono",children:ie.projectId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Storage Bucket"}),e.jsx("p",{className:"font-mono",children:ie.storageBucket})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ø¥ØµØ¯Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"}),e.jsx("p",{className:"font-bold",children:$.appVersion||"1.0.0"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø©"}),e.jsx("p",{className:`font-bold ${$.maintenanceMode?"text-red-600":"text-green-600"}`,children:$.maintenanceMode?"ğŸ”´ Ù…ÙØ¹Ù‘Ù„":"ğŸŸ¢ Ù…Ø¹Ø·Ù‘Ù„"})]})]})]})]}),y==="licenses"&&e.jsx(ya,{restaurants:A,onUpdate:vs,toast:i,dialog:h}),y==="packages"&&e.jsx(ka,{packageRequests:we,onUpdate:vs,toast:i,dialog:h,storage:k}),y==="packageSettings"&&e.jsx(Sa,{toast:i,dialog:h}),y==="storeAnalytics"&&e.jsx(wa,{restaurants:A,orders:x,toast:i}),y==="activityLog"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:["ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª",e.jsxs("span",{className:"text-sm bg-gray-200 px-3 py-1 rounded-full",children:[ms.length," Ø¹Ù…Ù„ÙŠØ©"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:gs,onChange:s=>It(s.target.value),className:"border rounded-xl px-4 py-2",children:[e.jsx("option",{value:"all",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª"}),e.jsx("option",{value:"activate",children:"ØªÙØ¹ÙŠÙ„"}),e.jsx("option",{value:"deactivate",children:"Ø¥ÙŠÙ‚Ø§Ù"}),e.jsx("option",{value:"create",children:"Ø¥Ù†Ø´Ø§Ø¡"}),e.jsx("option",{value:"update",children:"ØªØ­Ø¯ÙŠØ«"}),e.jsx("option",{value:"delete",children:"Ø­Ø°Ù"}),e.jsx("option",{value:"package_activate",children:"ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø©"}),e.jsx("option",{value:"package_cancel",children:"Ø¥Ù„ØºØ§Ø¡ Ø¨Ø§Ù‚Ø©"}),e.jsx("option",{value:"role_change",children:"ØªØºÙŠÙŠØ± Ø¯ÙˆØ±"})]}),e.jsxs("button",{onClick:ct,disabled:hs,className:"bg-primary hover:bg-sky-600 text-white px-4 py-2 rounded-xl",children:[hs?"â³":"ğŸ”„"," ØªØ­Ø¯ÙŠØ«"]})]})]}),hs?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„..."})]}):ms.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"ğŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ø³Ø¬Ù„Ø© Ø¨Ø¹Ø¯"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙØ¹ÙŠÙ„ ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ù ÙˆØ§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§"})]}):e.jsx("div",{className:"space-y-3",children:ms.filter(s=>gs==="all"||s.action===gs).map(s=>e.jsx("div",{className:`bg-white rounded-xl shadow p-4 border-r-4 ${s.action==="activate"||s.action==="package_activate"?"border-green-500":s.action==="deactivate"||s.action==="package_cancel"||s.action==="delete"?"border-red-500":s.action==="create"?"border-blue-500":"border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${s.action==="activate"?"bg-green-100 text-green-700":s.action==="deactivate"?"bg-red-100 text-red-700":s.action==="create"?"bg-blue-100 text-blue-700":s.action==="update"?"bg-yellow-100 text-yellow-700":s.action==="delete"?"bg-red-100 text-red-700":s.action==="package_activate"?"bg-amber-100 text-amber-700":s.action==="package_cancel"?"bg-orange-100 text-orange-700":s.action==="role_change"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[s.action==="activate"&&"âœ… ØªÙØ¹ÙŠÙ„",s.action==="deactivate"&&"â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù",s.action==="create"&&"â• Ø¥Ù†Ø´Ø§Ø¡",s.action==="update"&&"âœï¸ ØªØ­Ø¯ÙŠØ«",s.action==="delete"&&"ğŸ—‘ï¸ Ø­Ø°Ù",s.action==="package_activate"&&"âœ¨ ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø©",s.action==="package_cancel"&&"ğŸ“¦ Ø¥Ù„ØºØ§Ø¡ Ø¨Ø§Ù‚Ø©",s.action==="role_change"&&"ğŸ”„ ØªØºÙŠÙŠØ± Ø¯ÙˆØ±"]}),e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:[s.targetType==="user"&&"ğŸ‘¤ Ù…Ø³ØªØ®Ø¯Ù…",s.targetType==="restaurant"&&"ğŸª Ù…Ø·Ø¹Ù…",s.targetType==="order"&&"ğŸ“¦ Ø·Ù„Ø¨",s.targetType==="package"&&"ğŸ’ Ø¨Ø§Ù‚Ø©",s.targetType==="settings"&&"âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"]})]}),e.jsx("p",{className:"font-bold text-gray-800",children:s.targetName||s.targetId}),s.details&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.details}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Ø¨ÙˆØ§Ø³Ø·Ø©: ",s.performedByName||"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"]})]}),e.jsx("div",{className:"text-left text-xs text-gray-400 whitespace-nowrap",children:s.createdAt?new Date(s.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"})]})},s.id))})]}),e.jsx("div",{className:"bg-gray-100 rounded-2xl p-4 text-sm",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600",children:[e.jsxs("span",{children:["ğŸ“§ ",j==null?void 0:j.email]}),e.jsxs("span",{children:["ğŸ†” ",j==null?void 0:j.uid.slice(0,12),"..."]}),e.jsxs("span",{children:["ğŸ“… ",new Date().toLocaleDateString("ar-SA")]})]})})]})})},ya=({restaurants:j,onUpdate:i,toast:h,dialog:k})=>{const[y,R]=d.useState("pending"),[u,H]=d.useState({}),[W,q]=d.useState(null),[I,ae]=d.useState(""),[$,Q]=d.useState(null),[C,v]=d.useState(new Set),[A,K]=d.useState(""),[x,ee]=d.useState([]),[M,de]=d.useState(!1),[X,le]=d.useState(!1);d.useEffect(()=>{y==="sent_messages"&&x.length===0&&_()},[y]);const _=async()=>{de(!0);try{const l=qe(Y(p,"notifications"),Ds("type","==","license_reminder"),wt("createdAt","desc"),kt(100)),D=(await oe(l)).docs.map(B=>{var O,te;return{id:B.id,...B.data(),createdAt:((te=(O=B.data().createdAt)==null?void 0:O.toDate)==null?void 0:te.call(O))||null}});ee(D)}catch(l){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„:",l),h.warning("ØªØ­ØªØ§Ø¬ Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙÙ‡Ø±Ø³ Ù…Ø±ÙƒØ¨ Ù„Ù€ notifications (type + createdAt)")}finally{de(!1)}},U=j.filter(l=>l.commercialLicenseUrl),Z=j.filter(l=>!l.commercialLicenseUrl),V=U.filter(l=>y==="all"?!0:y==="missing"||y==="sent_messages"?!1:l.licenseStatus===y||!l.licenseStatus&&y==="pending"),L={all:U.length,pending:U.filter(l=>!l.licenseStatus||l.licenseStatus==="pending").length,approved:U.filter(l=>l.licenseStatus==="approved").length,rejected:U.filter(l=>l.licenseStatus==="rejected").length,missing:Z.length,sent_messages:x.length},re=async(l,S)=>{if(!S.trim()){h.warning("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©");return}Q(l.id);try{await pe(Y(p,"notifications"),{type:"license_reminder",recipientId:l.ownerId,recipientType:"owner",restaurantId:l.id,restaurantName:l.name,title:"âš ï¸ ØªØ°ÙƒÙŠØ±: Ø±ÙØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ",message:S,read:!1,createdAt:w()}),h.success(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù€ ${l.name}`),ae("")}catch(D){h.error("ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: "+(D.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{Q(null)}},xe=async()=>{if(!A.trim()){h.warning("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©");return}const l=C.size>0?Z.filter(D=>C.has(D.id)):Z;if(l.length===0){h.warning("Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù… Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©");return}if(await k.confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù€ ${l.length} Ù…Ø·Ø¹Ù…ØŸ`,{title:"Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¬Ù…Ø§Ø¹ÙŠØ©"})){le(!0);try{const D=l.map(B=>pe(Y(p,"notifications"),{type:"license_reminder",recipientId:B.ownerId,recipientType:"owner",restaurantId:B.id,restaurantName:B.name,title:"âš ï¸ ØªØ°ÙƒÙŠØ±: Ø±ÙØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ",message:A,read:!1,createdAt:w()}));await Promise.all(D),h.success(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù€ ${l.length} Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­ âœ“`),K(""),v(new Set)}catch(D){h.error("ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø¹Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„: "+(D.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{le(!1)}}},n=()=>{C.size===Z.length?v(new Set):v(new Set(Z.map(l=>l.id)))},G=l=>{const S=new Set(C);S.has(l)?S.delete(l):S.add(l),v(S)},P=async(l,S)=>{const D=u[l]||"";if(S==="rejected"&&!D.trim()){h.warning("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶");return}const B=S==="approved"?"Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰":"Ø±ÙØ¶";if(await k.confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ${B} ØªØ±Ø§Ø®ÙŠØµ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø·Ø¹Ù…ØŸ`,{title:`${B} Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ`})){q(l);try{await J(F(p,"restaurants",l),{licenseStatus:S,licenseNotes:S==="rejected"?D:"",updatedAt:w()}),h.success(S==="approved"?"ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ âœ“":"ØªÙ… Ø±ÙØ¶ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ"),H(te=>({...te,[l]:""})),i()}catch(te){h.error("ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«: "+(te.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{q(null)}}},o=async(l,S)=>{const D="Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ";if(await k.confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ${D} Ù„Ù€ "${l.name}"ØŸ
Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø·Ø¹Ù… Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø±ÙØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ.`,{title:`ğŸ—‘ï¸ Ø­Ø°Ù ${D}`})){q(l.id);try{const O={licenseStatus:null,licenseNotes:"",updatedAt:w(),commercialLicenseUrl:null};await J(F(p,"restaurants",l.id),O),await pe(Y(p,"notifications"),{type:"license_deleted",recipientId:l.ownerId,recipientType:"owner",restaurantId:l.id,restaurantName:l.name,title:`âš ï¸ ØªÙ… Ø­Ø°Ù ${D}`,message:`ØªÙ… Ø­Ø°Ù ${D} Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù…Ø·Ø¹Ù…Ùƒ. ÙŠØ±Ø¬Ù‰ Ø¥Ø¹Ø§Ø¯Ø© Ø±ÙØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„ØµØ­ÙŠØ­ Ù…Ù† ØµÙØ­Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù….`,read:!1,createdAt:w()}),h.success(`ØªÙ… Ø­Ø°Ù ${D} ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø·Ø¹Ù… âœ“`),i()}catch(O){h.error("ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„ØªØ±Ø®ÙŠØµ: "+(O.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"))}finally{q(null)}}},N=l=>{switch(l){case"approved":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:[e.jsx(ve,{className:"w-3 h-3"})," Ù…ÙˆØ§ÙÙ‚"]});case"rejected":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs font-semibold",children:[e.jsx(_e,{className:"w-3 h-3"})," Ù…Ø±ÙÙˆØ¶"]});default:return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-semibold",children:[e.jsx(Dt,{className:"w-3 h-3"})," Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"]})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(Fs,{className:"w-6 h-6 text-sky-500"}),"Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ"]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["pending","approved","rejected","all","missing","sent_messages"].map(l=>e.jsxs("button",{onClick:()=>R(l),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${y===l?l==="missing"?"bg-orange-500 text-white":l==="sent_messages"?"bg-purple-500 text-white":"bg-sky-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l==="all"&&`Ø§Ù„ÙƒÙ„ (${L.all})`,l==="pending"&&`Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© (${L.pending})`,l==="approved"&&`Ù…ÙˆØ§ÙÙ‚ (${L.approved})`,l==="rejected"&&`Ù…Ø±ÙÙˆØ¶ (${L.rejected})`,l==="missing"&&`âš ï¸ Ù„Ù… ÙŠØ±ÙØ¹ (${L.missing})`,l==="sent_messages"&&"ğŸ“¨ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø©"]},l))})]}),y==="sent_messages"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-purple-700 flex items-center gap-2",children:"ğŸ“¨ Ø³Ø¬Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ù„Ù„Ù…Ø·Ø§Ø¹Ù…"}),e.jsx("button",{onClick:_,disabled:M,className:"px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl font-medium transition disabled:opacity-50",children:M?"â³ Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...":"ğŸ”„ ØªØ­Ø¯ÙŠØ«"})]}),M?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„..."})]}):x.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl",children:[e.jsx("p",{className:"text-gray-500",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø³Ø§Ø¦Ù„ Ù…Ø±Ø³Ù„Ø© Ø¨Ø¹Ø¯"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªØ±Ø³Ù„Ù‡Ø§ Ù„Ù„Ù…Ø·Ø§Ø¹Ù… Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§"})]}):e.jsx("div",{className:"space-y-3",children:x.map(l=>e.jsx("div",{className:"bg-white rounded-xl shadow p-4 border-r-4 border-purple-500",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-bold text-gray-800",children:l.restaurantName||"Ù…Ø·Ø¹Ù…"}),l.read?e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"âœ“ Ù…Ù‚Ø±ÙˆØ¡Ø©"}):e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-full",children:"â³ Ù„Ù… ØªÙÙ‚Ø±Ø£"})]}),e.jsx("p",{className:"text-sm text-gray-600 font-semibold mb-1",children:l.title}),e.jsx("p",{className:"text-gray-700 text-sm bg-gray-50 p-3 rounded-lg",children:l.message})]}),e.jsx("div",{className:"text-left text-xs text-gray-400 whitespace-nowrap",children:l.createdAt?new Date(l.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"})]})},l.id))})]}),y==="missing"&&e.jsx("div",{className:"space-y-4",children:Z.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(ve,{className:"w-16 h-16 mx-auto mb-4 text-green-400"}),e.jsx("p",{className:"text-green-600 font-semibold",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø±ÙØ¹Øª ØªØ±Ø§Ø®ÙŠØµÙ‡Ø§ âœ“"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-2xl p-5",children:[e.jsx("h3",{className:"font-bold text-orange-800 mb-3 flex items-center gap-2",children:"ğŸ“¢ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¬Ù…Ø§Ø¹ÙŠØ©"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.size===Z.length,onChange:n,className:"w-5 h-5 rounded border-orange-300 text-orange-500 focus:ring-orange-500"}),e.jsxs("span",{className:"text-sm text-orange-700",children:["ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ (",Z.length,")"]})]}),C.size>0&&e.jsxs("span",{className:"text-sm bg-orange-200 text-orange-800 px-2 py-1 rounded-full",children:["Ù…Ø­Ø¯Ø¯: ",C.size]})]}),e.jsx("textarea",{placeholder:"Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙŠ Ø³ØªØ±Ø³Ù„ Ù„Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© (Ø£Ùˆ Ø¬Ù…ÙŠØ¹Ù‡Ø§ Ø¥Ø°Ø§ Ù„Ù… ØªØ­Ø¯Ø¯)...",value:A,onChange:l=>K(l.target.value),className:"w-full border border-orange-200 rounded-xl p-3 text-sm resize-none h-24 focus:ring-2 focus:ring-orange-400 focus:border-transparent"}),e.jsx("button",{onClick:xe,disabled:X||!A.trim(),className:"mt-3 w-full flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 text-white py-2.5 rounded-xl font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed",children:X?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-5 h-5 animate-spin"}),"Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„..."]}):e.jsxs(e.Fragment,{children:["ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ù„Ù€ ",C.size>0?C.size:Z.length," Ù…Ø·Ø¹Ù…"]})})]}),e.jsx("div",{className:"grid gap-3",children:Z.map(l=>e.jsx("div",{className:"bg-white border rounded-2xl p-4 shadow-sm hover:shadow-md transition",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",checked:C.has(l.id),onChange:()=>G(l.id),className:"w-5 h-5 mt-1 rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500",children:l.city||"Ø¨Ø¯ÙˆÙ† Ù…Ø¯ÙŠÙ†Ø©"})]}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-orange-100 text-orange-700 text-xs font-semibold",children:[e.jsx(_e,{className:"w-3 h-3"}),"Ù„Ù… ÙŠØ±ÙØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mb-3",children:[l.email&&e.jsxs("span",{children:["ğŸ“§ ",l.email]}),l.phone&&e.jsxs("span",{children:["ğŸ“± ",l.phone]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Ø±Ø³Ø§Ù„Ø© Ø³Ø±ÙŠØ¹Ø©...",value:$===l.id?I:"",onChange:S=>{Q(l.id),ae(S.target.value)},onFocus:()=>Q(l.id),className:"flex-1 border rounded-lg px-3 py-2 text-sm"}),e.jsx("button",{onClick:()=>re(l,I),disabled:$===l.id&&!I.trim(),className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg text-sm font-medium transition disabled:opacity-50",children:"Ø¥Ø±Ø³Ø§Ù„"})]})]})]})},l.id))})]})}),y!=="missing"&&V.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(Fs,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsxs("p",{children:["Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ±Ø§Ø®ÙŠØµ ",y==="pending"?"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©":y==="approved"?"Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡Ø§":y==="rejected"?"Ù…Ø±ÙÙˆØ¶Ø©":""]})]}):y!=="missing"&&e.jsx("div",{className:"grid gap-4",children:V.map(l=>e.jsxs("div",{className:"bg-white border rounded-2xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[l.city||"Ø¨Ø¯ÙˆÙ† Ù…Ø¯ÙŠÙ†Ø©"," â€¢ ",l.email||"Ø¨Ø¯ÙˆÙ† Ø¨Ø±ÙŠØ¯"]})]}),N(l.licenseStatus)]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:l.commercialLicenseUrl&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"ğŸ“œ Ø§Ù„Ø±Ø®ØµØ© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©"}),e.jsx("button",{onClick:()=>o(l),disabled:W===l.id,className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Ø­Ø°Ù Ø§Ù„Ø±Ø®ØµØ© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©",children:e.jsx(Be,{className:"w-4 h-4"})})]}),e.jsxs("a",{href:l.commercialLicenseUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sky-600 hover:text-sky-800 text-sm",children:[e.jsx($s,{className:"w-4 h-4"}),"Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù"]})]})}),l.commercialLicenseUrl&&e.jsxs("button",{onClick:()=>o(l),disabled:W===l.id,className:"w-full flex items-center justify-center gap-2 mb-4 py-2 px-4 border-2 border-dashed border-red-200 text-red-500 hover:bg-red-50 hover:border-red-300 rounded-xl text-sm font-medium transition",children:[e.jsx(Be,{className:"w-4 h-4"}),"Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨"]}),l.licenseStatus==="rejected"&&l.licenseNotes&&e.jsxs("div",{className:"bg-red-50 text-red-700 rounded-xl p-3 mb-4 text-sm",children:[e.jsx("strong",{children:"Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶:"})," ",l.licenseNotes]}),l.licenseStatus!=="approved"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{placeholder:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ù„Ø±ÙØ¶)...",value:u[l.id]||"",onChange:S=>H(D=>({...D,[l.id]:S.target.value})),className:"w-full border rounded-xl p-3 text-sm resize-none h-20"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>P(l.id,"approved"),disabled:W===l.id,className:"flex-1 flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white py-2.5 rounded-xl font-semibold transition disabled:opacity-50",children:[e.jsx(ve,{className:"w-5 h-5"}),"Ù…ÙˆØ§ÙÙ‚Ø©"]}),e.jsxs("button",{onClick:()=>P(l.id,"rejected"),disabled:W===l.id,className:"flex-1 flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white py-2.5 rounded-xl font-semibold transition disabled:opacity-50",children:[e.jsx(_e,{className:"w-5 h-5"}),"Ø±ÙØ¶"]})]})]}),l.licenseStatus==="approved"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{placeholder:"Ø³Ø¨Ø¨ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©...",value:u[l.id]||"",onChange:S=>H(D=>({...D,[l.id]:S.target.value})),className:"w-full border border-yellow-200 rounded-xl p-3 text-sm resize-none h-20 focus:ring-2 focus:ring-yellow-400 focus:border-transparent"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>P(l.id,"rejected"),disabled:W===l.id,className:"flex-1 flex items-center justify-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-white py-2.5 rounded-xl font-semibold transition disabled:opacity-50",children:[e.jsx(_e,{className:"w-5 h-5"}),"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©"]}),e.jsxs("button",{onClick:()=>o(l),disabled:W===l.id,className:"flex-1 flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white py-2.5 rounded-xl font-semibold transition disabled:opacity-50",children:[e.jsx(Be,{className:"w-5 h-5"}),"Ø­Ø°Ù ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨"]})]})]})]},l.id))})]})},wa=({restaurants:j,orders:i,toast:h})=>{var ae,$,Q,C;const[k,y]=d.useState(null),[R,u]=d.useState({}),[H,W]=d.useState(!1),q=async v=>{var A;W(!0);try{const K=await Ts(F(p,"restaurantStats",v)),x=K.exists()?K.data():null,ee=i.filter(V=>V.restaurantId===v),M=ee.filter(V=>V.status==="delivered"),de=qe(Y(p,"menuItems"),Ds("ownerId","==",v)),X=await oe(de);let le=0;try{const V=qe(Y(p,"customerRegistrations"),Ds("restaurantId","==",v));le=(await oe(V)).size}catch{}const _=M.reduce((V,L)=>V+(L.total||0),0),U=new Date().toISOString().split("T")[0],Z=((A=x==null?void 0:x.dailyViews)==null?void 0:A[U])||0;u(V=>({...V,[v]:{totalOrders:ee.length,deliveredOrders:M.length,totalRevenue:_,menuItemsCount:X.size,profileViews:(x==null?void 0:x.totalProfileViews)||0,menuViews:(x==null?void 0:x.totalMenuViews)||0,itemViews:(x==null?void 0:x.totalItemViews)||0,shareClicks:(x==null?void 0:x.totalShareClicks)||0,whatsappShares:(x==null?void 0:x.whatsappShareCount)||0,registeredCustomers:le,todayViews:Z,dailyViews:(x==null?void 0:x.dailyViews)||{}}}))}catch(K){console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªØ¬Ø±:",K),h.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{W(!1)}},I=v=>{y(v),R[v]||q(v)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"ğŸ“ˆ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªØ§Ø¬Ø±"}),e.jsxs("span",{className:"text-gray-500",children:[j.length," Ù…ØªØ¬Ø±"]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(v=>{const A=R[v.id];return e.jsxs("div",{onClick:()=>I(v.id),className:`bg-white rounded-2xl shadow p-4 cursor-pointer transition hover:shadow-lg ${k===v.id?"ring-2 ring-sky-500":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.logoUrl?e.jsx("img",{src:v.logoUrl,alt:v.name,className:"w-12 h-12 rounded-xl object-cover"}):e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center",children:"ğŸª"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:v.name}),e.jsx("p",{className:"text-xs text-gray-500",children:v.city||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"})]})]}),A&&e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-xs",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-2",children:[e.jsx("p",{className:"font-bold text-blue-700",children:A.profileViews}),e.jsx("p",{className:"text-blue-600",children:"Ø²ÙŠØ§Ø±Ø©"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-2",children:[e.jsx("p",{className:"font-bold text-green-700",children:A.deliveredOrders}),e.jsx("p",{className:"text-green-600",children:"Ø·Ù„Ø¨"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-2",children:[e.jsx("p",{className:"font-bold text-purple-700",children:A.whatsappShares}),e.jsx("p",{className:"text-purple-600",children:"Ù…Ø´Ø§Ø±ÙƒØ©"})]})]})]},v.id)})}),k&&e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:H?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ne,{className:"w-8 h-8 animate-spin mx-auto text-sky-500"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª..."})]}):R[k]?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[(ae=j.find(v=>v.id===k))!=null&&ae.logoUrl?e.jsx("img",{src:($=j.find(v=>v.id===k))==null?void 0:$.logoUrl,alt:"",className:"w-16 h-16 rounded-xl object-cover"}):e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center text-2xl",children:"ğŸª"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:(Q=j.find(v=>v.id===k))==null?void 0:Q.name}),e.jsx("p",{className:"text-gray-500",children:(C=j.find(v=>v.id===k))==null?void 0:C.city})]})]}),e.jsx("button",{onClick:()=>q(k),className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-xl",children:e.jsx(Ne,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-700",children:R[k].profileViews}),e.jsx("p",{className:"text-sm text-blue-600",children:"Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ØµÙØ­Ø©"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[e.jsx("p",{className:"text-3xl font-bold text-green-700",children:R[k].todayViews}),e.jsx("p",{className:"text-sm text-green-600",children:"Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-700",children:R[k].whatsappShares}),e.jsx("p",{className:"text-sm text-purple-600",children:"Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§ØªØ³Ø§Ø¨"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4",children:[e.jsx("p",{className:"text-3xl font-bold text-amber-700",children:R[k].shareClicks}),e.jsx("p",{className:"text-sm text-amber-600",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ§Øª"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold",children:R[k].totalOrders}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold",children:R[k].deliveredOrders}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ø·Ù„Ø¨Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©"})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:R[k].totalRevenue.toFixed(0)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Ø±.Ø³)"})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold",children:R[k].menuItemsCount}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4",children:[e.jsx("h4",{className:"font-bold text-indigo-800 mb-2",children:"ğŸ‘¥ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø¹Ø¨Ø± Ø±Ø§Ø¨Ø· Ø§Ù„Ø£Ø³Ø±Ø©"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:R[k].registeredCustomers}),e.jsx("p",{className:"text-xs text-indigo-500",children:"Ø¹Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø·"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:R[k].itemViews}),e.jsx("p",{className:"text-xs text-purple-500",children:"Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„Ø£ØµÙ†Ø§Ù"})]})]})]}),Object.keys(R[k].dailyViews||{}).length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"ğŸ“Š Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…)"}),e.jsx("div",{className:"flex items-end gap-2 h-32",children:(()=>{const v=R[k].dailyViews||{},A=[];for(let x=6;x>=0;x--){const ee=new Date;ee.setDate(ee.getDate()-x);const M=ee.toISOString().split("T")[0];A.push({date:M,views:v[M]||0})}const K=Math.max(...A.map(x=>x.views),1);return A.map((x,ee)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full bg-sky-500 rounded-t",style:{height:`${x.views/K*100}%`,minHeight:x.views>0?"4px":"0"}}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.date).toLocaleDateString("ar-SA",{weekday:"short"})}),e.jsx("span",{className:"text-xs font-bold",children:x.views})]},x.date))})()})]})]}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ù…ØªØ¬Ø± Ù„Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙ‡"})})]})},ka=({packageRequests:j,onUpdate:i,toast:h,dialog:k,storage:y})=>{const[R,u]=d.useState("all"),[H,W]=d.useState(null),[q,I]=d.useState(null),[ae,$]=d.useState(99),[Q,C]=d.useState(null),[v,A]=d.useState(null),[K,x]=d.useState(""),[ee,M]=d.useState(null),de=async(n,G)=>{if(!G.trim()){h.warning("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©");return}A(n.id);try{await pe(Y(p,"notifications"),{recipientId:n.restaurantId,title:"ğŸ“¬ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",message:G.trim(),type:"admin_message",read:!1,data:{requestId:n.id},createdAt:w()}),h.success("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­! ğŸ“¬"),M(null),x("")}catch(P){h.error(`ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: ${P.message}`)}finally{A(null)}},X=j.filter(n=>R==="all"?!0:n.status===R),le=j.filter(n=>n.status==="pending").length,_=j.filter(n=>n.status==="bank_sent").length,U=j.filter(n=>n.status==="payment_sent").length,Z=j.filter(n=>n.status==="approved").length,V=n=>{switch(n){case"pending":return{label:"Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯",color:"bg-yellow-100 text-yellow-700",icon:"â³"};case"bank_sent":return{label:"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ­ÙˆÙŠÙ„",color:"bg-blue-100 text-blue-700",icon:"ğŸ¦"};case"payment_sent":return{label:"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯",color:"bg-purple-100 text-purple-700",icon:"ğŸ’³"};case"approved":return{label:"Ù…ÙØ¹Ù‘Ù„",color:"bg-green-100 text-green-700",icon:"âœ…"};case"rejected":return{label:"Ù…Ø±ÙÙˆØ¶",color:"bg-red-100 text-red-700",icon:"âŒ"};case"expired":return{label:"Ù…Ù†ØªÙ‡ÙŠ",color:"bg-gray-100 text-gray-700",icon:"â°"};default:return{label:n,color:"bg-gray-100",icon:"ğŸ“¦"}}},L=async n=>{if(!q){h.warning("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ");return}W(n);try{const G=`bankAccounts/${Date.now()}_${q.name}`,P=St(y,G);await Ct(P,q);const o=await At(P);await J(F(p,"packageRequests",n),{status:"bank_sent",bankAccountImageUrl:o,subscriptionAmount:ae,bankSentAt:w(),updatedAt:w()});const N=j.find(l=>l.id===n);N&&await pe(Y(p,"notifications"),{recipientId:N.restaurantId,title:"ğŸ¦ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ",message:`ÙŠØ±Ø¬Ù‰ ØªØ­ÙˆÙŠÙ„ Ù…Ø¨Ù„Øº ${ae} Ø±ÙŠØ§Ù„ Ø«Ù… Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥Ø«Ø¨Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„`,type:"package_bank_sent",read:!1,data:{requestId:n,amount:ae},createdAt:w()}),h.success("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ Ø¨Ù†Ø¬Ø§Ø­"),I(null),C(null),i()}catch(G){h.error(`ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: ${G.message}`)}finally{W(null)}},re=async n=>{if(await k.confirm(`Ù‡Ù„ ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªÙ„Ø§Ù… Ù…Ø¨Ù„Øº ${n.subscriptionAmount} Ø±ÙŠØ§Ù„ ÙˆØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ù„Ù€ "${n.restaurantName}"ØŸ`,{title:"âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø§Ù‚Ø©",confirmText:"Ù†Ø¹Ù…ØŒ ÙØ¹Ù‘Ù„ Ø§Ù„Ø¨Ø§Ù‚Ø©"})){W(n.id);try{const P=new Date;P.setDate(P.getDate()+(n.subscriptionDuration||30)),await J(F(p,"packageRequests",n.id),{status:"approved",approvedAt:w(),expiresAt:P,updatedAt:w()}),await J(F(p,"restaurants",n.restaurantId),{packageType:"premium",packageSubscribedAt:w(),packageExpiresAt:P,packageRequest:null,updatedAt:w()}),await pe(Y(p,"notifications"),{recipientId:n.restaurantId,title:"ğŸ‰ ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²!",message:`Ù…Ø¨Ø±ÙˆÙƒ! ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ø­ØªÙ‰ ${P.toLocaleDateString("ar-SA")}`,type:"package_approved",read:!1,data:{requestId:n.id},createdAt:w()}),h.success("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø§Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰"),i()}catch(P){h.error(`ÙØ´Ù„ Ø§Ù„ØªÙØ¹ÙŠÙ„: ${P.message}`)}finally{W(null)}}},xe=async n=>{if(await k.confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø±ÙØ¶ Ø·Ù„Ø¨ "${n.restaurantName}"ØŸ`,{title:"âŒ Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨",confirmText:"Ù†Ø¹Ù…ØŒ Ø§Ø±ÙØ¶",dangerous:!0})){W(n.id);try{await J(F(p,"packageRequests",n.id),{status:"rejected",rejectedAt:w(),updatedAt:w()}),await pe(Y(p,"notifications"),{recipientId:n.restaurantId,title:"âŒ ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ",message:"Ù„Ù„Ø£Ø³Ù ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ø´ØªØ±Ø§ÙƒÙƒ ÙÙŠ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ². ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø³Ø¨Ø¨.",type:"package_rejected",read:!1,createdAt:w()}),h.success("ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨"),i()}catch(P){h.error(`ÙØ´Ù„ Ø§Ù„Ø±ÙØ¶: ${P.message}`)}finally{W(null)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª"}),e.jsx("p",{className:"text-gray-600",children:"Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø© Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 text-center border border-yellow-200",children:[e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:le}),e.jsx("p",{className:"text-sm text-yellow-700",children:"â³ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center border border-blue-200",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:_}),e.jsx("p",{className:"text-sm text-blue-700",children:"ğŸ¦ Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ­ÙˆÙŠÙ„"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center border border-purple-200",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:U}),e.jsx("p",{className:"text-sm text-purple-700",children:"ğŸ’³ Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯"})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center border border-green-200",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:Z}),e.jsx("p",{className:"text-sm text-green-700",children:"âœ… Ù…ÙØ¹Ù‘Ù„"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"all",label:"Ø§Ù„ÙƒÙ„"},{id:"pending",label:"â³ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©"},{id:"bank_sent",label:"ğŸ¦ Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ­ÙˆÙŠÙ„"},{id:"payment_sent",label:"ğŸ’³ Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯"},{id:"approved",label:"âœ… Ù…ÙØ¹Ù‘Ù„Ø©"},{id:"rejected",label:"âŒ Ù…Ø±ÙÙˆØ¶Ø©"}].map(n=>e.jsx("button",{onClick:()=>u(n.id),className:`px-4 py-2 rounded-xl font-semibold transition ${R===n.id?"bg-amber-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n.label},n.id))}),X.length===0?e.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-2xl",children:[e.jsx(he,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-500 text-lg",children:["Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª ",R!=="all"&&"Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø©"]})]}):e.jsx("div",{className:"space-y-4",children:X.map(n=>{var P,o,N,l,S,D,B,O,te,ue,Ie,be;const G=V(n.status);return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center text-2xl",children:"ğŸ‘¨â€ğŸ³"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:n.restaurantName}),e.jsxs("p",{className:"text-white/80 text-sm",children:[n.ownerName||"ØµØ§Ø­Ø¨ Ø§Ù„Ø£Ø³Ø±Ø©"," â€¢ ",n.ownerPhone||"Ø¨Ø¯ÙˆÙ† Ø±Ù‚Ù…"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.ownerPhone&&e.jsx("a",{href:`https://wa.me/${n.ownerPhone.replace(/[^0-9]/g,"").replace(/^0/,"966")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-xl text-sm font-semibold transition",children:"ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨"}),e.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-bold ${G.color}`,children:[G.icon," ",G.label]})]})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨"}),e.jsx("p",{className:"font-semibold",children:((N=(o=(P=n.requestedAt)==null?void 0:P.toDate)==null?void 0:o.call(P))==null?void 0:N.toLocaleDateString("ar-SA"))||((D=(S=(l=n.createdAt)==null?void 0:l.toDate)==null?void 0:S.call(l))==null?void 0:D.toLocaleDateString("ar-SA"))||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ø§Ù„Ù…Ø¨Ù„Øº"}),e.jsxs("p",{className:"font-semibold text-green-600",children:[n.subscriptionAmount||99," Ø±.Ø³"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ø§Ù„Ù…Ø¯Ø©"}),e.jsxs("p",{className:"font-semibold",children:[n.subscriptionDuration||30," ÙŠÙˆÙ…"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ù…Ø¹Ø±Ù Ø§Ù„Ø£Ø³Ø±Ø©"}),e.jsxs("p",{className:"font-mono text-xs",children:[n.restaurantId.slice(0,12),"..."]})]})]}),e.jsx("div",{className:"border-t pt-4",children:ee===n.id?e.jsxs("div",{className:"space-y-3 bg-sky-50 p-4 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-sky-600",children:"ğŸ“¬ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø£Ø³Ø±Ø©"}),e.jsx("textarea",{value:K,onChange:je=>x(je.target.value),placeholder:"Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...",className:"w-full border rounded-lg p-3 resize-none",rows:3}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>de(n,K),disabled:v===n.id||!K.trim(),className:"flex-1 bg-sky-500 hover:bg-sky-600 text-white py-2 rounded-xl font-semibold disabled:opacity-50",children:v===n.id?"Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...":"ğŸ“¬ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©"}),e.jsx("button",{onClick:()=>{M(null),x("")},className:"px-4 bg-gray-200 hover:bg-gray-300 rounded-xl",children:"Ø¥Ù„ØºØ§Ø¡"})]})]}):e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>M(n.id),className:"flex items-center gap-2 bg-sky-100 hover:bg-sky-200 text-sky-700 px-4 py-2 rounded-xl font-semibold transition",children:"ğŸ“¬ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©"}),n.ownerPhone&&e.jsx("a",{href:`https://wa.me/${n.ownerPhone.replace(/[^0-9]/g,"").replace(/^0/,"966")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-xl font-semibold transition",children:"ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨"}),!n.ownerPhone&&e.jsx("span",{className:"text-gray-400 text-sm self-center",children:"âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ù‚Ù… Ù‡Ø§ØªÙ"})]})}),n.status==="pending"&&e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsx("h4",{className:"font-bold text-amber-600",children:"ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ"}),Q===n.id?e.jsxs("div",{className:"space-y-3 bg-amber-50 p-4 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"ØµÙˆØ±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ (IBAN)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:je=>{var Le;return I(((Le=je.target.files)==null?void 0:Le[0])||null)},className:"w-full border rounded-lg p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Ù…Ø¨Ù„Øº Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ (Ø±ÙŠØ§Ù„)"}),e.jsx("input",{type:"number",value:ae,onChange:je=>$(Number(je.target.value)),className:"w-full border rounded-lg p-2",min:1})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>L(n.id),disabled:H===n.id||!q,className:"flex-1 bg-amber-500 hover:bg-amber-600 text-white py-2 rounded-xl font-semibold disabled:opacity-50",children:H===n.id?"Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...":"ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø£Ø³Ø±Ø©"}),e.jsx("button",{onClick:()=>{C(null),I(null)},className:"px-4 bg-gray-200 hover:bg-gray-300 rounded-xl",children:"Ø¥Ù„ØºØ§Ø¡"})]})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(n.id),className:"flex-1 bg-amber-500 hover:bg-amber-600 text-white py-3 rounded-xl font-semibold",children:"ğŸ¦ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ù†Ùƒ"}),e.jsx("button",{onClick:()=>xe(n),disabled:H===n.id,className:"px-6 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl font-semibold",children:"âŒ Ø±ÙØ¶"})]})]}),n.status==="bank_sent"&&e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[e.jsx("p",{className:"text-blue-700 font-semibold mb-2",children:"ğŸ¦ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ"}),e.jsxs("p",{className:"text-blue-600 text-sm",children:["Ø¨Ø§Ù†ØªØ¸Ø§Ø± ØªØ­ÙˆÙŠÙ„ Ù…Ø¨Ù„Øº ",n.subscriptionAmount," Ø±ÙŠØ§Ù„ Ù…Ù† Ø§Ù„Ø£Ø³Ø±Ø©"]}),n.bankAccountImageUrl&&e.jsxs("a",{href:n.bankAccountImageUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:underline mt-2 text-sm",children:[e.jsx($s,{className:"w-4 h-4"}),"Ø¹Ø±Ø¶ ØµÙˆØ±Ø© Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø±Ø³Ù„Ø©"]})]})}),n.status==="payment_sent"&&e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[e.jsx("p",{className:"text-purple-700 font-semibold mb-2",children:"ğŸ’³ Ø§Ù„Ø£Ø³Ø±Ø© Ø£Ø±Ø³Ù„Øª Ø¥Ø«Ø¨Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„"}),n.paymentProofImageUrl&&e.jsxs("a",{href:n.paymentProofImageUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white px-4 py-2 rounded-lg text-purple-600 hover:bg-purple-100 transition",children:[e.jsx($s,{className:"w-5 h-5"}),"Ø¹Ø±Ø¶ ØµÙˆØ±Ø© Ø¥Ø«Ø¨Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>re(n),disabled:H===n.id,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-3 rounded-xl font-bold disabled:opacity-50",children:H===n.id?"Ø¬Ø§Ø±Ù Ø§Ù„ØªÙØ¹ÙŠÙ„...":"âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø§Ù‚Ø©"}),e.jsx("button",{onClick:()=>xe(n),disabled:H===n.id,className:"px-6 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl font-semibold",children:"âŒ Ø±ÙØ¶"})]})]}),n.status==="approved"&&e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"bg-green-50 p-4 rounded-xl flex items-center gap-3",children:[e.jsx(ve,{className:"w-8 h-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 font-semibold",children:"âœ… Ø§Ù„Ø¨Ø§Ù‚Ø© Ù…ÙØ¹Ù‘Ù„Ø©"}),e.jsxs("p",{className:"text-green-600 text-sm",children:["ØªÙ†ØªÙ‡ÙŠ ÙÙŠ: ",((te=(O=(B=n.expiresAt)==null?void 0:B.toDate)==null?void 0:O.call(B))==null?void 0:te.toLocaleDateString("ar-SA"))||"-"]})]})]})}),n.status==="rejected"&&e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"bg-red-50 p-4 rounded-xl",children:[e.jsx("p",{className:"text-red-700 font-semibold",children:"âŒ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨"}),e.jsxs("p",{className:"text-red-600 text-sm",children:["Ø¨ØªØ§Ø±ÙŠØ®: ",((be=(Ie=(ue=n.rejectedAt)==null?void 0:ue.toDate)==null?void 0:Ie.call(ue))==null?void 0:be.toLocaleDateString("ar-SA"))||"-"]})]})})]})]},n.id)})})]})},Ge={premium:{displayName:"Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²",description:"Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø²Ø§ÙŠØ§ Ø­ØµØ±ÙŠØ© ÙˆØ¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©",isEnabled:!0,originalPrice:99,currentPrice:99,durationDays:30,discount:{isActive:!1,type:"percentage",value:0}},free:{displayName:"Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©",description:"Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ø¬Ø§Ù†Ø§Ù‹",isEnabled:!0,originalPrice:0,currentPrice:0,durationDays:0,discount:{isActive:!1,type:"percentage",value:0}},defaultPackage:"free"},Sa=({toast:j,dialog:i})=>{var K,x,ee,M,de,X,le,_,U,Z,V,L,re,xe,n,G,P;const[h,k]=d.useState(!0),[y,R]=d.useState(!1),[u,H]=d.useState(Ge),[W,q]=d.useState(null);d.useEffect(()=>{I()},[]);const I=async()=>{k(!0);try{const o=await Ts(F(p,"settings","packages"));if(o.exists()){const N=o.data();H({...Ge,...N,premium:{...Ge.premium,...N.premium},free:{...Ge.free,...N.free}})}}catch(o){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨Ø§Ù‚Ø§Øª:",o),j.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨Ø§Ù‚Ø§Øª")}finally{k(!1)}},ae=async()=>{var o;R(!0);try{const N={...u};if((o=N.premium.discount)!=null&&o.isActive&&N.premium.discount.value>0){const l=N.premium.discount;l.type==="percentage"?N.premium.currentPrice=N.premium.originalPrice-N.premium.originalPrice*l.value/100:N.premium.currentPrice=Math.max(0,N.premium.originalPrice-l.value)}else N.premium.currentPrice=N.premium.originalPrice;await Se(F(p,"settings","packages"),{...N,updatedAt:w()}),H(N),j.success("ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ âœ…")}catch(N){console.error("Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:",N),j.error(`ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸: ${N.message}`)}finally{R(!1)}},$=(o,N,l)=>{H(S=>({...S,[o]:{...S[o],[N]:l}}))},Q=(o,N,l)=>{H(S=>({...S,[o]:{...S[o],discount:{...S[o].discount,[N]:l}}}))},C=async()=>{await i.confirm("Ø³ÙŠØªÙ… Ø¬Ø¹Ù„ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ù…Ø¬Ø§Ù†ÙŠØ© (0 Ø±ÙŠØ§Ù„). Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ",{title:"ğŸ Ø¬Ø¹Ù„ Ø§Ù„Ø¨Ø§Ù‚Ø© Ù…Ø¬Ø§Ù†ÙŠØ©"})&&(H(N=>({...N,premium:{...N.premium,originalPrice:0,currentPrice:0,discount:{isActive:!1,type:"percentage",value:0}}})),j.success("ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ø¹Ø± Ø¹Ù„Ù‰ 0 Ø±ÙŠØ§Ù„. Ø§Ø¶ØºØ· Ø­ÙØ¸ Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª."))},v=o=>{var D,B,O,te;if(!(o!=null&&o.isActive))return!1;const N=new Date,l=((B=(D=o.startDate)==null?void 0:D.toDate)==null?void 0:B.call(D))||(o.startDate?new Date(o.startDate):null),S=((te=(O=o.endDate)==null?void 0:O.toDate)==null?void 0:te.call(O))||(o.endDate?new Date(o.endDate):null);return!(l&&N<l||S&&N>S)},A=o=>{if(!v(o.discount))return o.originalPrice;const N=o.discount;return N.type==="percentage"?o.originalPrice-o.originalPrice*N.value/100:Math.max(0,o.originalPrice-N.value)};return h?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-amber-200 border-t-amber-500 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨Ø§Ù‚Ø§Øª..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl flex items-center justify-center",children:e.jsx(Ft,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¨Ø§Ù‚Ø§Øª"}),e.jsx("p",{className:"text-gray-600",children:"ØªØ­ÙƒÙ… ÙÙŠ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª Ù…Ù† Ù‡Ù†Ø§"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:C,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-5 py-3 rounded-xl font-bold shadow-lg transition flex items-center gap-2",children:"ğŸ Ø¬Ø¹Ù„Ù‡Ø§ Ù…Ø¬Ø§Ù†ÙŠØ©"}),e.jsx("button",{onClick:ae,disabled:y,className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg transition disabled:opacity-50 flex items-center gap-2",children:y?"â³ Ø¬Ø§Ø±Ù Ø§Ù„Ø­ÙØ¸...":"ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-amber-500 p-5 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"ğŸ‘‘ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² (Premium)"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø© Ù…Ø¹ Ù…Ø²Ø§ÙŠØ§ Ø­ØµØ±ÙŠØ©"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-xl cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.premium.isEnabled,onChange:o=>$("premium","isEnabled",o.target.checked),className:"w-5 h-5 rounded"}),e.jsx("span",{className:"font-semibold",children:u.premium.isEnabled?"âœ… Ù…ÙØ¹Ù‘Ù„Ø©":"âŒ Ù…ÙˆÙ‚ÙˆÙØ©"})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ (Ø±ÙŠØ§Ù„)"}),e.jsx("input",{type:"number",min:"0",step:"1",value:u.premium.originalPrice,onChange:o=>$("premium","originalPrice",Number(o.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200 text-xl font-bold text-center"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ğŸ“… Ù…Ø¯Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ (ÙŠÙˆÙ…)"}),e.jsx("input",{type:"number",min:"1",value:u.premium.durationDays,onChange:o=>$("premium","durationDays",Number(o.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200 text-xl font-bold text-center"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ğŸ’µ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ"}),e.jsxs("div",{className:"w-full px-4 py-3 bg-green-50 border-2 border-green-300 rounded-xl text-xl font-bold text-center text-green-700",children:[A(u.premium).toFixed(0)," Ø±ÙŠØ§Ù„",v(u.premium.discount)&&e.jsx("span",{className:"text-sm text-green-600 block",children:"Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ğŸ“ ÙˆØµÙ Ø§Ù„Ø¨Ø§Ù‚Ø©"}),e.jsx("textarea",{value:u.premium.description||"",onChange:o=>$("premium","description",o.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200",rows:2,placeholder:"ÙˆØµÙ Ù‚ØµÙŠØ± Ù„Ù„Ø¨Ø§Ù‚Ø©..."})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-200 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ·ï¸"}),e.jsx("h4",{className:"text-lg font-bold text-red-700",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙ…"})]}),e.jsxs("label",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl cursor-pointer shadow",children:[e.jsx("input",{type:"checkbox",checked:((K=u.premium.discount)==null?void 0:K.isActive)||!1,onChange:o=>Q("premium","isActive",o.target.checked),className:"w-5 h-5 rounded accent-red-500"}),e.jsx("span",{className:"font-semibold text-red-700",children:(x=u.premium.discount)!=null&&x.isActive?"âœ… Ø§Ù„Ø®ØµÙ… Ù…ÙØ¹Ù‘Ù„":"â¸ï¸ Ø§Ù„Ø®ØµÙ… Ù…ÙˆÙ‚ÙˆÙ"})]})]}),((ee=u.premium.discount)==null?void 0:ee.isActive)&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ…"}),e.jsxs("select",{value:((M=u.premium.discount)==null?void 0:M.type)||"percentage",onChange:o=>Q("premium","type",o.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500",children:[e.jsx("option",{value:"percentage",children:"Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ© (%)"}),e.jsx("option",{value:"fixed",children:"Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª (Ø±ÙŠØ§Ù„)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ… ",((de=u.premium.discount)==null?void 0:de.type)==="percentage"?"(%)":"(Ø±ÙŠØ§Ù„)"]}),e.jsx("input",{type:"number",min:"0",max:((X=u.premium.discount)==null?void 0:X.type)==="percentage"?100:u.premium.originalPrice,value:((le=u.premium.discount)==null?void 0:le.value)||0,onChange:o=>Q("premium","value",Number(o.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500 text-lg font-bold text-center"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ğŸ“… ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø®ØµÙ…"}),e.jsx("input",{type:"date",value:(_=u.premium.discount)!=null&&_.startDate?typeof u.premium.discount.startDate=="string"?u.premium.discount.startDate:((V=(Z=(U=u.premium.discount.startDate).toDate)==null?void 0:Z.call(U))==null?void 0:V.toISOString().split("T")[0])||"":"",onChange:o=>Q("premium","startDate",o.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ğŸ“… ØªØ§Ø±ÙŠØ® Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø®ØµÙ…"}),e.jsx("input",{type:"date",value:(L=u.premium.discount)!=null&&L.endDate?typeof u.premium.discount.endDate=="string"?u.premium.discount.endDate:((n=(xe=(re=u.premium.discount.endDate).toDate)==null?void 0:xe.call(re))==null?void 0:n.toISOString().split("T")[0])||"":"",onChange:o=>Q("premium","endDate",o.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ğŸ·ï¸ ÙˆØ³Ù…/Ø³Ø¨Ø¨ Ø§Ù„Ø®ØµÙ… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("input",{type:"text",value:((G=u.premium.discount)==null?void 0:G.label)||"",onChange:o=>Q("premium","label",o.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500",placeholder:"Ù…Ø«Ø§Ù„: Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ØŒ Ø®ØµÙ… Ø±Ù…Ø¶Ø§Ù†..."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border-2 border-dashed border-red-300",children:[e.jsxs("p",{className:"text-center text-lg",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:[u.premium.originalPrice," Ø±ÙŠØ§Ù„"]}),e.jsx("span",{className:"mx-3",children:"â†’"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[A(u.premium).toFixed(0)," Ø±ÙŠØ§Ù„"]}),((P=u.premium.discount)==null?void 0:P.label)&&e.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full mr-2",children:u.premium.discount.label})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:v(u.premium.discount)?"âœ… Ø§Ù„Ø®ØµÙ… Ù†Ø´Ø· Ø­Ø§Ù„ÙŠØ§Ù‹":"â¸ï¸ Ø§Ù„Ø®ØµÙ… ØºÙŠØ± Ù†Ø´Ø· (ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®)"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 p-5 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"ğŸ“¦ Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ© (Free)"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ…"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-xl cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.free.isEnabled,onChange:o=>$("free","isEnabled",o.target.checked),className:"w-5 h-5 rounded"}),e.jsx("span",{className:"font-semibold",children:u.free.isEnabled?"âœ… Ù…ÙØ¹Ù‘Ù„Ø©":"âŒ Ù…ÙˆÙ‚ÙˆÙØ©"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-green-700 font-bold text-lg",children:"âœ… Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ø§Ù‚Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ø¯Ø§Ø¦Ù…Ø§Ù‹"}),e.jsx("p",{className:"text-green-600 text-sm",children:"Ù„Ø§ ÙŠØªØ·Ù„Ø¨ Ø¯ÙØ¹ Ø£ÙŠ Ø±Ø³ÙˆÙ…"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 rounded-2xl p-6 border-2 border-sky-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-sky-800 mb-4 flex items-center gap-2",children:[e.jsx(va,{className:"w-5 h-5"}),"Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ©"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold",children:"ğŸ‘‘ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${u.premium.isEnabled?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.premium.isEnabled?"Ù…ÙØ¹Ù‘Ù„Ø©":"Ù…ÙˆÙ‚ÙˆÙØ©"})]}),e.jsxs("p",{className:"text-3xl font-bold text-amber-600 mt-2",children:[A(u.premium).toFixed(0)," Ø±ÙŠØ§Ù„",v(u.premium.discount)&&e.jsx("span",{className:"text-sm text-red-500 mr-2 bg-red-50 px-2 py-1 rounded-full",children:"Ø®ØµÙ…!"})]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Ù„Ù…Ø¯Ø© ",u.premium.durationDays," ÙŠÙˆÙ…"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold",children:"ğŸ“¦ Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${u.free.isEnabled?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.free.isEnabled?"Ù…ÙØ¹Ù‘Ù„Ø©":"Ù…ÙˆÙ‚ÙˆÙØ©"})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"Ù…Ø¬Ø§Ù†Ø§Ù‹"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ…"})]})]})]})]})},Re=({icon:j,value:i,label:h,color:k})=>{const y={sky:"bg-sky-500/20 text-sky-300",emerald:"bg-emerald-500/20 text-emerald-300",purple:"bg-purple-500/20 text-purple-300",orange:"bg-orange-500/20 text-orange-300",amber:"bg-amber-500/20 text-amber-300",green:"bg-green-500/20 text-green-300"};return e.jsxs("div",{className:`${y[k]} rounded-xl p-3 backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[j,e.jsx("span",{className:"text-xl font-bold text-white",children:i})]}),e.jsx("p",{className:"text-xs text-white/60 mt-1",children:h})]})},Ke=({title:j,value:i,change:h,subtitle:k,icon:y,color:R})=>{const u={emerald:"from-emerald-500 to-teal-600",sky:"from-sky-500 to-blue-600",amber:"from-amber-500 to-orange-600",purple:"from-purple-500 to-indigo-600",red:"from-red-500 to-rose-600"};return e.jsxs("div",{className:`relative overflow-hidden bg-gradient-to-br ${u[R]} rounded-2xl p-5 text-white shadow-lg`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:y}),h!==void 0&&e.jsxs("div",{className:`flex items-center gap-1 text-sm ${h>=0?"text-green-200":"text-red-200"}`,children:[h>=0?e.jsx(fa,{className:"w-4 h-4"}):e.jsx(Na,{className:"w-4 h-4"}),Math.abs(h),"%"]})]}),e.jsx("p",{className:"text-2xl font-bold",children:i}),e.jsx("p",{className:"text-white/70 text-sm mt-1",children:k||j})]})]})},Xe=({icon:j,value:i,label:h,bgColor:k})=>e.jsxs("div",{className:`${k} rounded-xl p-4 flex items-center gap-3`,children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:j}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:i}),e.jsx("p",{className:"text-sm text-slate-500",children:h})]})]});export{Ba as Developer,Ba as default};
